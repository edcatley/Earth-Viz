var y_=Object.defineProperty;var w_=(t,n,e)=>n in t?y_(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var At=(t,n,e)=>w_(t,typeof n!="symbol"?n+"":n,e);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();var Oh="1.13.7",Yg=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Vs=Array.prototype,Fh=Object.prototype,Vg=typeof Symbol<"u"?Symbol.prototype:null,__=Vs.push,nu=Vs.slice,$a=Fh.toString,b_=Fh.hasOwnProperty,$m=typeof ArrayBuffer<"u",M_=typeof DataView<"u",x_=Array.isArray,Wg=Object.keys,Xg=Object.create,Zg=$m&&ArrayBuffer.isView,S_=isNaN,E_=isFinite,Am=!{toString:null}.propertyIsEnumerable("toString"),Kg=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],$_=Math.pow(2,53)-1;function Qn(t,n){return n=n==null?t.length-1:+n,function(){for(var e=Math.max(arguments.length-n,0),r=Array(e),i=0;i<e;i++)r[i]=arguments[i+n];switch(n){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(n+1);for(i=0;i<n;i++)o[i]=arguments[i];return o[n]=r,t.apply(this,o)}}function Kr(t){var n=typeof t;return n==="function"||n==="object"&&!!t}function Pm(t){return t===null}function Lh(t){return t===void 0}function qh(t){return t===!0||t===!1||$a.call(t)==="[object Boolean]"}function Tm(t){return!!(t&&t.nodeType===1)}function On(t){var n="[object "+t+"]";return function(e){return $a.call(e)===n}}const Ws=On("String"),Uh=On("Number"),Rm=On("Date"),Nm=On("RegExp"),Cm=On("Error"),Gh=On("Symbol"),Hh=On("ArrayBuffer");var km=On("Function"),A_=Yg.document&&Yg.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof A_!="function"&&(km=function(t){return typeof t=="function"||!1});const Dn=km,Im=On("Object");var zm=M_&&(!/\[native code\]/.test(String(DataView))||Im(new DataView(new ArrayBuffer(8)))),Bh=typeof Map<"u"&&Im(new Map),P_=On("DataView");function T_(t){return t!=null&&Dn(t.getInt8)&&Hh(t.buffer)}const Aa=zm?T_:P_,Qr=x_||On("Array");function Jr(t,n){return t!=null&&b_.call(t,n)}var l0=On("Arguments");(function(){l0(arguments)||(l0=function(t){return Jr(t,"callee")})})();const Xs=l0;function Dm(t){return!Gh(t)&&E_(t)&&!isNaN(parseFloat(t))}function Yh(t){return Uh(t)&&S_(t)}function Vh(t){return function(){return t}}function Om(t){return function(n){var e=t(n);return typeof e=="number"&&e>=0&&e<=$_}}function Fm(t){return function(n){return n==null?void 0:n[t]}}const bc=Fm("byteLength"),R_=Om(bc);var N_=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function C_(t){return Zg?Zg(t)&&!Aa(t):R_(t)&&N_.test($a.call(t))}const Wh=$m?C_:Vh(!1),fe=Fm("length");function k_(t){for(var n={},e=t.length,r=0;r<e;++r)n[t[r]]=!0;return{contains:function(i){return n[i]===!0},push:function(i){return n[i]=!0,t.push(i)}}}function Lm(t,n){n=k_(n);var e=Kg.length,r=t.constructor,i=Dn(r)&&r.prototype||Fh,o="constructor";for(Jr(t,o)&&!n.contains(o)&&n.push(o);e--;)o=Kg[e],o in t&&t[o]!==i[o]&&!n.contains(o)&&n.push(o)}function vn(t){if(!Kr(t))return[];if(Wg)return Wg(t);var n=[];for(var e in t)Jr(t,e)&&n.push(e);return Am&&Lm(t,n),n}function qm(t){if(t==null)return!0;var n=fe(t);return typeof n=="number"&&(Qr(t)||Ws(t)||Xs(t))?n===0:fe(vn(t))===0}function Xh(t,n){var e=vn(n),r=e.length;if(t==null)return!r;for(var i=Object(t),o=0;o<r;o++){var a=e[o];if(n[a]!==i[a]||!(a in i))return!1}return!0}function Gt(t){if(t instanceof Gt)return t;if(!(this instanceof Gt))return new Gt(t);this._wrapped=t}Gt.VERSION=Oh;Gt.prototype.value=function(){return this._wrapped};Gt.prototype.valueOf=Gt.prototype.toJSON=Gt.prototype.value;Gt.prototype.toString=function(){return String(this._wrapped)};function Qg(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,bc(t))}var Jg="[object DataView]";function h0(t,n,e,r){if(t===n)return t!==0||1/t===1/n;if(t==null||n==null)return!1;if(t!==t)return n!==n;var i=typeof t;return i!=="function"&&i!=="object"&&typeof n!="object"?!1:Um(t,n,e,r)}function Um(t,n,e,r){t instanceof Gt&&(t=t._wrapped),n instanceof Gt&&(n=n._wrapped);var i=$a.call(t);if(i!==$a.call(n))return!1;if(zm&&i=="[object Object]"&&Aa(t)){if(!Aa(n))return!1;i=Jg}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:+t==0?1/+t===1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return Vg.valueOf.call(t)===Vg.valueOf.call(n);case"[object ArrayBuffer]":case Jg:return Um(Qg(t),Qg(n),e,r)}var o=i==="[object Array]";if(!o&&Wh(t)){var a=bc(t);if(a!==bc(n))return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;o=!0}if(!o){if(typeof t!="object"||typeof n!="object")return!1;var u=t.constructor,s=n.constructor;if(u!==s&&!(Dn(u)&&u instanceof u&&Dn(s)&&s instanceof s)&&"constructor"in t&&"constructor"in n)return!1}e=e||[],r=r||[];for(var c=e.length;c--;)if(e[c]===t)return r[c]===n;if(e.push(t),r.push(n),o){if(c=t.length,c!==n.length)return!1;for(;c--;)if(!h0(t[c],n[c],e,r))return!1}else{var f=vn(t),h;if(c=f.length,vn(n).length!==c)return!1;for(;c--;)if(h=f[c],!(Jr(n,h)&&h0(t[h],n[h],e,r)))return!1}return e.pop(),r.pop(),!0}function Gm(t,n){return h0(t,n)}function Lo(t){if(!Kr(t))return[];var n=[];for(var e in t)n.push(e);return Am&&Lm(t,n),n}function Zh(t){var n=fe(t);return function(e){if(e==null)return!1;var r=Lo(e);if(fe(r))return!1;for(var i=0;i<n;i++)if(!Dn(e[t[i]]))return!1;return t!==Ym||!Dn(e[Kh])}}var Kh="forEach",Hm="has",Qh=["clear","delete"],Bm=["get",Hm,"set"],I_=Qh.concat(Kh,Bm),Ym=Qh.concat(Bm),z_=["add"].concat(Qh,Kh,Hm);const Vm=Bh?Zh(I_):On("Map"),Wm=Bh?Zh(Ym):On("WeakMap"),Xm=Bh?Zh(z_):On("Set"),Zm=On("WeakSet");function ki(t){for(var n=vn(t),e=n.length,r=Array(e),i=0;i<e;i++)r[i]=t[n[i]];return r}function Km(t){for(var n=vn(t),e=n.length,r=Array(e),i=0;i<e;i++)r[i]=[n[i],t[n[i]]];return r}function Jh(t){for(var n={},e=vn(t),r=0,i=e.length;r<i;r++)n[t[e[r]]]=e[r];return n}function Pa(t){var n=[];for(var e in t)Dn(t[e])&&n.push(e);return n.sort()}function jh(t,n){return function(e){var r=arguments.length;if(n&&(e=Object(e)),r<2||e==null)return e;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),u=a.length,s=0;s<u;s++){var c=a[s];(!n||e[c]===void 0)&&(e[c]=o[c])}return e}}const t1=jh(Lo),po=jh(vn),n1=jh(Lo,!0);function D_(){return function(){}}function Qm(t){if(!Kr(t))return{};if(Xg)return Xg(t);var n=D_();n.prototype=t;var e=new n;return n.prototype=null,e}function Jm(t,n){var e=Qm(t);return n&&po(e,n),e}function jm(t){return Kr(t)?Qr(t)?t.slice():t1({},t):t}function ty(t,n){return n(t),t}function e1(t){return Qr(t)?t:[t]}Gt.toPath=e1;function eu(t){return Gt.toPath(t)}function r1(t,n){for(var e=n.length,r=0;r<e;r++){if(t==null)return;t=t[n[r]]}return e?t:void 0}function i1(t,n,e){var r=r1(t,eu(n));return Lh(r)?e:r}function ny(t,n){n=eu(n);for(var e=n.length,r=0;r<e;r++){var i=n[r];if(!Jr(t,i))return!1;t=t[i]}return!!e}function Zs(t){return t}function _i(t){return t=po({},t),function(n){return Xh(n,t)}}function Ks(t){return t=eu(t),function(n){return r1(n,t)}}function ru(t,n,e){if(n===void 0)return t;switch(e??3){case 1:return function(r){return t.call(n,r)};case 3:return function(r,i,o){return t.call(n,r,i,o)};case 4:return function(r,i,o,a){return t.call(n,r,i,o,a)}}return function(){return t.apply(n,arguments)}}function ey(t,n,e){return t==null?Zs:Dn(t)?ru(t,n,e):Kr(t)&&!Qr(t)?_i(t):Ks(t)}function Qs(t,n){return ey(t,n,1/0)}Gt.iteratee=Qs;function le(t,n,e){return Gt.iteratee!==Qs?Gt.iteratee(t,n):ey(t,n,e)}function ry(t,n,e){n=le(n,e);for(var r=vn(t),i=r.length,o={},a=0;a<i;a++){var u=r[a];o[u]=n(t[u],u,t)}return o}function o1(){}function iy(t){return t==null?o1:function(n){return i1(t,n)}}function oy(t,n,e){var r=Array(Math.max(0,t));n=ru(n,e,1);for(var i=0;i<t;i++)r[i]=n(i);return r}function Mc(t,n){return n==null&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))}const vo=Date.now||function(){return new Date().getTime()};function ay(t){var n=function(o){return t[o]},e="(?:"+vn(t).join("|")+")",r=RegExp(e),i=RegExp(e,"g");return function(o){return o=o==null?"":""+o,r.test(o)?o.replace(i,n):o}}const uy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},cy=ay(uy),O_=Jh(uy),sy=ay(O_),fy=Gt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ul=/(.)^/,F_={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L_=/\\|'|\r|\n|\u2028|\u2029/g;function q_(t){return"\\"+F_[t]}var U_=/^\s*(\w|\$)+\s*$/;function ly(t,n,e){!n&&e&&(n=e),n=n1({},n,Gt.templateSettings);var r=RegExp([(n.escape||ul).source,(n.interpolate||ul).source,(n.evaluate||ul).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(c,f,h,l,d){return o+=t.slice(i,d).replace(L_,q_),i=d+c.length,f?o+=`'+
((__t=(`+f+`))==null?'':_.escape(__t))+
'`:h?o+=`'+
((__t=(`+h+`))==null?'':__t)+
'`:l&&(o+=`';
`+l+`
__p+='`),c}),o+=`';
`;var a=n.variable;if(a){if(!U_.test(a))throw new Error("variable is not a bare identifier: "+a)}else o=`with(obj||{}){
`+o+`}
`,a="obj";o=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+o+`return __p;
`;var u;try{u=new Function(a,"_",o)}catch(c){throw c.source=o,c}var s=function(c){return u.call(this,c,Gt)};return s.source="function("+a+`){
`+o+"}",s}function hy(t,n,e){n=eu(n);var r=n.length;if(!r)return Dn(e)?e.call(t):e;for(var i=0;i<r;i++){var o=t==null?void 0:t[n[i]];o===void 0&&(o=e,i=r),t=Dn(o)?o.call(t):o}return t}var G_=0;function dy(t){var n=++G_+"";return t?t+n:n}function gy(t){var n=Gt(t);return n._chain=!0,n}function py(t,n,e,r,i){if(!(r instanceof n))return t.apply(e,i);var o=Qm(t.prototype),a=t.apply(o,i);return Kr(a)?a:o}var Ii=Qn(function(t,n){var e=Ii.placeholder,r=function(){for(var i=0,o=n.length,a=Array(o),u=0;u<o;u++)a[u]=n[u]===e?arguments[i++]:n[u];for(;i<arguments.length;)a.push(arguments[i++]);return py(t,r,this,this,a)};return r});Ii.placeholder=Gt;const a1=Qn(function(t,n,e){if(!Dn(t))throw new TypeError("Bind must be called on a function");var r=Qn(function(i){return py(t,r,n,this,e.concat(i))});return r}),_e=Om(fe);function zi(t,n,e,r){if(r=r||[],!n&&n!==0)n=1/0;else if(n<=0)return r.concat(t);for(var i=r.length,o=0,a=fe(t);o<a;o++){var u=t[o];if(_e(u)&&(Qr(u)||Xs(u)))if(n>1)zi(u,n-1,e,r),i=r.length;else for(var s=0,c=u.length;s<c;)r[i++]=u[s++];else e||(r[i++]=u)}return r}const vy=Qn(function(t,n){n=zi(n,!1,!1);var e=n.length;if(e<1)throw new Error("bindAll must be passed function names");for(;e--;){var r=n[e];t[r]=a1(t[r],t)}return t});function my(t,n){var e=function(r){var i=e.cache,o=""+(n?n.apply(this,arguments):r);return Jr(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return e.cache={},e}const u1=Qn(function(t,n,e){return setTimeout(function(){return t.apply(null,e)},n)}),yy=Ii(u1,Gt,1);function wy(t,n,e){var r,i,o,a,u=0;e||(e={});var s=function(){u=e.leading===!1?0:vo(),r=null,a=t.apply(i,o),r||(i=o=null)},c=function(){var f=vo();!u&&e.leading===!1&&(u=f);var h=n-(f-u);return i=this,o=arguments,h<=0||h>n?(r&&(clearTimeout(r),r=null),u=f,a=t.apply(i,o),r||(i=o=null)):!r&&e.trailing!==!1&&(r=setTimeout(s,h)),a};return c.cancel=function(){clearTimeout(r),u=0,r=i=o=null},c}function _y(t,n,e){var r,i,o,a,u,s=function(){var f=vo()-i;n>f?r=setTimeout(s,n-f):(r=null,e||(a=t.apply(u,o)),r||(o=u=null))},c=Qn(function(f){return u=this,o=f,i=vo(),r||(r=setTimeout(s,n),e&&(a=t.apply(u,o))),a});return c.cancel=function(){clearTimeout(r),r=o=u=null},c}function by(t,n){return Ii(n,t)}function Js(t){return function(){return!t.apply(this,arguments)}}function My(){var t=arguments,n=t.length-1;return function(){for(var e=n,r=t[n].apply(this,arguments);e--;)r=t[e].call(this,r);return r}}function xy(t,n){return function(){if(--t<1)return n.apply(this,arguments)}}function c1(t,n){var e;return function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=null),e}}const Sy=Ii(c1,2);function s1(t,n,e){n=le(n,e);for(var r=vn(t),i,o=0,a=r.length;o<a;o++)if(i=r[o],n(t[i],i,t))return i}function Ey(t){return function(n,e,r){e=le(e,r);for(var i=fe(n),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(e(n[o],o,n))return o;return-1}}const js=Ey(1),f1=Ey(-1);function l1(t,n,e,r){e=le(e,r,1);for(var i=e(n),o=0,a=fe(t);o<a;){var u=Math.floor((o+a)/2);e(t[u])<i?o=u+1:a=u}return o}function $y(t,n,e){return function(r,i,o){var a=0,u=fe(r);if(typeof o=="number")t>0?a=o>=0?o:Math.max(o+u,a):u=o>=0?Math.min(o+1,u):o+u+1;else if(e&&o&&u)return o=e(r,i),r[o]===i?o:-1;if(i!==i)return o=n(nu.call(r,a,u),Yh),o>=0?o+a:-1;for(o=t>0?a:u-1;o>=0&&o<u;o+=t)if(r[o]===i)return o;return-1}}const h1=$y(1,js,l1),Ay=$y(-1,f1);function Ta(t,n,e){var r=_e(t)?js:s1,i=r(t,n,e);if(i!==void 0&&i!==-1)return t[i]}function Py(t,n){return Ta(t,_i(n))}function qe(t,n,e){n=ru(n,e);var r,i;if(_e(t))for(r=0,i=t.length;r<i;r++)n(t[r],r,t);else{var o=vn(t);for(r=0,i=o.length;r<i;r++)n(t[o[r]],o[r],t)}return t}function xr(t,n,e){n=le(n,e);for(var r=!_e(t)&&vn(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var u=r?r[a]:a;o[a]=n(t[u],u,t)}return o}function Ty(t){var n=function(e,r,i,o){var a=!_e(e)&&vn(e),u=(a||e).length,s=t>0?0:u-1;for(o||(i=e[a?a[s]:s],s+=t);s>=0&&s<u;s+=t){var c=a?a[s]:s;i=r(i,e[c],c,e)}return i};return function(e,r,i,o){var a=arguments.length>=3;return n(e,ru(r,o,4),i,a)}}const ro=Ty(1),xc=Ty(-1);function Hr(t,n,e){var r=[];return n=le(n,e),qe(t,function(i,o,a){n(i,o,a)&&r.push(i)}),r}function Ry(t,n,e){return Hr(t,Js(le(n)),e)}function Sc(t,n,e){n=le(n,e);for(var r=!_e(t)&&vn(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!n(t[a],a,t))return!1}return!0}function Ec(t,n,e){n=le(n,e);for(var r=!_e(t)&&vn(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(n(t[a],a,t))return!0}return!1}function Re(t,n,e,r){return _e(t)||(t=ki(t)),(typeof e!="number"||r)&&(e=0),h1(t,n,e)>=0}const Ny=Qn(function(t,n,e){var r,i;return Dn(n)?i=n:(n=eu(n),r=n.slice(0,-1),n=n[n.length-1]),xr(t,function(o){var a=i;if(!a){if(r&&r.length&&(o=r1(o,r)),o==null)return;a=o[n]}return a==null?a:a.apply(o,e)})});function tf(t,n){return xr(t,Ks(n))}function Cy(t,n){return Hr(t,_i(n))}function d1(t,n,e){var r=-1/0,i=-1/0,o,a;if(n==null||typeof n=="number"&&typeof t[0]!="object"&&t!=null){t=_e(t)?t:ki(t);for(var u=0,s=t.length;u<s;u++)o=t[u],o!=null&&o>r&&(r=o)}else n=le(n,e),qe(t,function(c,f,h){a=n(c,f,h),(a>i||a===-1/0&&r===-1/0)&&(r=c,i=a)});return r}function ky(t,n,e){var r=1/0,i=1/0,o,a;if(n==null||typeof n=="number"&&typeof t[0]!="object"&&t!=null){t=_e(t)?t:ki(t);for(var u=0,s=t.length;u<s;u++)o=t[u],o!=null&&o<r&&(r=o)}else n=le(n,e),qe(t,function(c,f,h){a=n(c,f,h),(a<i||a===1/0&&r===1/0)&&(r=c,i=a)});return r}var H_=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function g1(t){return t?Qr(t)?nu.call(t):Ws(t)?t.match(H_):_e(t)?xr(t,Zs):ki(t):[]}function p1(t,n,e){if(n==null||e)return _e(t)||(t=ki(t)),t[Mc(t.length-1)];var r=g1(t),i=fe(r);n=Math.max(Math.min(n,i),0);for(var o=i-1,a=0;a<n;a++){var u=Mc(a,o),s=r[a];r[a]=r[u],r[u]=s}return r.slice(0,n)}function Iy(t){return p1(t,1/0)}function zy(t,n,e){var r=0;return n=le(n,e),tf(xr(t,function(i,o,a){return{value:i,index:r++,criteria:n(i,o,a)}}).sort(function(i,o){var a=i.criteria,u=o.criteria;if(a!==u){if(a>u||a===void 0)return 1;if(a<u||u===void 0)return-1}return i.index-o.index}),"value")}function nf(t,n){return function(e,r,i){var o=n?[[],[]]:{};return r=le(r,i),qe(e,function(a,u){var s=r(a,u,e);t(o,a,s)}),o}}const Dy=nf(function(t,n,e){Jr(t,e)?t[e].push(n):t[e]=[n]}),Oy=nf(function(t,n,e){t[e]=n}),Fy=nf(function(t,n,e){Jr(t,e)?t[e]++:t[e]=1}),Ly=nf(function(t,n,e){t[e?0:1].push(n)},!0);function qy(t){return t==null?0:_e(t)?t.length:vn(t).length}function B_(t,n,e){return n in e}const v1=Qn(function(t,n){var e={},r=n[0];if(t==null)return e;Dn(r)?(n.length>1&&(r=ru(r,n[1])),n=Lo(t)):(r=B_,n=zi(n,!1,!1),t=Object(t));for(var i=0,o=n.length;i<o;i++){var a=n[i],u=t[a];r(u,a,t)&&(e[a]=u)}return e}),Uy=Qn(function(t,n){var e=n[0],r;return Dn(e)?(e=Js(e),n.length>1&&(r=n[1])):(n=xr(zi(n,!1,!1),String),e=function(i,o){return!Re(n,o)}),v1(t,e,r)});function m1(t,n,e){return nu.call(t,0,Math.max(0,t.length-(n==null||e?1:n)))}function io(t,n,e){return t==null||t.length<1?n==null||e?void 0:[]:n==null||e?t[0]:m1(t,t.length-n)}function vi(t,n,e){return nu.call(t,n==null||e?1:n)}function Gy(t,n,e){return t==null||t.length<1?n==null||e?void 0:[]:n==null||e?t[t.length-1]:vi(t,Math.max(0,t.length-n))}function Hy(t){return Hr(t,Boolean)}function By(t,n){return zi(t,n,!1)}const y1=Qn(function(t,n){return n=zi(n,!0,!0),Hr(t,function(e){return!Re(n,e)})}),Yy=Qn(function(t,n){return y1(t,n)});function Ra(t,n,e,r){qh(n)||(r=e,e=n,n=!1),e!=null&&(e=le(e,r));for(var i=[],o=[],a=0,u=fe(t);a<u;a++){var s=t[a],c=e?e(s,a,t):s;n&&!e?((!a||o!==c)&&i.push(s),o=c):e?Re(o,c)||(o.push(c),i.push(s)):Re(i,s)||i.push(s)}return i}const Vy=Qn(function(t){return Ra(zi(t,!0,!0))});function Wy(t){for(var n=[],e=arguments.length,r=0,i=fe(t);r<i;r++){var o=t[r];if(!Re(n,o)){var a;for(a=1;a<e&&Re(arguments[a],o);a++);a===e&&n.push(o)}}return n}function Na(t){for(var n=t&&d1(t,fe).length||0,e=Array(n),r=0;r<n;r++)e[r]=tf(t,r);return e}const Xy=Qn(Na);function Zy(t,n){for(var e={},r=0,i=fe(t);r<i;r++)n?e[t[r]]=n[r]:e[t[r][0]]=t[r][1];return e}function Ky(t,n,e){n==null&&(n=t||0,t=0),e||(e=n<t?-1:1);for(var r=Math.max(Math.ceil((n-t)/e),0),i=Array(r),o=0;o<r;o++,t+=e)i[o]=t;return i}function Qy(t,n){if(n==null||n<1)return[];for(var e=[],r=0,i=t.length;r<i;)e.push(nu.call(t,r,r+=n));return e}function w1(t,n){return t._chain?Gt(n).chain():n}function _1(t){return qe(Pa(t),function(n){var e=Gt[n]=t[n];Gt.prototype[n]=function(){var r=[this._wrapped];return __.apply(r,arguments),w1(this,e.apply(Gt,r))}}),Gt}qe(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=Vs[t];Gt.prototype[t]=function(){var e=this._wrapped;return e!=null&&(n.apply(e,arguments),(t==="shift"||t==="splice")&&e.length===0&&delete e[0]),w1(this,e)}});qe(["concat","join","slice"],function(t){var n=Vs[t];Gt.prototype[t]=function(){var e=this._wrapped;return e!=null&&(e=n.apply(e,arguments)),w1(this,e)}});const Y_=Object.freeze(Object.defineProperty({__proto__:null,VERSION:Oh,after:xy,all:Sc,allKeys:Lo,any:Ec,assign:po,before:c1,bind:a1,bindAll:vy,chain:gy,chunk:Qy,clone:jm,collect:xr,compact:Hy,compose:My,constant:Vh,contains:Re,countBy:Fy,create:Jm,debounce:_y,default:Gt,defaults:n1,defer:yy,delay:u1,detect:Ta,difference:y1,drop:vi,each:qe,escape:cy,every:Sc,extend:t1,extendOwn:po,filter:Hr,find:Ta,findIndex:js,findKey:s1,findLastIndex:f1,findWhere:Py,first:io,flatten:By,foldl:ro,foldr:xc,forEach:qe,functions:Pa,get:i1,groupBy:Dy,has:ny,head:io,identity:Zs,include:Re,includes:Re,indexBy:Oy,indexOf:h1,initial:m1,inject:ro,intersection:Wy,invert:Jh,invoke:Ny,isArguments:Xs,isArray:Qr,isArrayBuffer:Hh,isBoolean:qh,isDataView:Aa,isDate:Rm,isElement:Tm,isEmpty:qm,isEqual:Gm,isError:Cm,isFinite:Dm,isFunction:Dn,isMap:Vm,isMatch:Xh,isNaN:Yh,isNull:Pm,isNumber:Uh,isObject:Kr,isRegExp:Nm,isSet:Xm,isString:Ws,isSymbol:Gh,isTypedArray:Wh,isUndefined:Lh,isWeakMap:Wm,isWeakSet:Zm,iteratee:Qs,keys:vn,last:Gy,lastIndexOf:Ay,map:xr,mapObject:ry,matcher:_i,matches:_i,max:d1,memoize:my,methods:Pa,min:ky,mixin:_1,negate:Js,noop:o1,now:vo,object:Zy,omit:Uy,once:Sy,pairs:Km,partial:Ii,partition:Ly,pick:v1,pluck:tf,property:Ks,propertyOf:iy,random:Mc,range:Ky,reduce:ro,reduceRight:xc,reject:Ry,rest:vi,restArguments:Qn,result:hy,sample:p1,select:Hr,shuffle:Iy,size:qy,some:Ec,sortBy:zy,sortedIndex:l1,tail:vi,take:io,tap:ty,template:ly,templateSettings:fy,throttle:wy,times:oy,toArray:g1,toPath:e1,transpose:Na,unescape:sy,union:Vy,uniq:Ra,unique:Ra,uniqueId:dy,unzip:Na,values:ki,where:Cy,without:Yy,wrap:by,zip:Xy},Symbol.toStringTag,{value:"Module"}));var $c=_1(Y_);$c._=$c;const V_=Object.freeze(Object.defineProperty({__proto__:null,VERSION:Oh,after:xy,all:Sc,allKeys:Lo,any:Ec,assign:po,before:c1,bind:a1,bindAll:vy,chain:gy,chunk:Qy,clone:jm,collect:xr,compact:Hy,compose:My,constant:Vh,contains:Re,countBy:Fy,create:Jm,debounce:_y,default:$c,defaults:n1,defer:yy,delay:u1,detect:Ta,difference:y1,drop:vi,each:qe,escape:cy,every:Sc,extend:t1,extendOwn:po,filter:Hr,find:Ta,findIndex:js,findKey:s1,findLastIndex:f1,findWhere:Py,first:io,flatten:By,foldl:ro,foldr:xc,forEach:qe,functions:Pa,get:i1,groupBy:Dy,has:ny,head:io,identity:Zs,include:Re,includes:Re,indexBy:Oy,indexOf:h1,initial:m1,inject:ro,intersection:Wy,invert:Jh,invoke:Ny,isArguments:Xs,isArray:Qr,isArrayBuffer:Hh,isBoolean:qh,isDataView:Aa,isDate:Rm,isElement:Tm,isEmpty:qm,isEqual:Gm,isError:Cm,isFinite:Dm,isFunction:Dn,isMap:Vm,isMatch:Xh,isNaN:Yh,isNull:Pm,isNumber:Uh,isObject:Kr,isRegExp:Nm,isSet:Xm,isString:Ws,isSymbol:Gh,isTypedArray:Wh,isUndefined:Lh,isWeakMap:Wm,isWeakSet:Zm,iteratee:Qs,keys:vn,last:Gy,lastIndexOf:Ay,map:xr,mapObject:ry,matcher:_i,matches:_i,max:d1,memoize:my,methods:Pa,min:ky,mixin:_1,negate:Js,noop:o1,now:vo,object:Zy,omit:Uy,once:Sy,pairs:Km,partial:Ii,partition:Ly,pick:v1,pluck:tf,property:Ks,propertyOf:iy,random:Mc,range:Ky,reduce:ro,reduceRight:xc,reject:Ry,rest:vi,restArguments:Qn,result:hy,sample:p1,select:Hr,shuffle:Iy,size:qy,some:Ec,sortBy:zy,sortedIndex:l1,tail:vi,take:io,tap:ty,template:ly,templateSettings:fy,throttle:wy,times:oy,toArray:g1,toPath:e1,transpose:Na,unescape:sy,union:Vy,uniq:Ra,unique:Ra,uniqueId:dy,unzip:Na,values:ki,where:Cy,without:Yy,wrap:by,zip:Xy},Symbol.toStringTag,{value:"Module"}));var Mu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function W_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function X_(t){if(t.__esModule)return t;var n=t.default;if(typeof n=="function"){var e=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};e.prototype=n.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),e}var Jy={};const Z_=X_(V_);(function(t){(function(n){var e=typeof self=="object"&&self.self===self&&self||typeof Mu=="object"&&Mu.global===Mu&&Mu;{var r=Z_,i;try{i=require("jquery")}catch{}n(e,t,r,i)}})(function(n,e,r,i){var o=n.Backbone,a=Array.prototype.slice;e.VERSION="1.6.1",e.$=i,e.noConflict=function(){return n.Backbone=o,this},e.emulateHTTP=!1,e.emulateJSON=!1;var u=e.Events={},s=/\s+/,c,f=function(b,S,R,D,W){var Z=0,at;if(R&&typeof R=="object")for(D!==void 0&&("context"in W)&&W.context===void 0&&(W.context=D),at=r.keys(R);Z<at.length;Z++)S=f(b,S,at[Z],R[at[Z]],W);else if(R&&s.test(R))for(at=R.split(s);Z<at.length;Z++)S=b(S,at[Z],D,W);else S=b(S,R,D,W);return S};u.on=function(b,S,R){if(this._events=f(h,this._events||{},b,S,{context:R,ctx:this,listening:c}),c){var D=this._listeners||(this._listeners={});D[c.id]=c,c.interop=!1}return this},u.listenTo=function(b,S,R){if(!b)return this;var D=b._listenId||(b._listenId=r.uniqueId("l")),W=this._listeningTo||(this._listeningTo={}),Z=c=W[D];Z||(this._listenId||(this._listenId=r.uniqueId("l")),Z=c=W[D]=new m(this,b));var at=l(b,S,R,this);if(c=void 0,at)throw at;return Z.interop&&Z.on(S,R),this};var h=function(b,S,R,D){if(R){var W=b[S]||(b[S]=[]),Z=D.context,at=D.ctx,zt=D.listening;zt&&zt.count++,W.push({callback:R,context:Z,ctx:Z||at,listening:zt})}return b},l=function(b,S,R,D){try{b.on(S,R,D)}catch(W){return W}};u.off=function(b,S,R){return this._events?(this._events=f(d,this._events,b,S,{context:R,listeners:this._listeners}),this):this},u.stopListening=function(b,S,R){var D=this._listeningTo;if(!D)return this;for(var W=b?[b._listenId]:r.keys(D),Z=0;Z<W.length;Z++){var at=D[W[Z]];if(!at)break;at.obj.off(S,R,this),at.interop&&at.off(S,R)}return r.isEmpty(D)&&(this._listeningTo=void 0),this};var d=function(b,S,R,D){if(b){var W=D.context,Z=D.listeners,at=0,zt;if(!S&&!W&&!R){for(zt=r.keys(Z);at<zt.length;at++)Z[zt[at]].cleanup();return}for(zt=S?[S]:r.keys(b);at<zt.length;at++){S=zt[at];var fn=b[S];if(!fn)break;for(var re=[],Fn=0;Fn<fn.length;Fn++){var an=fn[Fn];if(R&&R!==an.callback&&R!==an.callback._callback||W&&W!==an.context)re.push(an);else{var Ie=an.listening;Ie&&Ie.off(S,R)}}re.length?b[S]=re:delete b[S]}return b}};u.once=function(b,S,R){var D=f(g,{},b,S,this.off.bind(this));return typeof b=="string"&&R==null&&(S=void 0),this.on(D,S,R)},u.listenToOnce=function(b,S,R){var D=f(g,{},S,R,this.stopListening.bind(this,b));return this.listenTo(b,D)};var g=function(b,S,R,D){if(R){var W=b[S]=r.once(function(){D(S,W),R.apply(this,arguments)});W._callback=R}return b};u.trigger=function(b){if(!this._events)return this;for(var S=Math.max(0,arguments.length-1),R=Array(S),D=0;D<S;D++)R[D]=arguments[D+1];return f(p,this._events,b,void 0,R),this};var p=function(b,S,R,D){if(b){var W=b[S],Z=b.all;W&&Z&&(Z=Z.slice()),W&&v(W,D),Z&&v(Z,[S].concat(D))}return b},v=function(b,S){var R,D=-1,W=b.length,Z=S[0],at=S[1],zt=S[2];switch(S.length){case 0:for(;++D<W;)(R=b[D]).callback.call(R.ctx);return;case 1:for(;++D<W;)(R=b[D]).callback.call(R.ctx,Z);return;case 2:for(;++D<W;)(R=b[D]).callback.call(R.ctx,Z,at);return;case 3:for(;++D<W;)(R=b[D]).callback.call(R.ctx,Z,at,zt);return;default:for(;++D<W;)(R=b[D]).callback.apply(R.ctx,S);return}},m=function(b,S){this.id=b._listenId,this.listener=b,this.obj=S,this.interop=!0,this.count=0,this._events=void 0};m.prototype.on=u.on,m.prototype.off=function(b,S){var R;this.interop?(this._events=f(d,this._events,b,S,{context:void 0,listeners:void 0}),R=!this._events):(this.count--,R=this.count===0),R&&this.cleanup()},m.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},u.bind=u.on,u.unbind=u.off,r.extend(e,u);var w=e.Model=function(b,S){var R=b||{};S||(S={}),this.preinitialize.apply(this,arguments),this.cid=r.uniqueId(this.cidPrefix),this.attributes={},S.collection&&(this.collection=S.collection),S.parse&&(R=this.parse(R,S)||{});var D=r.result(this,"defaults");R=r.defaults(r.extend({},D,R),D),this.set(R,S),this.changed={},this.initialize.apply(this,arguments)};r.extend(w.prototype,u,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(b){return r.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(b){return this.attributes[b]},escape:function(b){return r.escape(this.get(b))},has:function(b){return this.get(b)!=null},matches:function(b){return!!r.iteratee(b,this)(this.attributes)},set:function(b,S,R){if(b==null)return this;var D;if(typeof b=="object"?(D=b,R=S):(D={})[b]=S,R||(R={}),!this._validate(D,R))return!1;var W=R.unset,Z=R.silent,at=[],zt=this._changing;this._changing=!0,zt||(this._previousAttributes=r.clone(this.attributes),this.changed={});var fn=this.attributes,re=this.changed,Fn=this._previousAttributes;for(var an in D)S=D[an],r.isEqual(fn[an],S)||at.push(an),r.isEqual(Fn[an],S)?delete re[an]:re[an]=S,W?delete fn[an]:fn[an]=S;if(this.idAttribute in D){var Ie=this.id;this.id=this.get(this.idAttribute),this.id!==Ie&&this.trigger("changeId",this,Ie,R)}if(!Z){at.length&&(this._pending=R);for(var Rr=0;Rr<at.length;Rr++)this.trigger("change:"+at[Rr],this,fn[at[Rr]],R)}if(zt)return this;if(!Z)for(;this._pending;)R=this._pending,this._pending=!1,this.trigger("change",this,R);return this._pending=!1,this._changing=!1,this},unset:function(b,S){return this.set(b,void 0,r.extend({},S,{unset:!0}))},clear:function(b){var S={};for(var R in this.attributes)S[R]=void 0;return this.set(S,r.extend({},b,{unset:!0}))},hasChanged:function(b){return b==null?!r.isEmpty(this.changed):r.has(this.changed,b)},changedAttributes:function(b){if(!b)return this.hasChanged()?r.clone(this.changed):!1;var S=this._changing?this._previousAttributes:this.attributes,R={},D;for(var W in b){var Z=b[W];r.isEqual(S[W],Z)||(R[W]=Z,D=!0)}return D?R:!1},previous:function(b){return b==null||!this._previousAttributes?null:this._previousAttributes[b]},previousAttributes:function(){return r.clone(this._previousAttributes)},fetch:function(b){b=r.extend({parse:!0},b);var S=this,R=b.success;return b.success=function(D){var W=b.parse?S.parse(D,b):D;if(!S.set(W,b))return!1;R&&R.call(b.context,S,D,b),S.trigger("sync",S,D,b)},Ft(this,b),this.sync("read",this,b)},save:function(b,S,R){var D;b==null||typeof b=="object"?(D=b,R=S):(D={})[b]=S,R=r.extend({validate:!0,parse:!0},R);var W=R.wait;if(D&&!W){if(!this.set(D,R))return!1}else if(!this._validate(D,R))return!1;var Z=this,at=R.success,zt=this.attributes;R.success=function(Fn){Z.attributes=zt;var an=R.parse?Z.parse(Fn,R):Fn;if(W&&(an=r.extend({},D,an)),an&&!Z.set(an,R))return!1;at&&at.call(R.context,Z,Fn,R),Z.trigger("sync",Z,Fn,R)},Ft(this,R),D&&W&&(this.attributes=r.extend({},zt,D));var fn=this.isNew()?"create":R.patch?"patch":"update";fn==="patch"&&!R.attrs&&(R.attrs=D);var re=this.sync(fn,this,R);return this.attributes=zt,re},destroy:function(b){b=b?r.clone(b):{};var S=this,R=b.success,D=b.wait,W=function(){S.stopListening(),S.trigger("destroy",S,S.collection,b)};b.success=function(at){D&&W(),R&&R.call(b.context,S,at,b),S.isNew()||S.trigger("sync",S,at,b)};var Z=!1;return this.isNew()?r.defer(b.success):(Ft(this,b),Z=this.sync("delete",this,b)),D||W(),Z},url:function(){var b=r.result(this,"urlRoot")||r.result(this.collection,"url")||K();if(this.isNew())return b;var S=this.get(this.idAttribute);return b.replace(/[^\/]$/,"$&/")+encodeURIComponent(S)},parse:function(b,S){return b},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(b){return this._validate({},r.extend({},b,{validate:!0}))},_validate:function(b,S){if(!S.validate||!this.validate)return!0;b=r.extend({},this.attributes,b);var R=this.validationError=this.validate(b,S)||null;return R?(this.trigger("invalid",this,R,r.extend(S,{validationError:R})),!1):!0}});var _=e.Collection=function(b,S){S||(S={}),this.preinitialize.apply(this,arguments),S.model&&(this.model=S.model),S.comparator!==void 0&&(this.comparator=S.comparator),this._reset(),this.initialize.apply(this,arguments),b&&this.reset(b,r.extend({silent:!0},S))},y={add:!0,remove:!0,merge:!0},M={add:!0,remove:!1},x=function(b,S,R){R=Math.min(Math.max(R,0),b.length);var D=Array(b.length-R),W=S.length,Z;for(Z=0;Z<D.length;Z++)D[Z]=b[Z+R];for(Z=0;Z<W;Z++)b[Z+R]=S[Z];for(Z=0;Z<D.length;Z++)b[Z+W+R]=D[Z]};r.extend(_.prototype,u,{model:w,preinitialize:function(){},initialize:function(){},toJSON:function(b){return this.map(function(S){return S.toJSON(b)})},sync:function(){return e.sync.apply(this,arguments)},add:function(b,S){return this.set(b,r.extend({merge:!1},S,M))},remove:function(b,S){S=r.extend({},S);var R=!r.isArray(b);b=R?[b]:b.slice();var D=this._removeModels(b,S);return!S.silent&&D.length&&(S.changes={added:[],merged:[],removed:D},this.trigger("update",this,S)),R?D[0]:D},set:function(b,S){if(b!=null){S=r.extend({},y,S),S.parse&&!this._isModel(b)&&(b=this.parse(b,S)||[]);var R=!r.isArray(b);b=R?[b]:b.slice();var D=S.at;D!=null&&(D=+D),D>this.length&&(D=this.length),D<0&&(D+=this.length+1);var W=[],Z=[],at=[],zt=[],fn={},re=S.add,Fn=S.merge,an=S.remove,Ie=!1,Rr=this.comparator&&D==null&&S.sort!==!1,g_=r.isString(this.comparator)?this.comparator:null,hn,Ln;for(Ln=0;Ln<b.length;Ln++){hn=b[Ln];var He=this.get(hn);if(He){if(Fn&&hn!==He){var al=this._isModel(hn)?hn.attributes:hn;S.parse&&(al=He.parse(al,S)),He.set(al,S),at.push(He),Rr&&!Ie&&(Ie=He.hasChanged(g_))}fn[He.cid]||(fn[He.cid]=!0,W.push(He)),b[Ln]=He}else re&&(hn=b[Ln]=this._prepareModel(hn,S),hn&&(Z.push(hn),this._addReference(hn,S),fn[hn.cid]=!0,W.push(hn)))}if(an){for(Ln=0;Ln<this.length;Ln++)hn=this.models[Ln],fn[hn.cid]||zt.push(hn);zt.length&&this._removeModels(zt,S)}var Bg=!1,p_=!Rr&&re&&an;if(W.length&&p_?(Bg=this.length!==W.length||r.some(this.models,function(v_,m_){return v_!==W[m_]}),this.models.length=0,x(this.models,W,0),this.length=this.models.length):Z.length&&(Rr&&(Ie=!0),x(this.models,Z,D??this.length),this.length=this.models.length),Ie&&this.sort({silent:!0}),!S.silent){for(Ln=0;Ln<Z.length;Ln++)D!=null&&(S.index=D+Ln),hn=Z[Ln],hn.trigger("add",hn,this,S);(Ie||Bg)&&this.trigger("sort",this,S),(Z.length||zt.length||at.length)&&(S.changes={added:Z,removed:zt,merged:at},this.trigger("update",this,S))}return R?b[0]:b}},reset:function(b,S){S=S?r.clone(S):{};for(var R=0;R<this.models.length;R++)this._removeReference(this.models[R],S);return S.previousModels=this.models,this._reset(),b=this.add(b,r.extend({silent:!0},S)),S.silent||this.trigger("reset",this,S),b},push:function(b,S){return this.add(b,r.extend({at:this.length},S))},pop:function(b){var S=this.at(this.length-1);return this.remove(S,b)},unshift:function(b,S){return this.add(b,r.extend({at:0},S))},shift:function(b){var S=this.at(0);return this.remove(S,b)},slice:function(){return a.apply(this.models,arguments)},get:function(b){if(b!=null)return this._byId[b]||this._byId[this.modelId(this._isModel(b)?b.attributes:b,b.idAttribute)]||b.cid&&this._byId[b.cid]},has:function(b){return this.get(b)!=null},at:function(b){return b<0&&(b+=this.length),this.models[b]},where:function(b,S){return this[S?"find":"filter"](b)},findWhere:function(b){return this.where(b,!0)},sort:function(b){var S=this.comparator;if(!S)throw new Error("Cannot sort a set without a comparator");b||(b={});var R=S.length;return r.isFunction(S)&&(S=S.bind(this)),R===1||r.isString(S)?this.models=this.sortBy(S):this.models.sort(S),b.silent||this.trigger("sort",this,b),this},pluck:function(b){return this.map(b+"")},fetch:function(b){b=r.extend({parse:!0},b);var S=b.success,R=this;return b.success=function(D){var W=b.reset?"reset":"set";R[W](D,b),S&&S.call(b.context,R,D,b),R.trigger("sync",R,D,b)},Ft(this,b),this.sync("read",this,b)},create:function(b,S){S=S?r.clone(S):{};var R=S.wait;if(b=this._prepareModel(b,S),!b)return!1;R||this.add(b,S);var D=this,W=S.success;return S.success=function(Z,at,zt){R&&(Z.off("error",D._forwardPristineError,D),D.add(Z,zt)),W&&W.call(zt.context,Z,at,zt)},R&&b.once("error",this._forwardPristineError,this),b.save(null,S),b},parse:function(b,S){return b},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(b,S){return b[S||this.model.prototype.idAttribute||"id"]},values:function(){return new N(this,C)},keys:function(){return new N(this,I)},entries:function(){return new N(this,P)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(b,S){if(this._isModel(b))return b.collection||(b.collection=this),b;S=S?r.clone(S):{},S.collection=this;var R;return this.model.prototype?R=new this.model(b,S):R=this.model(b,S),R.validationError?(this.trigger("invalid",this,R.validationError,S),!1):R},_removeModels:function(b,S){for(var R=[],D=0;D<b.length;D++){var W=this.get(b[D]);if(W){var Z=this.indexOf(W);this.models.splice(Z,1),this.length--,delete this._byId[W.cid];var at=this.modelId(W.attributes,W.idAttribute);at!=null&&delete this._byId[at],S.silent||(S.index=Z,W.trigger("remove",W,this,S)),R.push(W),this._removeReference(W,S)}}return b.length>0&&!S.silent&&delete S.index,R},_isModel:function(b){return b instanceof w},_addReference:function(b,S){this._byId[b.cid]=b;var R=this.modelId(b.attributes,b.idAttribute);R!=null&&(this._byId[R]=b),b.on("all",this._onModelEvent,this)},_removeReference:function(b,S){delete this._byId[b.cid];var R=this.modelId(b.attributes,b.idAttribute);R!=null&&delete this._byId[R],this===b.collection&&delete b.collection,b.off("all",this._onModelEvent,this)},_onModelEvent:function(b,S,R,D){if(S){if((b==="add"||b==="remove")&&R!==this)return;if(b==="destroy"&&this.remove(S,D),b==="changeId"){var W=this.modelId(S.previousAttributes(),S.idAttribute),Z=this.modelId(S.attributes,S.idAttribute);W!=null&&delete this._byId[W],Z!=null&&(this._byId[Z]=S)}}this.trigger.apply(this,arguments)},_forwardPristineError:function(b,S,R){this.has(b)||this._onModelEvent("error",b,S,R)}});var T=typeof Symbol=="function"&&Symbol.iterator;T&&(_.prototype[T]=_.prototype.values);var N=function(b,S){this._collection=b,this._kind=S,this._index=0},C=1,I=2,P=3;T&&(N.prototype[T]=function(){return this}),N.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var b=this._collection.at(this._index);this._index++;var S;if(this._kind===C)S=b;else{var R=this._collection.modelId(b.attributes,b.idAttribute);this._kind===I?S=R:S=[R,b]}return{value:S,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var B=e.View=function(b){this.cid=r.uniqueId("view"),this.preinitialize.apply(this,arguments),r.extend(this,r.pick(b,A)),this._ensureElement(),this.initialize.apply(this,arguments)},F=/^(\S+)\s*(.*)$/,A=["model","collection","el","id","attributes","className","tagName","events"];r.extend(B.prototype,u,{tagName:"div",$:function(b){return this.$el.find(b)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(b){return this.undelegateEvents(),this._setElement(b),this.delegateEvents(),this},_setElement:function(b){this.$el=b instanceof e.$?b:e.$(b),this.el=this.$el[0]},delegateEvents:function(b){if(b||(b=r.result(this,"events")),!b)return this;this.undelegateEvents();for(var S in b){var R=b[S];if(r.isFunction(R)||(R=this[R]),!!R){var D=S.match(F);this.delegate(D[1],D[2],R.bind(this))}}return this},delegate:function(b,S,R){return this.$el.on(b+".delegateEvents"+this.cid,S,R),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(b,S,R){return this.$el.off(b+".delegateEvents"+this.cid,S,R),this},_createElement:function(b){return document.createElement(b)},_ensureElement:function(){if(this.el)this.setElement(r.result(this,"el"));else{var b=r.extend({},r.result(this,"attributes"));this.id&&(b.id=r.result(this,"id")),this.className&&(b.class=r.result(this,"className")),this.setElement(this._createElement(r.result(this,"tagName"))),this._setAttributes(b)}},_setAttributes:function(b){this.$el.attr(b)}});var $=function(b,S,R,D){switch(S){case 1:return function(){return b[R](this[D])};case 2:return function(W){return b[R](this[D],W)};case 3:return function(W,Z){return b[R](this[D],E(W,this),Z)};case 4:return function(W,Z,at){return b[R](this[D],E(W,this),Z,at)};default:return function(){var W=a.call(arguments);return W.unshift(this[D]),b[R].apply(b,W)}}},k=function(b,S,R,D){r.each(R,function(W,Z){S[Z]&&(b.prototype[Z]=$(S,W,Z,D))})},E=function(b,S){return r.isFunction(b)?b:r.isObject(b)&&!S._isModel(b)?O(b):r.isString(b)?function(R){return R.get(b)}:b},O=function(b){var S=r.matches(b);return function(R){return S(R.attributes)}},z={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},H={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};r.each([[_,z,"models"],[w,H,"attributes"]],function(b){var S=b[0],R=b[1],D=b[2];S.mixin=function(W){var Z=r.reduce(r.functions(W),function(at,zt){return at[zt]=0,at},{});k(S,W,Z,D)},k(S,r,R,D)}),e.sync=function(b,S,R){var D=Y[b];r.defaults(R||(R={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var W={type:D,dataType:"json"};if(R.url||(W.url=r.result(S,"url")||K()),R.data==null&&S&&(b==="create"||b==="update"||b==="patch")&&(W.contentType="application/json",W.data=JSON.stringify(R.attrs||S.toJSON(R))),R.emulateJSON&&(W.contentType="application/x-www-form-urlencoded",W.data=W.data?{model:W.data}:{}),R.emulateHTTP&&(D==="PUT"||D==="DELETE"||D==="PATCH")){W.type="POST",R.emulateJSON&&(W.data._method=D);var Z=R.beforeSend;R.beforeSend=function(fn){if(fn.setRequestHeader("X-HTTP-Method-Override",D),Z)return Z.apply(this,arguments)}}W.type!=="GET"&&!R.emulateJSON&&(W.processData=!1);var at=R.error;R.error=function(fn,re,Fn){R.textStatus=re,R.errorThrown=Fn,at&&at.call(R.context,fn,re,Fn)};var zt=R.xhr=e.ajax(r.extend(W,R));return S.trigger("request",S,zt,R),zt};var Y={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var X=e.Router=function(b){b||(b={}),this.preinitialize.apply(this,arguments),b.routes&&(this.routes=b.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},j=/\((.*?)\)/g,et=/(\(\?)?:\w+/g,it=/\*\w+/g,yt=/[\-{}\[\]+?.,\\\^$|#\s]/g;r.extend(X.prototype,u,{preinitialize:function(){},initialize:function(){},route:function(b,S,R){r.isRegExp(b)||(b=this._routeToRegExp(b)),r.isFunction(S)&&(R=S,S=""),R||(R=this[S]);var D=this;return e.history.route(b,function(W){var Z=D._extractParameters(b,W);D.execute(R,Z,S)!==!1&&(D.trigger.apply(D,["route:"+S].concat(Z)),D.trigger("route",S,Z),e.history.trigger("route",D,S,Z))}),this},execute:function(b,S,R){b&&b.apply(this,S)},navigate:function(b,S){return e.history.navigate(b,S),this},_bindRoutes:function(){if(this.routes){this.routes=r.result(this,"routes");for(var b,S=r.keys(this.routes);(b=S.pop())!=null;)this.route(b,this.routes[b])}},_routeToRegExp:function(b){return b=b.replace(yt,"\\$&").replace(j,"(?:$1)?").replace(et,function(S,R){return R?S:"([^/?]+)"}).replace(it,"([^?]*?)"),new RegExp("^"+b+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(b,S){var R=b.exec(S).slice(1);return r.map(R,function(D,W){return W===R.length-1?D||null:D?decodeURIComponent(D):null})}});var ht=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},Ot=/^[#\/]|\s+$/g,nt=/^\/+|\/+$/g,ft=/#.*$/;ht.started=!1,r.extend(ht.prototype,u,{interval:50,atRoot:function(){var b=this.location.pathname.replace(/[^\/]$/,"$&/");return b===this.root&&!this.getSearch()},matchRoot:function(){var b=this.decodeFragment(this.location.pathname),S=b.slice(0,this.root.length-1)+"/";return S===this.root},decodeFragment:function(b){return decodeURI(b.replace(/%25/g,"%2525"))},getSearch:function(){var b=this.location.href.replace(/#.*/,"").match(/\?.+/);return b?b[0]:""},getHash:function(b){var S=(b||this).location.href.match(/#(.*)$/);return S?S[1]:""},getPath:function(){var b=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return b.charAt(0)==="/"?b.slice(1):b},getFragment:function(b){return b==null&&(this._usePushState||!this._wantsHashChange?b=this.getPath():b=this.getHash()),b.replace(Ot,"")},start:function(b){if(ht.started)throw new Error("Backbone.history has already been started");if(ht.started=!0,this.options=r.extend({root:"/"},this.options,b),this.root=this.options.root,this._trailingSlash=this.options.trailingSlash,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(nt,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var S=this.root.slice(0,-1)||"/";return this.location.replace(S+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var R=document.body,D=R.insertBefore(this.iframe,R.firstChild).contentWindow;D.document.open(),D.document.close(),D.location.hash="#"+this.fragment}var W=window.addEventListener||function(Z,at){return attachEvent("on"+Z,at)};if(this._usePushState?W("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?W("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var b=window.removeEventListener||function(S,R){return detachEvent("on"+S,R)};this._usePushState?b("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&b("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),ht.started=!1},route:function(b,S){this.handlers.unshift({route:b,callback:S})},checkUrl:function(b){var S=this.getFragment();if(S===this.fragment&&this.iframe&&(S=this.getHash(this.iframe.contentWindow)),S===this.fragment)return this.matchRoot()?!1:this.notfound();this.iframe&&this.navigate(S),this.loadUrl()},loadUrl:function(b){return this.matchRoot()?(b=this.fragment=this.getFragment(b),r.some(this.handlers,function(S){if(S.route.test(b))return S.callback(b),!0})||this.notfound()):this.notfound()},notfound:function(){return this.trigger("notfound"),!1},navigate:function(b,S){if(!ht.started)return!1;(!S||S===!0)&&(S={trigger:!!S}),b=this.getFragment(b||"");var R=this.root;!this._trailingSlash&&(b===""||b.charAt(0)==="?")&&(R=R.slice(0,-1)||"/");var D=R+b;b=b.replace(ft,"");var W=this.decodeFragment(b);if(this.fragment!==W){if(this.fragment=W,this._usePushState)this.history[S.replace?"replaceState":"pushState"]({},document.title,D);else if(this._wantsHashChange){if(this._updateHash(this.location,b,S.replace),this.iframe&&b!==this.getHash(this.iframe.contentWindow)){var Z=this.iframe.contentWindow;S.replace||(Z.document.open(),Z.document.close()),this._updateHash(Z.location,b,S.replace)}}else return this.location.assign(D);if(S.trigger)return this.loadUrl(b)}},_updateHash:function(b,S,R){if(R){var D=b.href.replace(/(javascript:|#).*$/,"");b.replace(D+"#"+S)}else b.hash="#"+S}}),e.history=new ht;var bt=function(b,S){var R=this,D;return b&&r.has(b,"constructor")?D=b.constructor:D=function(){return R.apply(this,arguments)},r.extend(D,R,S),D.prototype=r.create(R.prototype,b),D.prototype.constructor=D,D.__super__=R.prototype,D};w.extend=_.extend=X.extend=B.extend=ht.extend=bt;var K=function(){throw new Error('A "url" property or function must be specified')},Ft=function(b,S){var R=S.error;S.error=function(D){R&&R.call(S.context,b,D,S),b.trigger("error",b,D,S)}};return e._debug=function(){return{root:n,_:r}},e})})(Jy);const K_=W_(Jy);function rn(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function jy(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function ef(t){let n,e,r;t.length!==2?(n=rn,e=(u,s)=>rn(t(u),s),r=(u,s)=>t(u)-s):(n=t===rn||t===jy?t:Q_,e=t,r=t);function i(u,s,c=0,f=u.length){if(c<f){if(n(s,s)!==0)return f;do{const h=c+f>>>1;e(u[h],s)<0?c=h+1:f=h}while(c<f)}return c}function o(u,s,c=0,f=u.length){if(c<f){if(n(s,s)!==0)return f;do{const h=c+f>>>1;e(u[h],s)<=0?c=h+1:f=h}while(c<f)}return c}function a(u,s,c=0,f=u.length){const h=i(u,s,c,f-1);return h>c&&r(u[h-1],s)>-r(u[h],s)?h-1:h}return{left:i,center:a,right:o}}function Q_(){return 0}function Ac(t){return t===null?NaN:+t}function*J_(t,n){if(n===void 0)for(let e of t)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)(r=n(r,++e,t))!=null&&(r=+r)>=r&&(yield r)}}const t3=ef(rn),Br=t3.right,j_=t3.left,tb=ef(Ac).center;function nb(t,n){if(!((n=+n)>=0))throw new RangeError("invalid r");let e=t.length;if(!((e=Math.floor(e))>=0))throw new RangeError("invalid length");if(!e||!n)return t;const r=b1(n),i=t.slice();return r(t,i,0,e,1),r(i,t,0,e,1),r(t,i,0,e,1),t}const n3=e3(b1),eb=e3(rb);function e3(t){return function(n,e,r=e){if(!((e=+e)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:a}=n;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((a=Math.floor(a!==void 0?a:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!a||!e&&!r)return n;const u=e&&t(e),s=r&&t(r),c=i.slice();return u&&s?(Bi(u,c,i,o,a),Bi(u,i,c,o,a),Bi(u,c,i,o,a),Yi(s,i,c,o,a),Yi(s,c,i,o,a),Yi(s,i,c,o,a)):u?(Bi(u,i,c,o,a),Bi(u,c,i,o,a),Bi(u,i,c,o,a)):s&&(Yi(s,i,c,o,a),Yi(s,c,i,o,a),Yi(s,i,c,o,a)),n}}function Bi(t,n,e,r,i){for(let o=0,a=r*i;o<a;)t(n,e,o,o+=r,1)}function Yi(t,n,e,r,i){for(let o=0,a=r*i;o<r;++o)t(n,e,o,o+a,r)}function rb(t){const n=b1(t);return(e,r,i,o,a)=>{i<<=2,o<<=2,a<<=2,n(e,r,i+0,o+0,a),n(e,r,i+1,o+1,a),n(e,r,i+2,o+2,a),n(e,r,i+3,o+3,a)}}function b1(t){const n=Math.floor(t);if(n===t)return ib(t);const e=t-n,r=2*t+1;return(i,o,a,u,s)=>{if(!((u-=s)>=a))return;let c=n*o[a];const f=s*n,h=f+s;for(let l=a,d=a+f;l<d;l+=s)c+=o[Math.min(u,l)];for(let l=a,d=u;l<=d;l+=s)c+=o[Math.min(u,l+f)],i[l]=(c+e*(o[Math.max(a,l-h)]+o[Math.min(u,l+h)]))/r,c-=o[Math.max(a,l-f)]}}function ib(t){const n=2*t+1;return(e,r,i,o,a)=>{if(!((o-=a)>=i))return;let u=t*r[i];const s=a*t;for(let c=i,f=i+s;c<f;c+=a)u+=r[Math.min(o,c)];for(let c=i,f=o;c<=f;c+=a)u+=r[Math.min(o,c+s)],e[c]=u/n,u-=r[Math.max(i,c-s)]}}function rf(t,n){let e=0;if(n===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++e;else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(i=+i)>=i&&++e}return e}function ob(t){return t.length|0}function ab(t){return!(t>0)}function ub(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function cb(t){return n=>t(...n)}function sb(...t){const n=typeof t[t.length-1]=="function"&&cb(t.pop());t=t.map(ub);const e=t.map(ob),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(ab))return o;for(;;){o.push(i.map((u,s)=>t[s][u]));let a=r;for(;++i[a]===e[a];){if(a===0)return n?o.map(n):o;i[a--]=0}}}function fb(t,n){var e=0,r=0;return Float64Array.from(t,n===void 0?i=>e+=+i||0:i=>e+=+n(i,r++,t)||0)}function r3(t,n){let e=0,r,i=0,o=0;if(n===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++e,o+=r*(a-i));else{let a=-1;for(let u of t)(u=n(u,++a,t))!=null&&(u=+u)>=u&&(r=u-i,i+=r/++e,o+=r*(u-i))}if(e>1)return o/(e-1)}function i3(t,n){const e=r3(t,n);return e&&Math.sqrt(e)}function ma(t,n){let e,r;if(n===void 0)for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(e===void 0?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}let gn=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],a=n+o,u=Math.abs(n)<Math.abs(o)?n-(a-o):o-(a-n);u&&(e[r++]=u),n=a}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,o,a=0;if(e>0){for(a=n[--e];e>0&&(r=a,i=n[--e],a=r+i,o=i-(a-r),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}};function lb(t,n){const e=new gn;if(n===void 0)for(let r of t)(r=+r)&&e.add(r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&e.add(i)}return+e}function hb(t,n){const e=new gn;let r=-1;return Float64Array.from(t,n===void 0?i=>e.add(+i||0):i=>e.add(+n(i,++r,t)||0))}class Ca extends Map{constructor(n,e=u3){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(d0(this,n))}has(n){return super.has(d0(this,n))}set(n,e){return super.set(o3(this,n),e)}delete(n){return super.delete(a3(this,n))}}class bi extends Set{constructor(n,e=u3){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const r of n)this.add(r)}has(n){return super.has(d0(this,n))}add(n){return super.add(o3(this,n))}delete(n){return super.delete(a3(this,n))}}function d0({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function o3({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function a3({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function u3(t){return t!==null&&typeof t=="object"?t.valueOf():t}function mo(t){return t}function c3(t,...n){return qo(t,mo,mo,n)}function s3(t,...n){return qo(t,Array.from,mo,n)}function f3(t,n){for(let e=1,r=n.length;e<r;++e)t=t.flatMap(i=>i.pop().map(([o,a])=>[...i,o,a]));return t}function db(t,...n){return f3(s3(t,...n),n)}function gb(t,n,...e){return f3(h3(t,n,...e),e)}function l3(t,n,...e){return qo(t,mo,n,e)}function h3(t,n,...e){return qo(t,Array.from,n,e)}function pb(t,...n){return qo(t,mo,d3,n)}function vb(t,...n){return qo(t,Array.from,d3,n)}function d3(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function qo(t,n,e,r){return function i(o,a){if(a>=r.length)return e(o);const u=new Ca,s=r[a++];let c=-1;for(const f of o){const h=s(f,++c,o),l=u.get(h);l?l.push(f):u.set(h,[f])}for(const[f,h]of u)u.set(f,i(h,a));return n(u)}(t,0)}function g3(t,n){return Array.from(n,e=>t[e])}function g0(t,...n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&e.length!==2||n.length>1){const r=Uint32Array.from(t,(i,o)=>o);return n.length>1?(n=n.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of n){const u=yo(a[i],a[o]);if(u)return u}})):(e=t.map(e),r.sort((i,o)=>yo(e[i],e[o]))),g3(t,r)}return t.sort(M1(e))}function M1(t=rn){if(t===rn)return yo;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function yo(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}function mb(t,n,e){return(n.length!==2?g0(l3(t,n,e),([r,i],[o,a])=>rn(i,a)||rn(r,o)):g0(c3(t,e),([r,i],[o,a])=>n(i,a)||rn(r,o))).map(([r])=>r)}var yb=Array.prototype,wb=yb.slice;function cl(t){return()=>t}const _b=Math.sqrt(50),bb=Math.sqrt(10),Mb=Math.sqrt(2);function Pc(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=_b?10:o>=bb?5:o>=Mb?2:1;let u,s,c;return i<0?(c=Math.pow(10,-i)/a,u=Math.round(t*c),s=Math.round(n*c),u/c<t&&++u,s/c>n&&--s,c=-c):(c=Math.pow(10,i)*a,u=Math.round(t/c),s=Math.round(n/c),u*c<t&&++u,s*c>n&&--s),s<u&&.5<=e&&e<2?Pc(t,n,e*2):[u,s,c]}function Mi(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,o,a]=r?Pc(n,t,e):Pc(t,n,e);if(!(o>=i))return[];const u=o-i+1,s=new Array(u);if(r)if(a<0)for(let c=0;c<u;++c)s[c]=(o-c)/-a;else for(let c=0;c<u;++c)s[c]=(o-c)*a;else if(a<0)for(let c=0;c<u;++c)s[c]=(i+c)/-a;else for(let c=0;c<u;++c)s[c]=(i+c)*a;return s}function xi(t,n,e){return n=+n,t=+t,e=+e,Pc(t,n,e)[2]}function Tc(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?xi(n,t,e):xi(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function x1(t,n,e){let r;for(;;){const i=xi(t,n,e);if(i===r||i===0||!isFinite(i))return[t,n];i>0?(t=Math.floor(t/i)*i,n=Math.ceil(n/i)*i):i<0&&(t=Math.ceil(t*i)/i,n=Math.floor(n*i)/i),r=i}}function S1(t){return Math.max(1,Math.ceil(Math.log(rf(t))/Math.LN2)+1)}function jg(){var t=mo,n=ma,e=S1;function r(i){Array.isArray(i)||(i=Array.from(i));var o,a=i.length,u,s,c=new Array(a);for(o=0;o<a;++o)c[o]=t(i[o],o,i);var f=n(c),h=f[0],l=f[1],d=e(c,h,l);if(!Array.isArray(d)){const _=l,y=+d;if(n===ma&&([h,l]=x1(h,l,y)),d=Mi(h,l,y),d[0]<=h&&(s=xi(h,l,y)),d[d.length-1]>=l)if(_>=l&&n===ma){const M=xi(h,l,y);isFinite(M)&&(M>0?l=(Math.floor(l/M)+1)*M:M<0&&(l=(Math.ceil(l*-M)+1)/-M))}else d.pop()}for(var g=d.length,p=0,v=g;d[p]<=h;)++p;for(;d[v-1]>l;)--v;(p||v<g)&&(d=d.slice(p,v),g=v-p);var m=new Array(g+1),w;for(o=0;o<=g;++o)w=m[o]=[],w.x0=o>0?d[o-1]:h,w.x1=o<g?d[o]:l;if(isFinite(s)){if(s>0)for(o=0;o<a;++o)(u=c[o])!=null&&h<=u&&u<=l&&m[Math.min(g,Math.floor((u-h)/s))].push(i[o]);else if(s<0){for(o=0;o<a;++o)if((u=c[o])!=null&&h<=u&&u<=l){const _=Math.floor((h-u)*s);m[Math.min(g,_+(d[_]<=u))].push(i[o])}}}else for(o=0;o<a;++o)(u=c[o])!=null&&h<=u&&u<=l&&m[Br(d,u,0,g)].push(i[o]);return m}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:cl(i),r):t},r.domain=function(i){return arguments.length?(n=typeof i=="function"?i:cl([i[0],i[1]]),r):n},r.thresholds=function(i){return arguments.length?(e=typeof i=="function"?i:cl(Array.isArray(i)?wb.call(i):i),r):e},r}function ka(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function E1(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);return r}function Rc(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function $1(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);return r}function of(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?yo:M1(i);r>e;){if(r-e>600){const s=r-e+1,c=n-e+1,f=Math.log(s),h=.5*Math.exp(2*f/3),l=.5*Math.sqrt(f*h*(s-h)/s)*(c-s/2<0?-1:1),d=Math.max(e,Math.floor(n-c*h/s+l)),g=Math.min(r,Math.floor(n+(s-c)*h/s+l));of(t,n,d,g,i)}const o=t[n];let a=e,u=r;for(Xo(t,e,n),i(t[r],o)>0&&Xo(t,e,r);a<u;){for(Xo(t,a,u),++a,--u;i(t[a],o)<0;)++a;for(;i(t[u],o)>0;)--u}i(t[e],o)===0?Xo(t,e,u):(++u,Xo(t,u,r)),u<=n&&(e=u+1),n<=u&&(r=u-1)}return t}function Xo(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function p3(t,n=rn){let e,r=!1;if(n.length===1){let i;for(const o of t){const a=n(o);(r?rn(a,i)>0:rn(a,a)===0)&&(e=o,i=a,r=!0)}}else for(const i of t)(r?n(i,e)>0:n(i,i)===0)&&(e=i,r=!0);return e}function Ia(t,n,e){if(t=Float64Array.from(J_(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return Rc(t);if(n>=1)return ka(t);var r,i=(r-1)*n,o=Math.floor(i),a=ka(of(t,o).subarray(0,o+1)),u=Rc(t.subarray(o+1));return a+(u-a)*(i-o)}}function v3(t,n,e=Ac){if(!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t),u=+e(t[o+1],o+1,t);return a+(u-a)*(i-o)}}function m3(t,n,e=Ac){if(!isNaN(n=+n)){if(r=Float64Array.from(t,(u,s)=>Ac(e(t[s],s,t))),n<=0)return $1(r);if(n>=1)return E1(r);var r,i=Uint32Array.from(t,(u,s)=>s),o=r.length-1,a=Math.floor(o*n);return of(i,a,0,o,(u,s)=>yo(r[u],r[s])),a=p3(i.subarray(0,a+1),u=>r[u]),a>=0?a:-1}}function xb(t,n,e){const r=rf(t),i=Ia(t,.75)-Ia(t,.25);return r&&i?Math.ceil((e-n)/(2*i*Math.pow(r,-1/3))):1}function Sb(t,n,e){const r=rf(t),i=i3(t);return r&&i?Math.ceil((e-n)*Math.cbrt(r)/(3.49*i)):1}function Eb(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function $b(t,n){return Ia(t,.5,n)}function Ab(t,n){return m3(t,.5,n)}function*Pb(t){for(const n of t)yield*n}function af(t){return Array.from(Pb(t))}function Tb(t,n){const e=new Ca;if(n===void 0)for(let o of t)o!=null&&o>=o&&e.set(o,(e.get(o)||0)+1);else{let o=-1;for(let a of t)(a=n(a,++o,t))!=null&&a>=a&&e.set(a,(e.get(a)||0)+1)}let r,i=0;for(const[o,a]of e)a>i&&(i=a,r=o);return r}function Rb(t,n=Nb){const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e}function Nb(t,n){return[t,n]}function Xe(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}function Cb(t,n=rn){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let e=Array.from(t);const r=new Float64Array(e.length);n.length!==2&&(e=e.map(n),n=rn);const i=(u,s)=>n(e[u],e[s]);let o,a;return t=Uint32Array.from(e,(u,s)=>s),t.sort(n===rn?(u,s)=>yo(e[u],e[s]):M1(i)),t.forEach((u,s)=>{const c=i(u,o===void 0?u:o);c>=0?((o===void 0||c>0)&&(o=u,a=s),r[u]=a):r[u]=NaN}),r}function kb(t,n=rn){let e,r=!1;if(n.length===1){let i;for(const o of t){const a=n(o);(r?rn(a,i)<0:rn(a,a)===0)&&(e=o,i=a,r=!0)}}else for(const i of t)(r?n(i,e)<0:n(i,i)===0)&&(e=i,r=!0);return e}function y3(t,n=rn){if(n.length===1)return $1(t,n);let e,r=-1,i=-1;for(const o of t)++i,(r<0?n(o,o)===0:n(o,e)<0)&&(e=o,r=i);return r}function Ib(t,n=rn){if(n.length===1)return E1(t,n);let e,r=-1,i=-1;for(const o of t)++i,(r<0?n(o,o)===0:n(o,e)>0)&&(e=o,r=i);return r}function zb(t,n){const e=y3(t,n);return e<0?void 0:e}const Db=w3(Math.random);function w3(t){return function(e,r=0,i=e.length){let o=i-(r=+r);for(;o;){const a=t()*o--|0,u=e[o+r];e[o+r]=e[a+r],e[a+r]=u}return e}}function Ob(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function _3(t){if(!(o=t.length))return[];for(var n=-1,e=Rc(t,Fb),r=new Array(e);++n<e;)for(var i=-1,o,a=r[n]=new Array(o);++i<o;)a[i]=t[i][n];return r}function Fb(t){return t.length}function Lb(){return _3(arguments)}function qb(t,n){if(typeof n!="function")throw new TypeError("test is not a function");let e=-1;for(const r of t)if(!n(r,++e,t))return!1;return!0}function Ub(t,n){if(typeof n!="function")throw new TypeError("test is not a function");let e=-1;for(const r of t)if(n(r,++e,t))return!0;return!1}function Gb(t,n){if(typeof n!="function")throw new TypeError("test is not a function");const e=[];let r=-1;for(const i of t)n(i,++r,t)&&e.push(i);return e}function Hb(t,n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof n!="function")throw new TypeError("mapper is not a function");return Array.from(t,(e,r)=>n(e,r,t))}function Bb(t,n,e){if(typeof n!="function")throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,o,a=-1;if(arguments.length<3){if({done:i,value:e}=r.next(),i)return;++a}for(;{done:i,value:o}=r.next(),!i;)e=n(e,o,++a,t);return e}function Yb(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Vb(t,...n){t=new bi(t);for(const e of n)for(const r of e)t.delete(r);return t}function Wb(t,n){const e=n[Symbol.iterator](),r=new bi;for(const i of t){if(r.has(i))return!1;let o,a;for(;({value:o,done:a}=e.next())&&!a;){if(Object.is(i,o))return!1;r.add(o)}}return!0}function Xb(t,...n){t=new bi(t),n=n.map(Zb);t:for(const e of t)for(const r of n)if(!r.has(e)){t.delete(e);continue t}return t}function Zb(t){return t instanceof bi?t:new bi(t)}function b3(t,n){const e=t[Symbol.iterator](),r=new Set;for(const i of n){const o=tp(i);if(r.has(o))continue;let a,u;for(;{value:a,done:u}=e.next();){if(u)return!1;const s=tp(a);if(r.add(s),Object.is(o,s))break}}return!0}function tp(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Kb(t,n){return b3(n,t)}function Qb(...t){const n=new bi;for(const e of t)for(const r of e)n.add(r);return n}function Jb(t){return t}var rc=1,ic=2,p0=3,oa=4,np=1e-6;function jb(t){return"translate("+t+",0)"}function t9(t){return"translate(0,"+t+")"}function n9(t){return n=>+t(n)}function e9(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function r9(){return!this.__axis}function uf(t,n){var e=[],r=null,i=null,o=6,a=6,u=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===rc||t===oa?-1:1,f=t===oa||t===ic?"x":"y",h=t===rc||t===p0?jb:t9;function l(d){var g=r??(n.ticks?n.ticks.apply(n,e):n.domain()),p=i??(n.tickFormat?n.tickFormat.apply(n,e):Jb),v=Math.max(o,0)+u,m=n.range(),w=+m[0]+s,_=+m[m.length-1]+s,y=(n.bandwidth?e9:n9)(n.copy(),s),M=d.selection?d.selection():d,x=M.selectAll(".domain").data([null]),T=M.selectAll(".tick").data(g,n).order(),N=T.exit(),C=T.enter().append("g").attr("class","tick"),I=T.select("line"),P=T.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(C),I=I.merge(C.append("line").attr("stroke","currentColor").attr(f+"2",c*o)),P=P.merge(C.append("text").attr("fill","currentColor").attr(f,c*v).attr("dy",t===rc?"0em":t===p0?"0.71em":"0.32em")),d!==M&&(x=x.transition(d),T=T.transition(d),I=I.transition(d),P=P.transition(d),N=N.transition(d).attr("opacity",np).attr("transform",function(B){return isFinite(B=y(B))?h(B+s):this.getAttribute("transform")}),C.attr("opacity",np).attr("transform",function(B){var F=this.parentNode.__axis;return h((F&&isFinite(F=F(B))?F:y(B))+s)})),N.remove(),x.attr("d",t===oa||t===ic?a?"M"+c*a+","+w+"H"+s+"V"+_+"H"+c*a:"M"+s+","+w+"V"+_:a?"M"+w+","+c*a+"V"+s+"H"+_+"V"+c*a:"M"+w+","+s+"H"+_),T.attr("opacity",1).attr("transform",function(B){return h(y(B)+s)}),I.attr(f+"2",c*o),P.attr(f,c*v).text(p),M.filter(r9).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ic?"start":t===oa?"end":"middle"),M.each(function(){this.__axis=y})}return l.scale=function(d){return arguments.length?(n=d,l):n},l.ticks=function(){return e=Array.from(arguments),l},l.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),l):e.slice()},l.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),l):r&&r.slice()},l.tickFormat=function(d){return arguments.length?(i=d,l):i},l.tickSize=function(d){return arguments.length?(o=a=+d,l):o},l.tickSizeInner=function(d){return arguments.length?(o=+d,l):o},l.tickSizeOuter=function(d){return arguments.length?(a=+d,l):a},l.tickPadding=function(d){return arguments.length?(u=+d,l):u},l.offset=function(d){return arguments.length?(s=+d,l):s},l}function i9(t){return uf(rc,t)}function o9(t){return uf(ic,t)}function a9(t){return uf(p0,t)}function u9(t){return uf(oa,t)}var c9={value:()=>{}};function Di(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new oc(e)}function oc(t){this._=t}function s9(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}oc.prototype=Di.prototype={constructor:oc,on:function(t,n){var e=this._,r=s9(t+"",e),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=f9(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(i=(t=r[o]).type)e[i]=ep(e[i],t.name,n);else if(n==null)for(i in e)e[i]=ep(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new oc(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function f9(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function ep(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=c9,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var v0="http://www.w3.org/1999/xhtml";const m0={svg:"http://www.w3.org/2000/svg",xhtml:v0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function iu(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),m0.hasOwnProperty(n)?{space:m0[n],local:t}:t}function l9(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===v0&&n.documentElement.namespaceURI===v0?n.createElement(t):n.createElementNS(e,t)}}function h9(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function cf(t){var n=iu(t);return(n.local?h9:l9)(n)}function d9(){}function sf(t){return t==null?d9:function(){return this.querySelector(t)}}function g9(t){typeof t!="function"&&(t=sf(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,u=r[i]=new Array(a),s,c,f=0;f<a;++f)(s=o[f])&&(c=t.call(s,s.__data__,f,o))&&("__data__"in s&&(c.__data__=s.__data__),u[f]=c);return new Jn(r,this._parents)}function M3(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function p9(){return[]}function A1(t){return t==null?p9:function(){return this.querySelectorAll(t)}}function v9(t){return function(){return M3(t.apply(this,arguments))}}function m9(t){typeof t=="function"?t=v9(t):t=A1(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a=n[o],u=a.length,s,c=0;c<u;++c)(s=a[c])&&(r.push(t.call(s,s.__data__,c,a)),i.push(s));return new Jn(r,i)}function P1(t){return function(){return this.matches(t)}}function x3(t){return function(n){return n.matches(t)}}var y9=Array.prototype.find;function w9(t){return function(){return y9.call(this.children,t)}}function _9(){return this.firstElementChild}function b9(t){return this.select(t==null?_9:w9(typeof t=="function"?t:x3(t)))}var M9=Array.prototype.filter;function x9(){return Array.from(this.children)}function S9(t){return function(){return M9.call(this.children,t)}}function E9(t){return this.selectAll(t==null?x9:S9(typeof t=="function"?t:x3(t)))}function $9(t){typeof t!="function"&&(t=P1(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,u=r[i]=[],s,c=0;c<a;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&u.push(s);return new Jn(r,this._parents)}function S3(t){return new Array(t.length)}function A9(){return new Jn(this._enter||this._groups.map(S3),this._parents)}function Nc(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Nc.prototype={constructor:Nc,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function P9(t){return function(){return t}}function T9(t,n,e,r,i,o){for(var a=0,u,s=n.length,c=o.length;a<c;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new Nc(t,o[a]);for(;a<s;++a)(u=n[a])&&(i[a]=u)}function R9(t,n,e,r,i,o,a){var u,s,c=new Map,f=n.length,h=o.length,l=new Array(f),d;for(u=0;u<f;++u)(s=n[u])&&(l[u]=d=a.call(s,s.__data__,u,n)+"",c.has(d)?i[u]=s:c.set(d,s));for(u=0;u<h;++u)d=a.call(t,o[u],u,o)+"",(s=c.get(d))?(r[u]=s,s.__data__=o[u],c.delete(d)):e[u]=new Nc(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&c.get(l[u])===s&&(i[u]=s)}function N9(t){return t.__data__}function C9(t,n){if(!arguments.length)return Array.from(this,N9);var e=n?R9:T9,r=this._parents,i=this._groups;typeof t!="function"&&(t=P9(t));for(var o=i.length,a=new Array(o),u=new Array(o),s=new Array(o),c=0;c<o;++c){var f=r[c],h=i[c],l=h.length,d=k9(t.call(f,f&&f.__data__,c,r)),g=d.length,p=u[c]=new Array(g),v=a[c]=new Array(g),m=s[c]=new Array(l);e(f,h,p,v,m,d,n);for(var w=0,_=0,y,M;w<g;++w)if(y=p[w]){for(w>=_&&(_=w+1);!(M=v[_])&&++_<g;);y._next=M||null}}return a=new Jn(a,r),a._enter=u,a._exit=s,a}function k9(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function I9(){return new Jn(this._exit||this._groups.map(S3),this._parents)}function z9(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function D9(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),u=new Array(i),s=0;s<a;++s)for(var c=e[s],f=r[s],h=c.length,l=u[s]=new Array(h),d,g=0;g<h;++g)(d=c[g]||f[g])&&(l[g]=d);for(;s<i;++s)u[s]=e[s];return new Jn(u,this._parents)}function O9(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function F9(t){t||(t=L9);function n(h,l){return h&&l?t(h.__data__,l.__data__):!h-!l}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a=e[o],u=a.length,s=i[o]=new Array(u),c,f=0;f<u;++f)(c=a[f])&&(s[f]=c);s.sort(n)}return new Jn(i,this._parents).order()}function L9(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function q9(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function U9(){return Array.from(this)}function G9(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function H9(){let t=0;for(const n of this)++t;return t}function B9(){return!this.node()}function Y9(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length,u;o<a;++o)(u=i[o])&&t.call(u,u.__data__,o,i);return this}function V9(t){return function(){this.removeAttribute(t)}}function W9(t){return function(){this.removeAttributeNS(t.space,t.local)}}function X9(t,n){return function(){this.setAttribute(t,n)}}function Z9(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function K9(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Q9(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function J9(t,n){var e=iu(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?W9:V9:typeof n=="function"?e.local?Q9:K9:e.local?Z9:X9)(e,n))}function T1(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function j9(t){return function(){this.style.removeProperty(t)}}function t7(t,n,e){return function(){this.style.setProperty(t,n,e)}}function n7(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function e7(t,n,e){return arguments.length>1?this.each((n==null?j9:typeof n=="function"?n7:t7)(t,n,e??"")):Si(this.node(),t)}function Si(t,n){return t.style.getPropertyValue(n)||T1(t).getComputedStyle(t,null).getPropertyValue(n)}function r7(t){return function(){delete this[t]}}function i7(t,n){return function(){this[t]=n}}function o7(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function a7(t,n){return arguments.length>1?this.each((n==null?r7:typeof n=="function"?o7:i7)(t,n)):this.node()[t]}function E3(t){return t.trim().split(/^|\s+/)}function R1(t){return t.classList||new $3(t)}function $3(t){this._node=t,this._names=E3(t.getAttribute("class")||"")}$3.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function A3(t,n){for(var e=R1(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function P3(t,n){for(var e=R1(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function u7(t){return function(){A3(this,t)}}function c7(t){return function(){P3(this,t)}}function s7(t,n){return function(){(n.apply(this,arguments)?A3:P3)(this,t)}}function f7(t,n){var e=E3(t+"");if(arguments.length<2){for(var r=R1(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?s7:n?u7:c7)(e,n))}function l7(){this.textContent=""}function h7(t){return function(){this.textContent=t}}function d7(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function g7(t){return arguments.length?this.each(t==null?l7:(typeof t=="function"?d7:h7)(t)):this.node().textContent}function p7(){this.innerHTML=""}function v7(t){return function(){this.innerHTML=t}}function m7(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function y7(t){return arguments.length?this.each(t==null?p7:(typeof t=="function"?m7:v7)(t)):this.node().innerHTML}function w7(){this.nextSibling&&this.parentNode.appendChild(this)}function _7(){return this.each(w7)}function b7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function M7(){return this.each(b7)}function x7(t){var n=typeof t=="function"?t:cf(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function S7(){return null}function E7(t,n){var e=typeof t=="function"?t:cf(t),r=n==null?S7:typeof n=="function"?n:sf(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function $7(){var t=this.parentNode;t&&t.removeChild(this)}function A7(){return this.each($7)}function P7(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function T7(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function R7(t){return this.select(t?T7:P7)}function N7(t){return arguments.length?this.property("__data__",t):this.node().__data__}function C7(t){return function(n){t.call(this,n,this.__data__)}}function k7(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function I7(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function z7(t,n,e){return function(){var r=this.__on,i,o=C7(n);if(r){for(var a=0,u=r.length;a<u;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function D7(t,n,e){var r=k7(t+""),i,o=r.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var s=0,c=u.length,f;s<c;++s)for(i=0,f=u[s];i<o;++i)if((a=r[i]).type===f.type&&a.name===f.name)return f.value}return}for(u=n?z7:I7,i=0;i<o;++i)this.each(u(r[i],n,e));return this}function T3(t,n,e){var r=T1(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function O7(t,n){return function(){return T3(this,t,n)}}function F7(t,n){return function(){return T3(this,t,n.apply(this,arguments))}}function L7(t,n){return this.each((typeof n=="function"?F7:O7)(t,n))}function*q7(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var N1=[null];function Jn(t,n){this._groups=t,this._parents=n}function Oi(){return new Jn([[document.documentElement]],N1)}function U7(){return this}Jn.prototype=Oi.prototype={constructor:Jn,select:g9,selectAll:m9,selectChild:b9,selectChildren:E9,filter:$9,data:C9,enter:A9,exit:I9,join:z9,merge:D9,selection:U7,order:O9,sort:F9,call:q9,nodes:U9,node:G9,size:H9,empty:B9,each:Y9,attr:J9,style:e7,property:a7,classed:f7,text:g7,html:y7,raise:_7,lower:M7,append:x7,insert:E7,remove:A7,clone:R7,datum:N7,on:D7,dispatch:L7,[Symbol.iterator]:q7};function rt(t){return typeof t=="string"?new Jn([[document.querySelector(t)]],[document.documentElement]):new Jn([[t]],N1)}function G7(t){return rt(cf(t).call(document.documentElement))}var H7=0;function R3(){return new y0}function y0(){this._="@"+(++H7).toString(36)}y0.prototype=R3.prototype={constructor:y0,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function N3(t){let n;for(;n=t.sourceEvent;)t=n;return t}function Un(t,n){if(t=N3(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function B7(t,n){return t.target&&(t=N3(t),n===void 0&&(n=t.currentTarget),t=t.touches||[t]),Array.from(t,e=>Un(e,n))}function li(t){return typeof t=="string"?new Jn([document.querySelectorAll(t)],[document.documentElement]):new Jn([M3(t)],N1)}const Y7={passive:!1},za={capture:!0,passive:!1};function sl(t){t.stopImmediatePropagation()}function oo(t){t.preventDefault(),t.stopImmediatePropagation()}function ff(t){var n=t.document.documentElement,e=rt(t).on("dragstart.drag",oo,za);"onselectstart"in n?e.on("selectstart.drag",oo,za):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function lf(t,n){var e=t.document.documentElement,r=rt(t).on("dragstart.drag",null);n&&(r.on("click.drag",oo,za),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}const xu=t=>()=>t;function w0(t,{sourceEvent:n,subject:e,target:r,identifier:i,active:o,x:a,y:u,dx:s,dy:c,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:f}})}w0.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function V7(t){return!t.ctrlKey&&!t.button}function W7(){return this.parentNode}function X7(t,n){return n??{x:t.x,y:t.y}}function Z7(){return navigator.maxTouchPoints||"ontouchstart"in this}function K7(){var t=V7,n=W7,e=X7,r=Z7,i={},o=Di("start","drag","end"),a=0,u,s,c,f,h=0;function l(y){y.on("mousedown.drag",d).filter(r).on("touchstart.drag",v).on("touchmove.drag",m,Y7).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(y,M){if(!(f||!t.call(this,y,M))){var x=_(this,n.call(this,y,M),y,M,"mouse");x&&(rt(y.view).on("mousemove.drag",g,za).on("mouseup.drag",p,za),ff(y.view),sl(y),c=!1,u=y.clientX,s=y.clientY,x("start",y))}}function g(y){if(oo(y),!c){var M=y.clientX-u,x=y.clientY-s;c=M*M+x*x>h}i.mouse("drag",y)}function p(y){rt(y.view).on("mousemove.drag mouseup.drag",null),lf(y.view,c),oo(y),i.mouse("end",y)}function v(y,M){if(t.call(this,y,M)){var x=y.changedTouches,T=n.call(this,y,M),N=x.length,C,I;for(C=0;C<N;++C)(I=_(this,T,y,M,x[C].identifier,x[C]))&&(sl(y),I("start",y,x[C]))}}function m(y){var M=y.changedTouches,x=M.length,T,N;for(T=0;T<x;++T)(N=i[M[T].identifier])&&(oo(y),N("drag",y,M[T]))}function w(y){var M=y.changedTouches,x=M.length,T,N;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),T=0;T<x;++T)(N=i[M[T].identifier])&&(sl(y),N("end",y,M[T]))}function _(y,M,x,T,N,C){var I=o.copy(),P=Un(C||x,M),B,F,A;if((A=e.call(y,new w0("beforestart",{sourceEvent:x,target:l,identifier:N,active:a,x:P[0],y:P[1],dx:0,dy:0,dispatch:I}),T))!=null)return B=A.x-P[0]||0,F=A.y-P[1]||0,function $(k,E,O){var z=P,H;switch(k){case"start":i[N]=$,H=a++;break;case"end":delete i[N],--a;case"drag":P=Un(O||E,M),H=a;break}I.call(k,y,new w0(k,{sourceEvent:E,subject:A,target:l,identifier:N,active:H,x:P[0]+B,y:P[1]+F,dx:P[0]-z[0],dy:P[1]-z[1],dispatch:I}),T)}}return l.filter=function(y){return arguments.length?(t=typeof y=="function"?y:xu(!!y),l):t},l.container=function(y){return arguments.length?(n=typeof y=="function"?y:xu(y),l):n},l.subject=function(y){return arguments.length?(e=typeof y=="function"?y:xu(y),l):e},l.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:xu(!!y),l):r},l.on=function(){var y=o.on.apply(o,arguments);return y===o?l:y},l.clickDistance=function(y){return arguments.length?(h=(y=+y)*y,l):Math.sqrt(h)},l}function Uo(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function ou(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function jr(){}var Ei=.7,wo=1/Ei,ao="\\s*([+-]?\\d+)\\s*",Da="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Q7=/^#([0-9a-f]{3,8})$/,J7=new RegExp(`^rgb\\(${ao},${ao},${ao}\\)$`),j7=new RegExp(`^rgb\\(${Qe},${Qe},${Qe}\\)$`),tM=new RegExp(`^rgba\\(${ao},${ao},${ao},${Da}\\)$`),nM=new RegExp(`^rgba\\(${Qe},${Qe},${Qe},${Da}\\)$`),eM=new RegExp(`^hsl\\(${Da},${Qe},${Qe}\\)$`),rM=new RegExp(`^hsla\\(${Da},${Qe},${Qe},${Da}\\)$`),rp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Uo(jr,Yr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ip,formatHex:ip,formatHex8:iM,formatHsl:oM,formatRgb:op,toString:op});function ip(){return this.rgb().formatHex()}function iM(){return this.rgb().formatHex8()}function oM(){return C3(this).formatHsl()}function op(){return this.rgb().formatRgb()}function Yr(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Q7.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?ap(n):e===3?new bn(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Su(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Su(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=J7.exec(t))?new bn(n[1],n[2],n[3],1):(n=j7.exec(t))?new bn(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=tM.exec(t))?Su(n[1],n[2],n[3],n[4]):(n=nM.exec(t))?Su(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=eM.exec(t))?sp(n[1],n[2]/100,n[3]/100,1):(n=rM.exec(t))?sp(n[1],n[2]/100,n[3]/100,n[4]):rp.hasOwnProperty(t)?ap(rp[t]):t==="transparent"?new bn(NaN,NaN,NaN,0):null}function ap(t){return new bn(t>>16&255,t>>8&255,t&255,1)}function Su(t,n,e,r){return r<=0&&(t=n=e=NaN),new bn(t,n,e,r)}function C1(t){return t instanceof jr||(t=Yr(t)),t?(t=t.rgb(),new bn(t.r,t.g,t.b,t.opacity)):new bn}function _o(t,n,e,r){return arguments.length===1?C1(t):new bn(t,n,e,r??1)}function bn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Uo(bn,_o,ou(jr,{brighter(t){return t=t==null?wo:Math.pow(wo,t),new bn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ei:Math.pow(Ei,t),new bn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new bn(mi(this.r),mi(this.g),mi(this.b),Cc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:up,formatHex:up,formatHex8:aM,formatRgb:cp,toString:cp}));function up(){return`#${di(this.r)}${di(this.g)}${di(this.b)}`}function aM(){return`#${di(this.r)}${di(this.g)}${di(this.b)}${di((isNaN(this.opacity)?1:this.opacity)*255)}`}function cp(){const t=Cc(this.opacity);return`${t===1?"rgb(":"rgba("}${mi(this.r)}, ${mi(this.g)}, ${mi(this.b)}${t===1?")":`, ${t})`}`}function Cc(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function mi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function di(t){return t=mi(t),(t<16?"0":"")+t.toString(16)}function sp(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new De(t,n,e,r)}function C3(t){if(t instanceof De)return new De(t.h,t.s,t.l,t.opacity);if(t instanceof jr||(t=Yr(t)),!t)return new De;if(t instanceof De)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(n===o?a=(e-r)/u+(e<r)*6:e===o?a=(r-n)/u+2:a=(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new De(a,u,s,t.opacity)}function kc(t,n,e,r){return arguments.length===1?C3(t):new De(t,n,e,r??1)}function De(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Uo(De,kc,ou(jr,{brighter(t){return t=t==null?wo:Math.pow(wo,t),new De(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ei:Math.pow(Ei,t),new De(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new bn(fl(t>=240?t-240:t+120,i,r),fl(t,i,r),fl(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new De(fp(this.h),Eu(this.s),Eu(this.l),Cc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Cc(this.opacity);return`${t===1?"hsl(":"hsla("}${fp(this.h)}, ${Eu(this.s)*100}%, ${Eu(this.l)*100}%${t===1?")":`, ${t})`}`}}));function fp(t){return t=(t||0)%360,t<0?t+360:t}function Eu(t){return Math.max(0,Math.min(1,t||0))}function fl(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const k3=Math.PI/180,I3=180/Math.PI,Ic=18,z3=.96422,D3=1,O3=.82521,F3=4/29,uo=6/29,L3=3*uo*uo,uM=uo*uo*uo;function q3(t){if(t instanceof Le)return new Le(t.l,t.a,t.b,t.opacity);if(t instanceof Ze)return G3(t);t instanceof bn||(t=C1(t));var n=gl(t.r),e=gl(t.g),r=gl(t.b),i=ll((.2225045*n+.7168786*e+.0606169*r)/D3),o,a;return n===e&&e===r?o=a=i:(o=ll((.4360747*n+.3850649*e+.1430804*r)/z3),a=ll((.0139322*n+.0971045*e+.7141733*r)/O3)),new Le(116*i-16,500*(o-i),200*(i-a),t.opacity)}function cM(t,n){return new Le(t,0,0,n??1)}function zc(t,n,e,r){return arguments.length===1?q3(t):new Le(t,n,e,r??1)}function Le(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}Uo(Le,zc,ou(jr,{brighter(t){return new Le(this.l+Ic*(t??1),this.a,this.b,this.opacity)},darker(t){return new Le(this.l-Ic*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=z3*hl(n),t=D3*hl(t),e=O3*hl(e),new bn(dl(3.1338561*n-1.6168667*t-.4906146*e),dl(-.9787684*n+1.9161415*t+.033454*e),dl(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function ll(t){return t>uM?Math.pow(t,1/3):t/L3+F3}function hl(t){return t>uo?t*t*t:L3*(t-F3)}function dl(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function gl(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function U3(t){if(t instanceof Ze)return new Ze(t.h,t.c,t.l,t.opacity);if(t instanceof Le||(t=q3(t)),t.a===0&&t.b===0)return new Ze(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*I3;return new Ze(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function sM(t,n,e,r){return arguments.length===1?U3(t):new Ze(e,n,t,r??1)}function Dc(t,n,e,r){return arguments.length===1?U3(t):new Ze(t,n,e,r??1)}function Ze(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function G3(t){if(isNaN(t.h))return new Le(t.l,0,0,t.opacity);var n=t.h*k3;return new Le(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}Uo(Ze,Dc,ou(jr,{brighter(t){return new Ze(this.h,this.c,this.l+Ic*(t??1),this.opacity)},darker(t){return new Ze(this.h,this.c,this.l-Ic*(t??1),this.opacity)},rgb(){return G3(this).rgb()}}));var H3=-.14861,k1=1.78277,I1=-.29227,hf=-.90649,Oa=1.97294,lp=Oa*hf,hp=Oa*k1,dp=k1*I1-hf*H3;function fM(t){if(t instanceof yi)return new yi(t.h,t.s,t.l,t.opacity);t instanceof bn||(t=C1(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(dp*r+lp*n-hp*e)/(dp+lp-hp),o=r-i,a=(Oa*(e-i)-I1*o)/hf,u=Math.sqrt(a*a+o*o)/(Oa*i*(1-i)),s=u?Math.atan2(a,o)*I3-120:NaN;return new yi(s<0?s+360:s,u,i,t.opacity)}function Ue(t,n,e,r){return arguments.length===1?fM(t):new yi(t,n,e,r??1)}function yi(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Uo(yi,Ue,ou(jr,{brighter(t){return t=t==null?wo:Math.pow(wo,t),new yi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ei:Math.pow(Ei,t),new yi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*k3,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new bn(255*(n+e*(H3*r+k1*i)),255*(n+e*(I1*r+hf*i)),255*(n+e*(Oa*r)),this.opacity)}}));function B3(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function Y3(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<n-1?t[r+2]:2*o-i;return B3((e-r/n)*n,a,i,o,u)}}function V3(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],u=t[(r+2)%n];return B3((e-r/n)*n,i,o,a,u)}}const df=t=>()=>t;function W3(t,n){return function(e){return t+e*n}}function lM(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function gf(t,n){var e=n-t;return e?W3(t,e>180||e<-180?e-360*Math.round(e/360):e):df(isNaN(t)?n:t)}function hM(t){return(t=+t)==1?Mn:function(n,e){return e-n?lM(n,e,t):df(isNaN(n)?e:n)}}function Mn(t,n){var e=n-t;return e?W3(t,e):df(isNaN(t)?n:t)}const Fa=function t(n){var e=hM(n);function r(i,o){var a=e((i=_o(i)).r,(o=_o(o)).r),u=e(i.g,o.g),s=e(i.b,o.b),c=Mn(i.opacity,o.opacity);return function(f){return i.r=a(f),i.g=u(f),i.b=s(f),i.opacity=c(f),i+""}}return r.gamma=t,r}(1);function X3(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),o=new Array(e),a,u;for(a=0;a<e;++a)u=_o(n[a]),r[a]=u.r||0,i[a]=u.g||0,o[a]=u.b||0;return r=t(r),i=t(i),o=t(o),u.opacity=1,function(s){return u.r=r(s),u.g=i(s),u.b=o(s),u+""}}}var Z3=X3(Y3),dM=X3(V3);function z1(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function K3(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gM(t,n){return(K3(n)?z1:Q3)(t,n)}function Q3(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=ti(t[a],n[a]);for(;a<e;++a)o[a]=n[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function J3(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Ee(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function j3(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=ti(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var _0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pl=new RegExp(_0.source,"g");function pM(t){return function(){return t}}function vM(t){return function(n){return t(n)+""}}function D1(t,n){var e=_0.lastIndex=pl.lastIndex=0,r,i,o,a=-1,u=[],s=[];for(t=t+"",n=n+"";(r=_0.exec(t))&&(i=pl.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,s.push({i:a,x:Ee(r,i)})),e=pl.lastIndex;return e<n.length&&(o=n.slice(e),u[a]?u[a]+=o:u[++a]=o),u.length<2?s[0]?vM(s[0].x):pM(n):(n=s.length,function(c){for(var f=0,h;f<n;++f)u[(h=s[f]).i]=h.x(c);return u.join("")})}function ti(t,n){var e=typeof n,r;return n==null||e==="boolean"?df(n):(e==="number"?Ee:e==="string"?(r=Yr(n))?(n=r,Fa):D1:n instanceof Yr?Fa:n instanceof Date?J3:K3(n)?z1:Array.isArray(n)?Q3:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?j3:Ee)(t,n)}function mM(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}function yM(t,n){var e=gf(+t,+n);return function(r){var i=e(r);return i-360*Math.floor(i/360)}}function pf(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var gp=180/Math.PI,b0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function tw(t,n,e,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*gp,skewX:Math.atan(s)*gp,scaleX:a,scaleY:u}}var $u;function wM(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?b0:tw(n.a,n.b,n.c,n.d,n.e,n.f)}function _M(t){return t==null||($u||($u=document.createElementNS("http://www.w3.org/2000/svg","g")),$u.setAttribute("transform",t),!(t=$u.transform.baseVal.consolidate()))?b0:(t=t.matrix,tw(t.a,t.b,t.c,t.d,t.e,t.f))}function nw(t,n,e,r){function i(c){return c.length?c.pop()+" ":""}function o(c,f,h,l,d,g){if(c!==h||f!==l){var p=d.push("translate(",null,n,null,e);g.push({i:p-4,x:Ee(c,h)},{i:p-2,x:Ee(f,l)})}else(h||l)&&d.push("translate("+h+n+l+e)}function a(c,f,h,l){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),l.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Ee(c,f)})):f&&h.push(i(h)+"rotate("+f+r)}function u(c,f,h,l){c!==f?l.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Ee(c,f)}):f&&h.push(i(h)+"skewX("+f+r)}function s(c,f,h,l,d,g){if(c!==h||f!==l){var p=d.push(i(d)+"scale(",null,",",null,")");g.push({i:p-4,x:Ee(c,h)},{i:p-2,x:Ee(f,l)})}else(h!==1||l!==1)&&d.push(i(d)+"scale("+h+","+l+")")}return function(c,f){var h=[],l=[];return c=t(c),f=t(f),o(c.translateX,c.translateY,f.translateX,f.translateY,h,l),a(c.rotate,f.rotate,h,l),u(c.skewX,f.skewX,h,l),s(c.scaleX,c.scaleY,f.scaleX,f.scaleY,h,l),c=f=null,function(d){for(var g=-1,p=l.length,v;++g<p;)h[(v=l[g]).i]=v.x(d);return h.join("")}}}var ew=nw(wM,"px, ","px)","deg)"),rw=nw(_M,", ",")",")"),bM=1e-12;function pp(t){return((t=Math.exp(t))+1/t)/2}function MM(t){return((t=Math.exp(t))-1/t)/2}function xM(t){return((t=Math.exp(2*t))-1)/(t+1)}const iw=function t(n,e,r){function i(o,a){var u=o[0],s=o[1],c=o[2],f=a[0],h=a[1],l=a[2],d=f-u,g=h-s,p=d*d+g*g,v,m;if(p<bM)m=Math.log(l/c)/n,v=function(T){return[u+T*d,s+T*g,c*Math.exp(n*T*m)]};else{var w=Math.sqrt(p),_=(l*l-c*c+r*p)/(2*c*e*w),y=(l*l-c*c-r*p)/(2*l*e*w),M=Math.log(Math.sqrt(_*_+1)-_),x=Math.log(Math.sqrt(y*y+1)-y);m=(x-M)/n,v=function(T){var N=T*m,C=pp(M),I=c/(e*w)*(C*xM(n*N+M)-MM(M));return[u+I*d,s+I*g,c*C/pp(n*N+M)]}}return v.duration=m*1e3*n/Math.SQRT2,v}return i.rho=function(o){var a=Math.max(.001,+o),u=a*a,s=u*u;return t(a,u,s)},i}(Math.SQRT2,2,4);function ow(t){return function(n,e){var r=t((n=kc(n)).h,(e=kc(e)).h),i=Mn(n.s,e.s),o=Mn(n.l,e.l),a=Mn(n.opacity,e.opacity);return function(u){return n.h=r(u),n.s=i(u),n.l=o(u),n.opacity=a(u),n+""}}}const SM=ow(gf);var EM=ow(Mn);function $M(t,n){var e=Mn((t=zc(t)).l,(n=zc(n)).l),r=Mn(t.a,n.a),i=Mn(t.b,n.b),o=Mn(t.opacity,n.opacity);return function(a){return t.l=e(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function aw(t){return function(n,e){var r=t((n=Dc(n)).h,(e=Dc(e)).h),i=Mn(n.c,e.c),o=Mn(n.l,e.l),a=Mn(n.opacity,e.opacity);return function(u){return n.h=r(u),n.c=i(u),n.l=o(u),n.opacity=a(u),n+""}}}const AM=aw(gf);var PM=aw(Mn);function uw(t){return function n(e){e=+e;function r(i,o){var a=t((i=Ue(i)).h,(o=Ue(o)).h),u=Mn(i.s,o.s),s=Mn(i.l,o.l),c=Mn(i.opacity,o.opacity);return function(f){return i.h=a(f),i.s=u(f),i.l=s(Math.pow(f,e)),i.opacity=c(f),i+""}}return r.gamma=n,r}(1)}const TM=uw(gf);var vf=uw(Mn);function cw(t,n){n===void 0&&(n=t,t=ti);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(a){var u=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[u](a-u)}}function RM(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}var bo=0,aa=0,Zo=0,sw=1e3,Oc,ua,Fc=0,$i=0,mf=0,La=typeof performance=="object"&&performance.now?performance:Date,fw=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function au(){return $i||(fw(NM),$i=La.now()+mf)}function NM(){$i=0}function qa(){this._call=this._time=this._next=null}qa.prototype=yf.prototype={constructor:qa,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?au():+e)+(n==null?0:+n),!this._next&&ua!==this&&(ua?ua._next=this:Oc=this,ua=this),this._call=t,this._time=e,M0()},stop:function(){this._call&&(this._call=null,this._time=1/0,M0())}};function yf(t,n,e){var r=new qa;return r.restart(t,n,e),r}function lw(){au(),++bo;for(var t=Oc,n;t;)(n=$i-t._time)>=0&&t._call.call(void 0,n),t=t._next;--bo}function vp(){$i=(Fc=La.now())+mf,bo=aa=0;try{lw()}finally{bo=0,kM(),$i=0}}function CM(){var t=La.now(),n=t-Fc;n>sw&&(mf-=n,Fc=t)}function kM(){for(var t,n=Oc,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Oc=e);ua=t,M0(r)}function M0(t){if(!bo){aa&&(aa=clearTimeout(aa));var n=t-$i;n>24?(t<1/0&&(aa=setTimeout(vp,t-La.now()-mf)),Zo&&(Zo=clearInterval(Zo))):(Zo||(Fc=La.now(),Zo=setInterval(CM,sw)),bo=1,fw(vp))}}function x0(t,n,e){var r=new qa;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}function IM(t,n,e){var r=new qa,i=n;return n==null?(r.restart(t,n,e),r):(r._restart=r.restart,r.restart=function(o,a,u){a=+a,u=u==null?au():+u,r._restart(function s(c){c+=i,r._restart(s,i+=a,u),o(c)},a,u)},r.restart(t,n,e),r)}var zM=Di("start","end","cancel","interrupt"),DM=[],hw=0,S0=1,E0=2,ac=3,mp=4,$0=5,uc=6;function wf(t,n,e,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;OM(t,e,{name:n,index:r,group:i,on:zM,tween:DM,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:hw})}function O1(t,n){var e=Ge(t,n);if(e.state>hw)throw new Error("too late; already scheduled");return e}function or(t,n){var e=Ge(t,n);if(e.state>ac)throw new Error("too late; already running");return e}function Ge(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function OM(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=yf(o,0,e.time);function o(c){e.state=S0,e.timer.restart(a,e.delay,e.time),e.delay<=c&&a(c-e.delay)}function a(c){var f,h,l,d;if(e.state!==S0)return s();for(f in r)if(d=r[f],d.name===e.name){if(d.state===ac)return x0(a);d.state===mp?(d.state=uc,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[f]):+f<n&&(d.state=uc,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[f])}if(x0(function(){e.state===ac&&(e.state=mp,e.timer.restart(u,e.delay,e.time),u(c))}),e.state=E0,e.on.call("start",t,t.__data__,e.index,e.group),e.state===E0){for(e.state=ac,i=new Array(l=e.tween.length),f=0,h=-1;f<l;++f)(d=e.tween[f].value.call(t,t.__data__,e.index,e.group))&&(i[++h]=d);i.length=h+1}}function u(c){for(var f=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(s),e.state=$0,1),h=-1,l=i.length;++h<l;)i[h].call(t,f);e.state===$0&&(e.on.call("end",t,t.__data__,e.index,e.group),s())}function s(){e.state=uc,e.timer.stop(),delete r[n];for(var c in r)return;delete t.__transition}}function wi(t,n){var e=t.__transition,r,i,o=!0,a;if(e){n=n==null?null:n+"";for(a in e){if((r=e[a]).name!==n){o=!1;continue}i=r.state>E0&&r.state<$0,r.state=uc,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[a]}o&&delete t.__transition}}function FM(t){return this.each(function(){wi(this,t)})}function LM(t,n){var e,r;return function(){var i=or(this,t),o=i.tween;if(o!==e){r=e=o;for(var a=0,u=r.length;a<u;++a)if(r[a].name===n){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function qM(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=or(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=u;break}s===c&&i.push(u)}o.tween=i}}function UM(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=Ge(this.node(),e).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((n==null?LM:qM)(e,t,n))}function F1(t,n,e){var r=t._id;return t.each(function(){var i=or(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return Ge(i,r).value[n]}}function dw(t,n){var e;return(typeof n=="number"?Ee:n instanceof Yr?Fa:(e=Yr(n))?(n=e,Fa):D1)(t,n)}function GM(t){return function(){this.removeAttribute(t)}}function HM(t){return function(){this.removeAttributeNS(t.space,t.local)}}function BM(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=n(r=a,e)}}function YM(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=n(r=a,e)}}function VM(t,n,e){var r,i,o;return function(){var a,u=e(this),s;return u==null?void this.removeAttribute(t):(a=this.getAttribute(t),s=u+"",a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u)))}}function WM(t,n,e){var r,i,o;return function(){var a,u=e(this),s;return u==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),s=u+"",a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u)))}}function XM(t,n){var e=iu(t),r=e==="transform"?rw:dw;return this.attrTween(t,typeof n=="function"?(e.local?WM:VM)(e,r,F1(this,"attr."+t,n)):n==null?(e.local?HM:GM)(e):(e.local?YM:BM)(e,r,n))}function ZM(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function KM(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function QM(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&KM(t,o)),e}return i._value=n,i}function JM(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&ZM(t,o)),e}return i._value=n,i}function jM(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=iu(t);return this.tween(e,(r.local?QM:JM)(r,n))}function tx(t,n){return function(){O1(this,t).delay=+n.apply(this,arguments)}}function nx(t,n){return n=+n,function(){O1(this,t).delay=n}}function ex(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?tx:nx)(n,t)):Ge(this.node(),n).delay}function rx(t,n){return function(){or(this,t).duration=+n.apply(this,arguments)}}function ix(t,n){return n=+n,function(){or(this,t).duration=n}}function ox(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?rx:ix)(n,t)):Ge(this.node(),n).duration}function ax(t,n){if(typeof n!="function")throw new Error;return function(){or(this,t).ease=n}}function ux(t){var n=this._id;return arguments.length?this.each(ax(n,t)):Ge(this.node(),n).ease}function cx(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;or(this,t).ease=e}}function sx(t){if(typeof t!="function")throw new Error;return this.each(cx(this._id,t))}function fx(t){typeof t!="function"&&(t=P1(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,u=r[i]=[],s,c=0;c<a;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&u.push(s);return new Je(r,this._parents,this._name,this._id)}function lx(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s=n[u],c=e[u],f=s.length,h=a[u]=new Array(f),l,d=0;d<f;++d)(l=s[d]||c[d])&&(h[d]=l);for(;u<r;++u)a[u]=n[u];return new Je(a,this._parents,this._name,this._id)}function hx(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function dx(t,n,e){var r,i,o=hx(n)?O1:or;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}function gx(t,n){var e=this._id;return arguments.length<2?Ge(this.node(),e).on.on(t):this.each(dx(e,t,n))}function px(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function vx(){return this.on("end.remove",px(this._id))}function mx(t){var n=this._name,e=this._id;typeof t!="function"&&(t=sf(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u=r[a],s=u.length,c=o[a]=new Array(s),f,h,l=0;l<s;++l)(f=u[l])&&(h=t.call(f,f.__data__,l,u))&&("__data__"in f&&(h.__data__=f.__data__),c[l]=h,wf(c[l],n,e,l,c,Ge(f,e)));return new Je(o,this._parents,n,e)}function yx(t){var n=this._name,e=this._id;typeof t!="function"&&(t=A1(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s=r[u],c=s.length,f,h=0;h<c;++h)if(f=s[h]){for(var l=t.call(f,f.__data__,h,s),d,g=Ge(f,e),p=0,v=l.length;p<v;++p)(d=l[p])&&wf(d,n,e,p,l,g);o.push(l),a.push(f)}return new Je(o,a,n,e)}var wx=Oi.prototype.constructor;function _x(){return new wx(this._groups,this._parents)}function bx(t,n){var e,r,i;return function(){var o=Si(this,t),a=(this.style.removeProperty(t),Si(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}function gw(t){return function(){this.style.removeProperty(t)}}function Mx(t,n,e){var r,i=e+"",o;return function(){var a=Si(this,t);return a===i?null:a===r?o:o=n(r=a,e)}}function xx(t,n,e){var r,i,o;return function(){var a=Si(this,t),u=e(this),s=u+"";return u==null&&(s=u=(this.style.removeProperty(t),Si(this,t))),a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u))}}function Sx(t,n){var e,r,i,o="style."+n,a="end."+o,u;return function(){var s=or(this,t),c=s.on,f=s.value[o]==null?u||(u=gw(n)):void 0;(c!==e||i!==f)&&(r=(e=c).copy()).on(a,i=f),s.on=r}}function Ex(t,n,e){var r=(t+="")=="transform"?ew:dw;return n==null?this.styleTween(t,bx(t,r)).on("end.style."+t,gw(t)):typeof n=="function"?this.styleTween(t,xx(t,r,F1(this,"style."+t,n))).each(Sx(this._id,t)):this.styleTween(t,Mx(t,r,n),e).on("end.style."+t,null)}function $x(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Ax(t,n,e){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&$x(t,a,e)),r}return o._value=n,o}function Px(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Ax(t,n,e??""))}function Tx(t){return function(){this.textContent=t}}function Rx(t){return function(){var n=t(this);this.textContent=n??""}}function Nx(t){return this.tween("text",typeof t=="function"?Rx(F1(this,"text",t)):Tx(t==null?"":t+""))}function Cx(t){return function(n){this.textContent=t.call(this,n)}}function kx(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Cx(i)),n}return r._value=t,r}function Ix(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,kx(t))}function zx(){for(var t=this._name,n=this._id,e=vw(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],u=a.length,s,c=0;c<u;++c)if(s=a[c]){var f=Ge(s,n);wf(s,t,e,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Je(r,this._parents,t,e)}function Dx(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var u={value:a},s={value:function(){--i===0&&o()}};e.each(function(){var c=or(this,r),f=c.on;f!==t&&(n=(t=f).copy(),n._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),c.on=n}),i===0&&o()})}var Ox=0;function Je(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function pw(t){return Oi().transition(t)}function vw(){return++Ox}var ar=Oi.prototype;Je.prototype=pw.prototype={constructor:Je,select:mx,selectAll:yx,selectChild:ar.selectChild,selectChildren:ar.selectChildren,filter:fx,merge:lx,selection:_x,transition:zx,call:ar.call,nodes:ar.nodes,node:ar.node,size:ar.size,empty:ar.empty,each:ar.each,on:gx,attr:XM,attrTween:jM,style:Ex,styleTween:Px,text:Nx,textTween:Ix,remove:vx,tween:UM,delay:ex,duration:ox,ease:ux,easeVarying:sx,end:Dx,[Symbol.iterator]:ar[Symbol.iterator]};const Fx=t=>+t;function Lx(t){return t*t}function qx(t){return t*(2-t)}function yp(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Ux(t){return t*t*t}function Gx(t){return--t*t*t+1}function A0(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var L1=3,Hx=function t(n){n=+n;function e(r){return Math.pow(r,n)}return e.exponent=t,e}(L1),Bx=function t(n){n=+n;function e(r){return 1-Math.pow(1-r,n)}return e.exponent=t,e}(L1),wp=function t(n){n=+n;function e(r){return((r*=2)<=1?Math.pow(r,n):2-Math.pow(2-r,n))/2}return e.exponent=t,e}(L1),mw=Math.PI,yw=mw/2;function Yx(t){return+t==1?1:1-Math.cos(t*yw)}function Vx(t){return Math.sin(t*yw)}function _p(t){return(1-Math.cos(mw*t))/2}function Vr(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function Wx(t){return Vr(1-+t)}function Xx(t){return 1-Vr(t)}function bp(t){return((t*=2)<=1?Vr(1-t):2-Vr(t-1))/2}function Zx(t){return 1-Math.sqrt(1-t*t)}function Kx(t){return Math.sqrt(1- --t*t)}function Mp(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var P0=4/11,Qx=6/11,Jx=8/11,jx=3/4,tS=9/11,nS=10/11,eS=15/16,rS=21/22,iS=63/64,Au=1/P0/P0;function oS(t){return 1-Ua(1-t)}function Ua(t){return(t=+t)<P0?Au*t*t:t<Jx?Au*(t-=Qx)*t+jx:t<nS?Au*(t-=tS)*t+eS:Au*(t-=rS)*t+iS}function aS(t){return((t*=2)<=1?1-Ua(1-t):Ua(t-1)+1)/2}var q1=1.70158,uS=function t(n){n=+n;function e(r){return(r=+r)*r*(n*(r-1)+r)}return e.overshoot=t,e}(q1),cS=function t(n){n=+n;function e(r){return--r*r*((r+1)*n+r)+1}return e.overshoot=t,e}(q1),xp=function t(n){n=+n;function e(r){return((r*=2)<1?r*r*((n+1)*r-n):(r-=2)*r*((n+1)*r+n)+2)/2}return e.overshoot=t,e}(q1),Mo=2*Math.PI,U1=1,G1=.3,sS=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Mo);function i(o){return n*Vr(- --o)*Math.sin((r-o)/e)}return i.amplitude=function(o){return t(o,e*Mo)},i.period=function(o){return t(n,o)},i}(U1,G1),Sp=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Mo);function i(o){return 1-n*Vr(o=+o)*Math.sin((o+r)/e)}return i.amplitude=function(o){return t(o,e*Mo)},i.period=function(o){return t(n,o)},i}(U1,G1),fS=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Mo);function i(o){return((o=o*2-1)<0?n*Vr(-o)*Math.sin((r-o)/e):2-n*Vr(o)*Math.sin((r+o)/e))/2}return i.amplitude=function(o){return t(o,e*Mo)},i.period=function(o){return t(n,o)},i}(U1,G1),lS={time:null,delay:0,duration:250,ease:A0};function hS(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function dS(t){var n,e;t instanceof Je?(n=t._id,t=t._name):(n=vw(),(e=lS).time=au(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],u=a.length,s,c=0;c<u;++c)(s=a[c])&&wf(s,t,n,c,a,e||hS(s,n));return new Je(r,this._parents,t,n)}Oi.prototype.interrupt=FM;Oi.prototype.transition=dS;var gS=[null];function pS(t,n){var e=t.__transition,r,i;if(e){n=n==null?null:n+"";for(i in e)if((r=e[i]).state>S0&&r.name===n)return new Je([[t]],gS,n,+i)}return null}const vl=t=>()=>t;function vS(t,{sourceEvent:n,target:e,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function mS(t){t.stopImmediatePropagation()}function ml(t){t.preventDefault(),t.stopImmediatePropagation()}var Ep={name:"drag"},yl={name:"space"},Vi={name:"handle"},Wi={name:"center"};const{abs:$p,max:Pn,min:Tn}=Math;function Ap(t){return[+t[0],+t[1]]}function T0(t){return[Ap(t[0]),Ap(t[1])]}var cc={name:"x",handles:["w","e"].map(Ga),input:function(t,n){return t==null?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},sc={name:"y",handles:["n","s"].map(Ga),input:function(t,n){return t==null?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},yS={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Ga),input:function(t){return t==null?null:T0(t)},output:function(t){return t}},ur={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Pp={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Tp={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},wS={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},_S={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ga(t){return{type:t}}function bS(t){return!t.ctrlKey&&!t.button}function MS(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function xS(){return navigator.maxTouchPoints||"ontouchstart"in this}function wl(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function SS(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function ES(t){var n=t.__brush;return n?n.dim.output(n.selection):null}function $S(){return H1(cc)}function AS(){return H1(sc)}function PS(){return H1(yS)}function H1(t){var n=MS,e=bS,r=xS,i=!0,o=Di("start","brush","end"),a=6,u;function s(v){var m=v.property("__brush",p).selectAll(".overlay").data([Ga("overlay")]);m.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ur.overlay).merge(m).each(function(){var _=wl(this).extent;rt(this).attr("x",_[0][0]).attr("y",_[0][1]).attr("width",_[1][0]-_[0][0]).attr("height",_[1][1]-_[0][1])}),v.selectAll(".selection").data([Ga("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ur.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var w=v.selectAll(".handle").data(t.handles,function(_){return _.type});w.exit().remove(),w.enter().append("rect").attr("class",function(_){return"handle handle--"+_.type}).attr("cursor",function(_){return ur[_.type]}),v.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",l).filter(r).on("touchstart.brush",l).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}s.move=function(v,m,w){v.tween?v.on("start.brush",function(_){f(this,arguments).beforestart().start(_)}).on("interrupt.brush end.brush",function(_){f(this,arguments).end(_)}).tween("brush",function(){var _=this,y=_.__brush,M=f(_,arguments),x=y.selection,T=t.input(typeof m=="function"?m.apply(this,arguments):m,y.extent),N=ti(x,T);function C(I){y.selection=I===1&&T===null?null:N(I),c.call(_),M.brush()}return x!==null&&T!==null?C:C(1)}):v.each(function(){var _=this,y=arguments,M=_.__brush,x=t.input(typeof m=="function"?m.apply(_,y):m,M.extent),T=f(_,y).beforestart();wi(_),M.selection=x===null?null:x,c.call(_),T.start(w).brush(w).end(w)})},s.clear=function(v,m){s.move(v,null,m)};function c(){var v=rt(this),m=wl(this).selection;m?(v.selectAll(".selection").style("display",null).attr("x",m[0][0]).attr("y",m[0][1]).attr("width",m[1][0]-m[0][0]).attr("height",m[1][1]-m[0][1]),v.selectAll(".handle").style("display",null).attr("x",function(w){return w.type[w.type.length-1]==="e"?m[1][0]-a/2:m[0][0]-a/2}).attr("y",function(w){return w.type[0]==="s"?m[1][1]-a/2:m[0][1]-a/2}).attr("width",function(w){return w.type==="n"||w.type==="s"?m[1][0]-m[0][0]+a:a}).attr("height",function(w){return w.type==="e"||w.type==="w"?m[1][1]-m[0][1]+a:a})):v.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(v,m,w){var _=v.__brush.emitter;return _&&(!w||!_.clean)?_:new h(v,m,w)}function h(v,m,w){this.that=v,this.args=m,this.state=v.__brush,this.active=0,this.clean=w}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(v,m){return this.starting?(this.starting=!1,this.emit("start",v,m)):this.emit("brush",v),this},brush:function(v,m){return this.emit("brush",v,m),this},end:function(v,m){return--this.active===0&&(delete this.state.emitter,this.emit("end",v,m)),this},emit:function(v,m,w){var _=rt(this.that).datum();o.call(v,this.that,new vS(v,{sourceEvent:m,target:s,selection:t.output(this.state.selection),mode:w,dispatch:o}),_)}};function l(v){if(u&&!v.touches||!e.apply(this,arguments))return;var m=this,w=v.target.__data__.type,_=(i&&v.metaKey?w="overlay":w)==="selection"?Ep:i&&v.altKey?Wi:Vi,y=t===sc?null:wS[w],M=t===cc?null:_S[w],x=wl(m),T=x.extent,N=x.selection,C=T[0][0],I,P,B=T[0][1],F,A,$=T[1][0],k,E,O=T[1][1],z,H,Y=0,X=0,j,et=y&&M&&i&&v.shiftKey,it,yt,ht=Array.from(v.touches||[v],D=>{const W=D.identifier;return D=Un(D,m),D.point0=D.slice(),D.identifier=W,D});wi(m);var Ot=f(m,arguments,!0).beforestart();if(w==="overlay"){N&&(j=!0);const D=[ht[0],ht[1]||ht[0]];x.selection=N=[[I=t===sc?C:Tn(D[0][0],D[1][0]),F=t===cc?B:Tn(D[0][1],D[1][1])],[k=t===sc?$:Pn(D[0][0],D[1][0]),z=t===cc?O:Pn(D[0][1],D[1][1])]],ht.length>1&&Ft(v)}else I=N[0][0],F=N[0][1],k=N[1][0],z=N[1][1];P=I,A=F,E=k,H=z;var nt=rt(m).attr("pointer-events","none"),ft=nt.selectAll(".overlay").attr("cursor",ur[w]);if(v.touches)Ot.moved=K,Ot.ended=b;else{var bt=rt(v.view).on("mousemove.brush",K,!0).on("mouseup.brush",b,!0);i&&bt.on("keydown.brush",S,!0).on("keyup.brush",R,!0),ff(v.view)}c.call(m),Ot.start(v,_.name);function K(D){for(const W of D.changedTouches||[D])for(const Z of ht)Z.identifier===W.identifier&&(Z.cur=Un(W,m));if(et&&!it&&!yt&&ht.length===1){const W=ht[0];$p(W.cur[0]-W[0])>$p(W.cur[1]-W[1])?yt=!0:it=!0}for(const W of ht)W.cur&&(W[0]=W.cur[0],W[1]=W.cur[1]);j=!0,ml(D),Ft(D)}function Ft(D){const W=ht[0],Z=W.point0;var at;switch(Y=W[0]-Z[0],X=W[1]-Z[1],_){case yl:case Ep:{y&&(Y=Pn(C-I,Tn($-k,Y)),P=I+Y,E=k+Y),M&&(X=Pn(B-F,Tn(O-z,X)),A=F+X,H=z+X);break}case Vi:{ht[1]?(y&&(P=Pn(C,Tn($,ht[0][0])),E=Pn(C,Tn($,ht[1][0])),y=1),M&&(A=Pn(B,Tn(O,ht[0][1])),H=Pn(B,Tn(O,ht[1][1])),M=1)):(y<0?(Y=Pn(C-I,Tn($-I,Y)),P=I+Y,E=k):y>0&&(Y=Pn(C-k,Tn($-k,Y)),P=I,E=k+Y),M<0?(X=Pn(B-F,Tn(O-F,X)),A=F+X,H=z):M>0&&(X=Pn(B-z,Tn(O-z,X)),A=F,H=z+X));break}case Wi:{y&&(P=Pn(C,Tn($,I-Y*y)),E=Pn(C,Tn($,k+Y*y))),M&&(A=Pn(B,Tn(O,F-X*M)),H=Pn(B,Tn(O,z+X*M)));break}}E<P&&(y*=-1,at=I,I=k,k=at,at=P,P=E,E=at,w in Pp&&ft.attr("cursor",ur[w=Pp[w]])),H<A&&(M*=-1,at=F,F=z,z=at,at=A,A=H,H=at,w in Tp&&ft.attr("cursor",ur[w=Tp[w]])),x.selection&&(N=x.selection),it&&(P=N[0][0],E=N[1][0]),yt&&(A=N[0][1],H=N[1][1]),(N[0][0]!==P||N[0][1]!==A||N[1][0]!==E||N[1][1]!==H)&&(x.selection=[[P,A],[E,H]],c.call(m),Ot.brush(D,_.name))}function b(D){if(mS(D),D.touches){if(D.touches.length)return;u&&clearTimeout(u),u=setTimeout(function(){u=null},500)}else lf(D.view,j),bt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);nt.attr("pointer-events","all"),ft.attr("cursor",ur.overlay),x.selection&&(N=x.selection),SS(N)&&(x.selection=null,c.call(m)),Ot.end(D,_.name)}function S(D){switch(D.keyCode){case 16:{et=y&&M;break}case 18:{_===Vi&&(y&&(k=E-Y*y,I=P+Y*y),M&&(z=H-X*M,F=A+X*M),_=Wi,Ft(D));break}case 32:{(_===Vi||_===Wi)&&(y<0?k=E-Y:y>0&&(I=P-Y),M<0?z=H-X:M>0&&(F=A-X),_=yl,ft.attr("cursor",ur.selection),Ft(D));break}default:return}ml(D)}function R(D){switch(D.keyCode){case 16:{et&&(it=yt=et=!1,Ft(D));break}case 18:{_===Wi&&(y<0?k=E:y>0&&(I=P),M<0?z=H:M>0&&(F=A),_=Vi,Ft(D));break}case 32:{_===yl&&(D.altKey?(y&&(k=E-Y*y,I=P+Y*y),M&&(z=H-X*M,F=A+X*M),_=Wi):(y<0?k=E:y>0&&(I=P),M<0?z=H:M>0&&(F=A),_=Vi),ft.attr("cursor",ur[w]),Ft(D));break}default:return}ml(D)}}function d(v){f(this,arguments).moved(v)}function g(v){f(this,arguments).ended(v)}function p(){var v=this.__brush||{selection:null};return v.extent=T0(n.apply(this,arguments)),v.dim=t,v}return s.extent=function(v){return arguments.length?(n=typeof v=="function"?v:vl(T0(v)),s):n},s.filter=function(v){return arguments.length?(e=typeof v=="function"?v:vl(!!v),s):e},s.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:vl(!!v),s):r},s.handleSize=function(v){return arguments.length?(a=+v,s):a},s.keyModifiers=function(v){return arguments.length?(i=!!v,s):i},s.on=function(){var v=o.on.apply(o,arguments);return v===o?s:v},s}var Rp=Math.abs,Xi=Math.cos,Zi=Math.sin,ww=Math.PI,Pu=ww/2,Np=ww*2,Cp=Math.max,_l=1e-12;function bl(t,n){return Array.from({length:n-t},(e,r)=>t+r)}function TS(t){return function(n,e){return t(n.source.value+n.target.value,e.source.value+e.target.value)}}function RS(){return B1(!1,!1)}function NS(){return B1(!1,!0)}function CS(){return B1(!0,!1)}function B1(t,n){var e=0,r=null,i=null,o=null;function a(u){var s=u.length,c=new Array(s),f=bl(0,s),h=new Array(s*s),l=new Array(s),d=0,g;u=Float64Array.from({length:s*s},n?(p,v)=>u[v%s][v/s|0]:(p,v)=>u[v/s|0][v%s]);for(let p=0;p<s;++p){let v=0;for(let m=0;m<s;++m)v+=u[p*s+m]+t*u[m*s+p];d+=c[p]=v}d=Cp(0,Np-e*s)/d,g=d?e:Np/s;{let p=0;r&&f.sort((v,m)=>r(c[v],c[m]));for(const v of f){const m=p;if(t){const w=bl(~s+1,s).filter(_=>_<0?u[~_*s+v]:u[v*s+_]);i&&w.sort((_,y)=>i(_<0?-u[~_*s+v]:u[v*s+_],y<0?-u[~y*s+v]:u[v*s+y]));for(const _ of w)if(_<0){const y=h[~_*s+v]||(h[~_*s+v]={source:null,target:null});y.target={index:v,startAngle:p,endAngle:p+=u[~_*s+v]*d,value:u[~_*s+v]}}else{const y=h[v*s+_]||(h[v*s+_]={source:null,target:null});y.source={index:v,startAngle:p,endAngle:p+=u[v*s+_]*d,value:u[v*s+_]}}l[v]={index:v,startAngle:m,endAngle:p,value:c[v]}}else{const w=bl(0,s).filter(_=>u[v*s+_]||u[_*s+v]);i&&w.sort((_,y)=>i(u[v*s+_],u[v*s+y]));for(const _ of w){let y;if(v<_?(y=h[v*s+_]||(h[v*s+_]={source:null,target:null}),y.source={index:v,startAngle:p,endAngle:p+=u[v*s+_]*d,value:u[v*s+_]}):(y=h[_*s+v]||(h[_*s+v]={source:null,target:null}),y.target={index:v,startAngle:p,endAngle:p+=u[v*s+_]*d,value:u[v*s+_]},v===_&&(y.source=y.target)),y.source&&y.target&&y.source.value<y.target.value){const M=y.source;y.source=y.target,y.target=M}}l[v]={index:v,startAngle:m,endAngle:p,value:c[v]}}p+=g}}return h=Object.values(h),h.groups=l,o?h.sort(o):h}return a.padAngle=function(u){return arguments.length?(e=Cp(0,u),a):e},a.sortGroups=function(u){return arguments.length?(r=u,a):r},a.sortSubgroups=function(u){return arguments.length?(i=u,a):i},a.sortChords=function(u){return arguments.length?(u==null?o=null:(o=TS(u))._=u,a):o&&o._},a}const R0=Math.PI,N0=2*R0,ci=1e-6,kS=N0-ci;function _w(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function IS(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return _w;const e=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}let uu=class{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?_w:IS(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,o,a){this._append`C${+n},${+e},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(n,e,r,i,o){if(n=+n,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,u=this._y1,s=r-n,c=i-e,f=a-n,h=u-e,l=f*f+h*h;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(l>ci)if(!(Math.abs(h*s-c*f)>ci)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let d=r-a,g=i-u,p=s*s+c*c,v=d*d+g*g,m=Math.sqrt(p),w=Math.sqrt(l),_=o*Math.tan((R0-Math.acos((p+l-v)/(2*m*w)))/2),y=_/w,M=_/m;Math.abs(y-1)>ci&&this._append`L${n+y*f},${e+y*h}`,this._append`A${o},${o},0,0,${+(h*d>f*g)},${this._x1=n+M*s},${this._y1=e+M*c}`}}arc(n,e,r,i,o,a){if(n=+n,e=+e,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),s=r*Math.sin(i),c=n+u,f=e+s,h=1^a,l=a?i-o:o-i;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>ci||Math.abs(this._y1-f)>ci)&&this._append`L${c},${f}`,r&&(l<0&&(l=l%N0+N0),l>kS?this._append`A${r},${r},0,1,${h},${n-u},${e-s}A${r},${r},0,1,${h},${this._x1=c},${this._y1=f}`:l>ci&&this._append`A${r},${r},0,${+(l>=R0)},${h},${this._x1=n+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Y1(){return new uu}Y1.prototype=uu.prototype;function zS(t=3){return new uu(+t)}var DS=Array.prototype.slice;function ai(t){return function(){return t}}function OS(t){return t.source}function FS(t){return t.target}function kp(t){return t.radius}function LS(t){return t.startAngle}function qS(t){return t.endAngle}function US(){return 0}function GS(){return 10}function bw(t){var n=OS,e=FS,r=kp,i=kp,o=LS,a=qS,u=US,s=null;function c(){var f,h=n.apply(this,arguments),l=e.apply(this,arguments),d=u.apply(this,arguments)/2,g=DS.call(arguments),p=+r.apply(this,(g[0]=h,g)),v=o.apply(this,g)-Pu,m=a.apply(this,g)-Pu,w=+i.apply(this,(g[0]=l,g)),_=o.apply(this,g)-Pu,y=a.apply(this,g)-Pu;if(s||(s=f=Y1()),d>_l&&(Rp(m-v)>d*2+_l?m>v?(v+=d,m-=d):(v-=d,m+=d):v=m=(v+m)/2,Rp(y-_)>d*2+_l?y>_?(_+=d,y-=d):(_-=d,y+=d):_=y=(_+y)/2),s.moveTo(p*Xi(v),p*Zi(v)),s.arc(0,0,p,v,m),v!==_||m!==y)if(t){var M=+t.apply(this,arguments),x=w-M,T=(_+y)/2;s.quadraticCurveTo(0,0,x*Xi(_),x*Zi(_)),s.lineTo(w*Xi(T),w*Zi(T)),s.lineTo(x*Xi(y),x*Zi(y))}else s.quadraticCurveTo(0,0,w*Xi(_),w*Zi(_)),s.arc(0,0,w,_,y);if(s.quadraticCurveTo(0,0,p*Xi(v),p*Zi(v)),s.closePath(),f)return s=null,f+""||null}return t&&(c.headRadius=function(f){return arguments.length?(t=typeof f=="function"?f:ai(+f),c):t}),c.radius=function(f){return arguments.length?(r=i=typeof f=="function"?f:ai(+f),c):r},c.sourceRadius=function(f){return arguments.length?(r=typeof f=="function"?f:ai(+f),c):r},c.targetRadius=function(f){return arguments.length?(i=typeof f=="function"?f:ai(+f),c):i},c.startAngle=function(f){return arguments.length?(o=typeof f=="function"?f:ai(+f),c):o},c.endAngle=function(f){return arguments.length?(a=typeof f=="function"?f:ai(+f),c):a},c.padAngle=function(f){return arguments.length?(u=typeof f=="function"?f:ai(+f),c):u},c.source=function(f){return arguments.length?(n=f,c):n},c.target=function(f){return arguments.length?(e=f,c):e},c.context=function(f){return arguments.length?(s=f??null,c):s},c}function HS(){return bw()}function BS(){return bw(GS)}var YS=Array.prototype,Mw=YS.slice;function VS(t,n){return t-n}function WS(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}const kr=t=>()=>t;function XS(t,n){for(var e=-1,r=n.length,i;++e<r;)if(i=ZS(t,n[e]))return i;return 0}function ZS(t,n){for(var e=n[0],r=n[1],i=-1,o=0,a=t.length,u=a-1;o<a;u=o++){var s=t[o],c=s[0],f=s[1],h=t[u],l=h[0],d=h[1];if(KS(s,h,n))return 0;f>r!=d>r&&e<(l-c)*(r-f)/(d-f)+c&&(i=-i)}return i}function KS(t,n,e){var r;return QS(t,n,e)&&JS(t[r=+(t[0]===n[0])],e[r],n[r])}function QS(t,n,e){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])}function JS(t,n,e){return t<=n&&n<=e||e<=n&&n<=t}function jS(){}var cr=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function C0(){var t=1,n=1,e=S1,r=s;function i(c){var f=e(c);if(Array.isArray(f))f=f.slice().sort(VS);else{const h=ma(c,tE);for(f=Mi(...x1(h[0],h[1],f),f);f[f.length-1]>=h[1];)f.pop();for(;f[1]<h[0];)f.shift()}return f.map(h=>o(c,h))}function o(c,f){const h=f==null?NaN:+f;if(isNaN(h))throw new Error(`invalid value: ${f}`);var l=[],d=[];return a(c,h,function(g){r(g,c,h),WS(g)>0?l.push([g]):d.push(g)}),d.forEach(function(g){for(var p=0,v=l.length,m;p<v;++p)if(XS((m=l[p])[0],g)!==-1){m.push(g);return}}),{type:"MultiPolygon",value:f,coordinates:l}}function a(c,f,h){var l=new Array,d=new Array,g,p,v,m,w,_;for(g=p=-1,m=ui(c[0],f),cr[m<<1].forEach(y);++g<t-1;)v=m,m=ui(c[g+1],f),cr[v|m<<1].forEach(y);for(cr[m<<0].forEach(y);++p<n-1;){for(g=-1,m=ui(c[p*t+t],f),w=ui(c[p*t],f),cr[m<<1|w<<2].forEach(y);++g<t-1;)v=m,m=ui(c[p*t+t+g+1],f),_=w,w=ui(c[p*t+g+1],f),cr[v|m<<1|w<<2|_<<3].forEach(y);cr[m|w<<3].forEach(y)}for(g=-1,w=c[p*t]>=f,cr[w<<2].forEach(y);++g<t-1;)_=w,w=ui(c[p*t+g+1],f),cr[w<<2|_<<3].forEach(y);cr[w<<3].forEach(y);function y(M){var x=[M[0][0]+g,M[0][1]+p],T=[M[1][0]+g,M[1][1]+p],N=u(x),C=u(T),I,P;(I=d[N])?(P=l[C])?(delete d[I.end],delete l[P.start],I===P?(I.ring.push(T),h(I.ring)):l[I.start]=d[P.end]={start:I.start,end:P.end,ring:I.ring.concat(P.ring)}):(delete d[I.end],I.ring.push(T),d[I.end=C]=I):(I=l[C])?(P=d[N])?(delete l[I.start],delete d[P.end],I===P?(I.ring.push(T),h(I.ring)):l[P.start]=d[I.end]={start:P.start,end:I.end,ring:P.ring.concat(I.ring)}):(delete l[I.start],I.ring.unshift(x),l[I.start=N]=I):l[N]=d[C]={start:N,end:C,ring:[x,T]}}}function u(c){return c[0]*2+c[1]*(t+1)*4}function s(c,f,h){c.forEach(function(l){var d=l[0],g=l[1],p=d|0,v=g|0,m=Ml(f[v*t+p]);d>0&&d<t&&p===d&&(l[0]=Ip(d,Ml(f[v*t+p-1]),m,h)),g>0&&g<n&&v===g&&(l[1]=Ip(g,Ml(f[(v-1)*t+p]),m,h))})}return i.contour=o,i.size=function(c){if(!arguments.length)return[t,n];var f=Math.floor(c[0]),h=Math.floor(c[1]);if(!(f>=0&&h>=0))throw new Error("invalid size");return t=f,n=h,i},i.thresholds=function(c){return arguments.length?(e=typeof c=="function"?c:Array.isArray(c)?kr(Mw.call(c)):kr(c),i):e},i.smooth=function(c){return arguments.length?(r=c?s:jS,i):r===s},i}function tE(t){return isFinite(t)?t:NaN}function ui(t,n){return t==null?!1:+t>=n}function Ml(t){return t==null||isNaN(t=+t)?-1/0:t}function Ip(t,n,e,r){const i=r-n,o=e-n,a=isFinite(i)||isFinite(o)?i/o:Math.sign(i)/Math.sign(o);return isNaN(a)?t:t+a-.5}function nE(t){return t[0]}function eE(t){return t[1]}function rE(){return 1}function iE(){var t=nE,n=eE,e=rE,r=960,i=500,o=20,a=2,u=o*3,s=r+u*2>>a,c=i+u*2>>a,f=kr(20);function h(w){var _=new Float32Array(s*c),y=Math.pow(2,-a),M=-1;for(const F of w){var x=(t(F,++M,w)+u)*y,T=(n(F,M,w)+u)*y,N=+e(F,M,w);if(N&&x>=0&&x<s&&T>=0&&T<c){var C=Math.floor(x),I=Math.floor(T),P=x-C-.5,B=T-I-.5;_[C+I*s]+=(1-P)*(1-B)*N,_[C+1+I*s]+=P*(1-B)*N,_[C+1+(I+1)*s]+=P*B*N,_[C+(I+1)*s]+=(1-P)*B*N}}return n3({data:_,width:s,height:c},o*y),_}function l(w){var _=h(w),y=f(_),M=Math.pow(2,2*a);return Array.isArray(y)||(y=Mi(Number.MIN_VALUE,ka(_)/M,y)),C0().size([s,c]).thresholds(y.map(x=>x*M))(_).map((x,T)=>(x.value=+y[T],d(x)))}l.contours=function(w){var _=h(w),y=C0().size([s,c]),M=Math.pow(2,2*a),x=T=>{T=+T;var N=d(y.contour(_,T*M));return N.value=T,N};return Object.defineProperty(x,"max",{get:()=>ka(_)/M}),x};function d(w){return w.coordinates.forEach(g),w}function g(w){w.forEach(p)}function p(w){w.forEach(v)}function v(w){w[0]=w[0]*Math.pow(2,a)-u,w[1]=w[1]*Math.pow(2,a)-u}function m(){return u=o*3,s=r+u*2>>a,c=i+u*2>>a,l}return l.x=function(w){return arguments.length?(t=typeof w=="function"?w:kr(+w),l):t},l.y=function(w){return arguments.length?(n=typeof w=="function"?w:kr(+w),l):n},l.weight=function(w){return arguments.length?(e=typeof w=="function"?w:kr(+w),l):e},l.size=function(w){if(!arguments.length)return[r,i];var _=+w[0],y=+w[1];if(!(_>=0&&y>=0))throw new Error("invalid size");return r=_,i=y,m()},l.cellSize=function(w){if(!arguments.length)return 1<<a;if(!((w=+w)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(w)/Math.LN2),m()},l.thresholds=function(w){return arguments.length?(f=typeof w=="function"?w:Array.isArray(w)?kr(Mw.call(w)):kr(w),l):f},l.bandwidth=function(w){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((w=+w)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*w*w+1)-1)/2,m()},l}const _r=11102230246251565e-32,Rn=134217729,oE=(3+8*_r)*_r;function xl(t,n,e,r,i){let o,a,u,s,c=n[0],f=r[0],h=0,l=0;f>c==f>-c?(o=c,c=n[++h]):(o=f,f=r[++l]);let d=0;if(h<t&&l<e)for(f>c==f>-c?(a=c+o,u=o-(a-c),c=n[++h]):(a=f+o,u=o-(a-f),f=r[++l]),o=a,u!==0&&(i[d++]=u);h<t&&l<e;)f>c==f>-c?(a=o+c,s=a-o,u=o-(a-s)+(c-s),c=n[++h]):(a=o+f,s=a-o,u=o-(a-s)+(f-s),f=r[++l]),o=a,u!==0&&(i[d++]=u);for(;h<t;)a=o+c,s=a-o,u=o-(a-s)+(c-s),c=n[++h],o=a,u!==0&&(i[d++]=u);for(;l<e;)a=o+f,s=a-o,u=o-(a-s)+(f-s),f=r[++l],o=a,u!==0&&(i[d++]=u);return(o!==0||d===0)&&(i[d++]=o),d}function aE(t,n){let e=n[0];for(let r=1;r<t;r++)e+=n[r];return e}function cu(t){return new Float64Array(t)}const uE=(3+16*_r)*_r,cE=(2+12*_r)*_r,sE=(9+64*_r)*_r*_r,Ki=cu(4),zp=cu(8),Dp=cu(12),Op=cu(16),qn=cu(4);function fE(t,n,e,r,i,o,a){let u,s,c,f,h,l,d,g,p,v,m,w,_,y,M,x,T,N;const C=t-i,I=e-i,P=n-o,B=r-o;y=C*B,l=Rn*C,d=l-(l-C),g=C-d,l=Rn*B,p=l-(l-B),v=B-p,M=g*v-(y-d*p-g*p-d*v),x=P*I,l=Rn*P,d=l-(l-P),g=P-d,l=Rn*I,p=l-(l-I),v=I-p,T=g*v-(x-d*p-g*p-d*v),m=M-T,h=M-m,Ki[0]=M-(m+h)+(h-T),w=y+m,h=w-y,_=y-(w-h)+(m-h),m=_-x,h=_-m,Ki[1]=_-(m+h)+(h-x),N=w+m,h=N-w,Ki[2]=w-(N-h)+(m-h),Ki[3]=N;let F=aE(4,Ki),A=cE*a;if(F>=A||-F>=A||(h=t-C,u=t-(C+h)+(h-i),h=e-I,c=e-(I+h)+(h-i),h=n-P,s=n-(P+h)+(h-o),h=r-B,f=r-(B+h)+(h-o),u===0&&s===0&&c===0&&f===0)||(A=sE*a+oE*Math.abs(F),F+=C*f+B*u-(P*c+I*s),F>=A||-F>=A))return F;y=u*B,l=Rn*u,d=l-(l-u),g=u-d,l=Rn*B,p=l-(l-B),v=B-p,M=g*v-(y-d*p-g*p-d*v),x=s*I,l=Rn*s,d=l-(l-s),g=s-d,l=Rn*I,p=l-(l-I),v=I-p,T=g*v-(x-d*p-g*p-d*v),m=M-T,h=M-m,qn[0]=M-(m+h)+(h-T),w=y+m,h=w-y,_=y-(w-h)+(m-h),m=_-x,h=_-m,qn[1]=_-(m+h)+(h-x),N=w+m,h=N-w,qn[2]=w-(N-h)+(m-h),qn[3]=N;const $=xl(4,Ki,4,qn,zp);y=C*f,l=Rn*C,d=l-(l-C),g=C-d,l=Rn*f,p=l-(l-f),v=f-p,M=g*v-(y-d*p-g*p-d*v),x=P*c,l=Rn*P,d=l-(l-P),g=P-d,l=Rn*c,p=l-(l-c),v=c-p,T=g*v-(x-d*p-g*p-d*v),m=M-T,h=M-m,qn[0]=M-(m+h)+(h-T),w=y+m,h=w-y,_=y-(w-h)+(m-h),m=_-x,h=_-m,qn[1]=_-(m+h)+(h-x),N=w+m,h=N-w,qn[2]=w-(N-h)+(m-h),qn[3]=N;const k=xl($,zp,4,qn,Dp);y=u*f,l=Rn*u,d=l-(l-u),g=u-d,l=Rn*f,p=l-(l-f),v=f-p,M=g*v-(y-d*p-g*p-d*v),x=s*c,l=Rn*s,d=l-(l-s),g=s-d,l=Rn*c,p=l-(l-c),v=c-p,T=g*v-(x-d*p-g*p-d*v),m=M-T,h=M-m,qn[0]=M-(m+h)+(h-T),w=y+m,h=w-y,_=y-(w-h)+(m-h),m=_-x,h=_-m,qn[1]=_-(m+h)+(h-x),N=w+m,h=N-w,qn[2]=w-(N-h)+(m-h),qn[3]=N;const E=xl(k,Dp,4,qn,Op);return Op[E-1]}function Tu(t,n,e,r,i,o){const a=(n-o)*(e-i),u=(t-i)*(r-o),s=a-u,c=Math.abs(a+u);return Math.abs(s)>=uE*c?s:-fE(t,n,e,r,i,o,c)}const Fp=Math.pow(2,-52),Ru=new Uint32Array(512);class Lc{static from(n,e=pE,r=vE){const i=n.length,o=new Float64Array(i*2);for(let a=0;a<i;a++){const u=n[a];o[2*a]=e(u),o[2*a+1]=r(u)}return new Lc(o)}constructor(n){const e=n.length>>1;if(e>0&&typeof n[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=n;const r=Math.max(2*e-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:n,_hullPrev:e,_hullNext:r,_hullTri:i,_hullHash:o}=this,a=n.length>>1;let u=1/0,s=1/0,c=-1/0,f=-1/0;for(let C=0;C<a;C++){const I=n[2*C],P=n[2*C+1];I<u&&(u=I),P<s&&(s=P),I>c&&(c=I),P>f&&(f=P),this._ids[C]=C}const h=(u+c)/2,l=(s+f)/2;let d,g,p;for(let C=0,I=1/0;C<a;C++){const P=Sl(h,l,n[2*C],n[2*C+1]);P<I&&(d=C,I=P)}const v=n[2*d],m=n[2*d+1];for(let C=0,I=1/0;C<a;C++){if(C===d)continue;const P=Sl(v,m,n[2*C],n[2*C+1]);P<I&&P>0&&(g=C,I=P)}let w=n[2*g],_=n[2*g+1],y=1/0;for(let C=0;C<a;C++){if(C===d||C===g)continue;const I=dE(v,m,w,_,n[2*C],n[2*C+1]);I<y&&(p=C,y=I)}let M=n[2*p],x=n[2*p+1];if(y===1/0){for(let P=0;P<a;P++)this._dists[P]=n[2*P]-n[0]||n[2*P+1]-n[1];no(this._ids,this._dists,0,a-1);const C=new Uint32Array(a);let I=0;for(let P=0,B=-1/0;P<a;P++){const F=this._ids[P],A=this._dists[F];A>B&&(C[I++]=F,B=A)}this.hull=C.subarray(0,I),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Tu(v,m,w,_,M,x)<0){const C=g,I=w,P=_;g=p,w=M,_=x,p=C,M=I,x=P}const T=gE(v,m,w,_,M,x);this._cx=T.x,this._cy=T.y;for(let C=0;C<a;C++)this._dists[C]=Sl(n[2*C],n[2*C+1],T.x,T.y);no(this._ids,this._dists,0,a-1),this._hullStart=d;let N=3;r[d]=e[p]=g,r[g]=e[d]=p,r[p]=e[g]=d,i[d]=0,i[g]=1,i[p]=2,o.fill(-1),o[this._hashKey(v,m)]=d,o[this._hashKey(w,_)]=g,o[this._hashKey(M,x)]=p,this.trianglesLen=0,this._addTriangle(d,g,p,-1,-1,-1);for(let C=0,I,P;C<this._ids.length;C++){const B=this._ids[C],F=n[2*B],A=n[2*B+1];if(C>0&&Math.abs(F-I)<=Fp&&Math.abs(A-P)<=Fp||(I=F,P=A,B===d||B===g||B===p))continue;let $=0;for(let H=0,Y=this._hashKey(F,A);H<this._hashSize&&($=o[(Y+H)%this._hashSize],!($!==-1&&$!==r[$]));H++);$=e[$];let k=$,E;for(;E=r[k],Tu(F,A,n[2*k],n[2*k+1],n[2*E],n[2*E+1])>=0;)if(k=E,k===$){k=-1;break}if(k===-1)continue;let O=this._addTriangle(k,B,r[k],-1,-1,i[k]);i[B]=this._legalize(O+2),i[k]=O,N++;let z=r[k];for(;E=r[z],Tu(F,A,n[2*z],n[2*z+1],n[2*E],n[2*E+1])<0;)O=this._addTriangle(z,B,E,i[B],-1,i[z]),i[B]=this._legalize(O+2),r[z]=z,N--,z=E;if(k===$)for(;E=e[k],Tu(F,A,n[2*E],n[2*E+1],n[2*k],n[2*k+1])<0;)O=this._addTriangle(E,B,k,-1,i[k],i[E]),this._legalize(O+2),i[E]=O,r[k]=k,N--,k=E;this._hullStart=e[B]=k,r[k]=e[z]=B,r[B]=z,o[this._hashKey(F,A)]=B,o[this._hashKey(n[2*k],n[2*k+1])]=k}this.hull=new Uint32Array(N);for(let C=0,I=this._hullStart;C<N;C++)this.hull[C]=I,I=r[I];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(n,e){return Math.floor(lE(n-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(n){const{_triangles:e,_halfedges:r,coords:i}=this;let o=0,a=0;for(;;){const u=r[n],s=n-n%3;if(a=s+(n+2)%3,u===-1){if(o===0)break;n=Ru[--o];continue}const c=u-u%3,f=s+(n+1)%3,h=c+(u+2)%3,l=e[a],d=e[n],g=e[f],p=e[h];if(hE(i[2*l],i[2*l+1],i[2*d],i[2*d+1],i[2*g],i[2*g+1],i[2*p],i[2*p+1])){e[n]=p,e[u]=l;const m=r[h];if(m===-1){let _=this._hullStart;do{if(this._hullTri[_]===h){this._hullTri[_]=n;break}_=this._hullPrev[_]}while(_!==this._hullStart)}this._link(n,m),this._link(u,r[a]),this._link(a,h);const w=c+(u+1)%3;o<Ru.length&&(Ru[o++]=w)}else{if(o===0)break;n=Ru[--o]}}return a}_link(n,e){this._halfedges[n]=e,e!==-1&&(this._halfedges[e]=n)}_addTriangle(n,e,r,i,o,a){const u=this.trianglesLen;return this._triangles[u]=n,this._triangles[u+1]=e,this._triangles[u+2]=r,this._link(u,i),this._link(u+1,o),this._link(u+2,a),this.trianglesLen+=3,u}}function lE(t,n){const e=t/(Math.abs(t)+Math.abs(n));return(n>0?3-e:1+e)/4}function Sl(t,n,e,r){const i=t-e,o=n-r;return i*i+o*o}function hE(t,n,e,r,i,o,a,u){const s=t-a,c=n-u,f=e-a,h=r-u,l=i-a,d=o-u,g=s*s+c*c,p=f*f+h*h,v=l*l+d*d;return s*(h*v-p*d)-c*(f*v-p*l)+g*(f*d-h*l)<0}function dE(t,n,e,r,i,o){const a=e-t,u=r-n,s=i-t,c=o-n,f=a*a+u*u,h=s*s+c*c,l=.5/(a*c-u*s),d=(c*f-u*h)*l,g=(a*h-s*f)*l;return d*d+g*g}function gE(t,n,e,r,i,o){const a=e-t,u=r-n,s=i-t,c=o-n,f=a*a+u*u,h=s*s+c*c,l=.5/(a*c-u*s),d=t+(c*f-u*h)*l,g=n+(a*h-s*f)*l;return{x:d,y:g}}function no(t,n,e,r){if(r-e<=20)for(let i=e+1;i<=r;i++){const o=t[i],a=n[o];let u=i-1;for(;u>=e&&n[t[u]]>a;)t[u+1]=t[u--];t[u+1]=o}else{const i=e+r>>1;let o=e+1,a=r;Ko(t,i,o),n[t[e]]>n[t[r]]&&Ko(t,e,r),n[t[o]]>n[t[r]]&&Ko(t,o,r),n[t[e]]>n[t[o]]&&Ko(t,e,o);const u=t[o],s=n[u];for(;;){do o++;while(n[t[o]]<s);do a--;while(n[t[a]]>s);if(a<o)break;Ko(t,o,a)}t[e+1]=t[a],t[a]=u,r-o+1>=a-e?(no(t,n,o,r),no(t,n,e,a-1)):(no(t,n,e,a-1),no(t,n,o,r))}}function Ko(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function pE(t){return t[0]}function vE(t){return t[1]}const Lp=1e-6;class gi{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(n,e){this._+=`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(n,e){this._+=`L${this._x1=+n},${this._y1=+e}`}arc(n,e,r){n=+n,e=+e,r=+r;const i=n+r,o=e;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>Lp||Math.abs(this._y1-o)>Lp)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${n-r},${e}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(n,e,r,i){this._+=`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class k0{constructor(){this._=[]}moveTo(n,e){this._.push([n,e])}closePath(){this._.push(this._[0].slice())}lineTo(n,e){this._.push([n,e])}value(){return this._.length?this._:null}}class xw{constructor(n,[e,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(e=+e))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=n,this._circumcenters=new Float64Array(n.points.length*2),this.vectors=new Float64Array(n.points.length*2),this.xmax=i,this.xmin=e,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:n,hull:e,triangles:r},vectors:i}=this;let o,a;const u=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let p=0,v=0,m=r.length,w,_;p<m;p+=3,v+=2){const y=r[p]*2,M=r[p+1]*2,x=r[p+2]*2,T=n[y],N=n[y+1],C=n[M],I=n[M+1],P=n[x],B=n[x+1],F=C-T,A=I-N,$=P-T,k=B-N,E=(F*k-A*$)*2;if(Math.abs(E)<1e-9){if(o===void 0){o=a=0;for(const z of e)o+=n[z*2],a+=n[z*2+1];o/=e.length,a/=e.length}const O=1e9*Math.sign((o-T)*k-(a-N)*$);w=(T+P)/2-O*k,_=(N+B)/2+O*$}else{const O=1/E,z=F*F+A*A,H=$*$+k*k;w=T+(k*z-A*H)*O,_=N+(F*H-$*z)*O}u[v]=w,u[v+1]=_}let s=e[e.length-1],c,f=s*4,h,l=n[2*s],d,g=n[2*s+1];i.fill(0);for(let p=0;p<e.length;++p)s=e[p],c=f,h=l,d=g,f=s*4,l=n[2*s],g=n[2*s+1],i[c+2]=i[f]=d-g,i[c+3]=i[f+1]=l-h}render(n){const e=n==null?n=new gi:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:a,vectors:u}=this;if(o.length<=1)return null;for(let f=0,h=r.length;f<h;++f){const l=r[f];if(l<f)continue;const d=Math.floor(f/3)*2,g=Math.floor(l/3)*2,p=a[d],v=a[d+1],m=a[g],w=a[g+1];this._renderSegment(p,v,m,w,n)}let s,c=o[o.length-1];for(let f=0;f<o.length;++f){s=c,c=o[f];const h=Math.floor(i[c]/3)*2,l=a[h],d=a[h+1],g=s*4,p=this._project(l,d,u[g+2],u[g+3]);p&&this._renderSegment(l,d,p[0],p[1],n)}return e&&e.value()}renderBounds(n){const e=n==null?n=new gi:void 0;return n.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(n,e){const r=e==null?e=new gi:void 0,i=this._clip(n);if(i===null||!i.length)return;e.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let a=2;a<o;a+=2)(i[a]!==i[a-2]||i[a+1]!==i[a-1])&&e.lineTo(i[a],i[a+1]);return e.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:n}}=this;for(let e=0,r=n.length/2;e<r;++e){const i=this.cellPolygon(e);i&&(i.index=e,yield i)}}cellPolygon(n){const e=new k0;return this.renderCell(n,e),e.value()}_renderSegment(n,e,r,i,o){let a;const u=this._regioncode(n,e),s=this._regioncode(r,i);u===0&&s===0?(o.moveTo(n,e),o.lineTo(r,i)):(a=this._clipSegment(n,e,r,i,u,s))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}contains(n,e,r){return e=+e,e!==e||(r=+r,r!==r)?!1:this.delaunay._step(n,e,r)===n}*neighbors(n){const e=this._clip(n);if(e)for(const r of this.delaunay.neighbors(n)){const i=this._clip(r);if(i){t:for(let o=0,a=e.length;o<a;o+=2)for(let u=0,s=i.length;u<s;u+=2)if(e[o]===i[u]&&e[o+1]===i[u+1]&&e[(o+2)%a]===i[(u+s-2)%s]&&e[(o+3)%a]===i[(u+s-1)%s]){yield r;break t}}}}_cell(n){const{circumcenters:e,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,a=r[n];if(a===-1)return null;const u=[];let s=a;do{const c=Math.floor(s/3);if(u.push(e[c*2],e[c*2+1]),s=s%3===2?s-2:s+1,o[s]!==n)break;s=i[s]}while(s!==a&&s!==-1);return u}_clip(n){if(n===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(n);if(e===null)return null;const{vectors:r}=this,i=n*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(n,e,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(n,e))}_clipFinite(n,e){const r=e.length;let i=null,o,a,u=e[r-2],s=e[r-1],c,f=this._regioncode(u,s),h,l=0;for(let d=0;d<r;d+=2)if(o=u,a=s,u=e[d],s=e[d+1],c=f,f=this._regioncode(u,s),c===0&&f===0)h=l,l=0,i?i.push(u,s):i=[u,s];else{let g,p,v,m,w;if(c===0){if((g=this._clipSegment(o,a,u,s,c,f))===null)continue;[p,v,m,w]=g}else{if((g=this._clipSegment(u,s,o,a,f,c))===null)continue;[m,w,p,v]=g,h=l,l=this._edgecode(p,v),h&&l&&this._edge(n,h,l,i,i.length),i?i.push(p,v):i=[p,v]}h=l,l=this._edgecode(m,w),h&&l&&this._edge(n,h,l,i,i.length),i?i.push(m,w):i=[m,w]}if(i)h=l,l=this._edgecode(i[0],i[1]),h&&l&&this._edge(n,h,l,i,i.length);else if(this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(n,e,r,i,o,a){const u=o<a;for(u&&([n,e,r,i,o,a]=[r,i,n,e,a,o]);;){if(o===0&&a===0)return u?[r,i,n,e]:[n,e,r,i];if(o&a)return null;let s,c,f=o||a;f&8?(s=n+(r-n)*(this.ymax-e)/(i-e),c=this.ymax):f&4?(s=n+(r-n)*(this.ymin-e)/(i-e),c=this.ymin):f&2?(c=e+(i-e)*(this.xmax-n)/(r-n),s=this.xmax):(c=e+(i-e)*(this.xmin-n)/(r-n),s=this.xmin),o?(n=s,e=c,o=this._regioncode(n,e)):(r=s,i=c,a=this._regioncode(r,i))}}_clipInfinite(n,e,r,i,o,a){let u=Array.from(e),s;if((s=this._project(u[0],u[1],r,i))&&u.unshift(s[0],s[1]),(s=this._project(u[u.length-2],u[u.length-1],o,a))&&u.push(s[0],s[1]),u=this._clipFinite(n,u))for(let c=0,f=u.length,h,l=this._edgecode(u[f-2],u[f-1]);c<f;c+=2)h=l,l=this._edgecode(u[c],u[c+1]),h&&l&&(c=this._edge(n,h,l,u,c),f=u.length);else this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}_edge(n,e,r,i,o){for(;e!==r;){let a,u;switch(e){case 5:e=4;continue;case 4:e=6,a=this.xmax,u=this.ymin;break;case 6:e=2;continue;case 2:e=10,a=this.xmax,u=this.ymax;break;case 10:e=8;continue;case 8:e=9,a=this.xmin,u=this.ymax;break;case 9:e=1;continue;case 1:e=5,a=this.xmin,u=this.ymin;break}(i[o]!==a||i[o+1]!==u)&&this.contains(n,a,u)&&(i.splice(o,0,a,u),o+=2)}return o}_project(n,e,r,i){let o=1/0,a,u,s;if(i<0){if(e<=this.ymin)return null;(a=(this.ymin-e)/i)<o&&(s=this.ymin,u=n+(o=a)*r)}else if(i>0){if(e>=this.ymax)return null;(a=(this.ymax-e)/i)<o&&(s=this.ymax,u=n+(o=a)*r)}if(r>0){if(n>=this.xmax)return null;(a=(this.xmax-n)/r)<o&&(u=this.xmax,s=e+(o=a)*i)}else if(r<0){if(n<=this.xmin)return null;(a=(this.xmin-n)/r)<o&&(u=this.xmin,s=e+(o=a)*i)}return[u,s]}_edgecode(n,e){return(n===this.xmin?1:n===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(n,e){return(n<this.xmin?1:n>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}_simplify(n){if(n&&n.length>4){for(let e=0;e<n.length;e+=2){const r=(e+2)%n.length,i=(e+4)%n.length;(n[e]===n[r]&&n[r]===n[i]||n[e+1]===n[r+1]&&n[r+1]===n[i+1])&&(n.splice(r,2),e-=2)}n.length||(n=null)}return n}}const mE=2*Math.PI,Qi=Math.pow;function yE(t){return t[0]}function wE(t){return t[1]}function _E(t){const{triangles:n,coords:e}=t;for(let r=0;r<n.length;r+=3){const i=2*n[r],o=2*n[r+1],a=2*n[r+2];if((e[a]-e[i])*(e[o+1]-e[i+1])-(e[o]-e[i])*(e[a+1]-e[i+1])>1e-10)return!1}return!0}function bE(t,n,e){return[t+Math.sin(t+n)*e,n+Math.cos(t-n)*e]}class V1{static from(n,e=yE,r=wE,i){return new V1("length"in n?ME(n,e,r,i):Float64Array.from(xE(n,e,r,i)))}constructor(n){this._delaunator=new Lc(n),this.inedges=new Int32Array(n.length/2),this._hullIndex=new Int32Array(n.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const n=this._delaunator,e=this.points;if(n.hull&&n.hull.length>2&&_E(n)){this.collinear=Int32Array.from({length:e.length/2},(l,d)=>d).sort((l,d)=>e[2*l]-e[2*d]||e[2*l+1]-e[2*d+1]);const s=this.collinear[0],c=this.collinear[this.collinear.length-1],f=[e[2*s],e[2*s+1],e[2*c],e[2*c+1]],h=1e-8*Math.hypot(f[3]-f[1],f[2]-f[0]);for(let l=0,d=e.length/2;l<d;++l){const g=bE(e[2*l],e[2*l+1],h);e[2*l]=g[0],e[2*l+1]=g[1]}this._delaunator=new Lc(e)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),u=this._hullIndex.fill(-1);for(let s=0,c=r.length;s<c;++s){const f=o[s%3===2?s-2:s+1];(r[s]===-1||a[f]===-1)&&(a[f]=s)}for(let s=0,c=i.length;s<c;++s)u[i[s]]=s;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],a[i[0]]=1,i.length===2&&(a[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(n){return new xw(this,n)}*neighbors(n){const{inedges:e,hull:r,_hullIndex:i,halfedges:o,triangles:a,collinear:u}=this;if(u){const h=u.indexOf(n);h>0&&(yield u[h-1]),h<u.length-1&&(yield u[h+1]);return}const s=e[n];if(s===-1)return;let c=s,f=-1;do{if(yield f=a[c],c=c%3===2?c-2:c+1,a[c]!==n)return;if(c=o[c],c===-1){const h=r[(i[n]+1)%r.length];h!==f&&(yield h);return}}while(c!==s)}find(n,e,r=0){if(n=+n,n!==n||(e=+e,e!==e))return-1;const i=r;let o;for(;(o=this._step(r,n,e))>=0&&o!==r&&o!==i;)r=o;return o}_step(n,e,r){const{inedges:i,hull:o,_hullIndex:a,halfedges:u,triangles:s,points:c}=this;if(i[n]===-1||!c.length)return(n+1)%(c.length>>1);let f=n,h=Qi(e-c[n*2],2)+Qi(r-c[n*2+1],2);const l=i[n];let d=l;do{let g=s[d];const p=Qi(e-c[g*2],2)+Qi(r-c[g*2+1],2);if(p<h&&(h=p,f=g),d=d%3===2?d-2:d+1,s[d]!==n)break;if(d=u[d],d===-1){if(d=o[(a[n]+1)%o.length],d!==g&&Qi(e-c[d*2],2)+Qi(r-c[d*2+1],2)<h)return d;break}}while(d!==l);return f}render(n){const e=n==null?n=new gi:void 0,{points:r,halfedges:i,triangles:o}=this;for(let a=0,u=i.length;a<u;++a){const s=i[a];if(s<a)continue;const c=o[a]*2,f=o[s]*2;n.moveTo(r[c],r[c+1]),n.lineTo(r[f],r[f+1])}return this.renderHull(n),e&&e.value()}renderPoints(n,e){e===void 0&&(!n||typeof n.moveTo!="function")&&(e=n,n=null),e=e==null?2:+e;const r=n==null?n=new gi:void 0,{points:i}=this;for(let o=0,a=i.length;o<a;o+=2){const u=i[o],s=i[o+1];n.moveTo(u+e,s),n.arc(u,s,e,0,mE)}return r&&r.value()}renderHull(n){const e=n==null?n=new gi:void 0,{hull:r,points:i}=this,o=r[0]*2,a=r.length;n.moveTo(i[o],i[o+1]);for(let u=1;u<a;++u){const s=2*r[u];n.lineTo(i[s],i[s+1])}return n.closePath(),e&&e.value()}hullPolygon(){const n=new k0;return this.renderHull(n),n.value()}renderTriangle(n,e){const r=e==null?e=new gi:void 0,{points:i,triangles:o}=this,a=o[n*=3]*2,u=o[n+1]*2,s=o[n+2]*2;return e.moveTo(i[a],i[a+1]),e.lineTo(i[u],i[u+1]),e.lineTo(i[s],i[s+1]),e.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:n}=this;for(let e=0,r=n.length/3;e<r;++e)yield this.trianglePolygon(e)}trianglePolygon(n){const e=new k0;return this.renderTriangle(n,e),e.value()}}function ME(t,n,e,r){const i=t.length,o=new Float64Array(i*2);for(let a=0;a<i;++a){const u=t[a];o[a*2]=n.call(r,u,a,t),o[a*2+1]=e.call(r,u,a,t)}return o}function*xE(t,n,e,r){let i=0;for(const o of t)yield n.call(r,o,i,t),yield e.call(r,o,i,t),++i}var qp={},El={},$l=34,Qo=10,Al=13;function Sw(t){return new Function("d","return {"+t.map(function(n,e){return JSON.stringify(n)+": d["+e+'] || ""'}).join(",")+"}")}function SE(t,n){var e=Sw(t);return function(r,i){return n(e(r),i,t)}}function Up(t){var n=Object.create(null),e=[];return t.forEach(function(r){for(var i in r)i in n||e.push(n[i]=i)}),e}function ie(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function EE(t){return t<0?"-"+ie(-t,6):t>9999?"+"+ie(t,6):ie(t,4)}function $E(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":EE(t.getUTCFullYear())+"-"+ie(t.getUTCMonth()+1,2)+"-"+ie(t.getUTCDate(),2)+(i?"T"+ie(n,2)+":"+ie(e,2)+":"+ie(r,2)+"."+ie(i,3)+"Z":r?"T"+ie(n,2)+":"+ie(e,2)+":"+ie(r,2)+"Z":e||n?"T"+ie(n,2)+":"+ie(e,2)+"Z":"")}function _f(t){var n=new RegExp('["'+t+`
\r]`),e=t.charCodeAt(0);function r(h,l){var d,g,p=i(h,function(v,m){if(d)return d(v,m-1);g=v,d=l?SE(v,l):Sw(v)});return p.columns=g||[],p}function i(h,l){var d=[],g=h.length,p=0,v=0,m,w=g<=0,_=!1;h.charCodeAt(g-1)===Qo&&--g,h.charCodeAt(g-1)===Al&&--g;function y(){if(w)return El;if(_)return _=!1,qp;var x,T=p,N;if(h.charCodeAt(T)===$l){for(;p++<g&&h.charCodeAt(p)!==$l||h.charCodeAt(++p)===$l;);return(x=p)>=g?w=!0:(N=h.charCodeAt(p++))===Qo?_=!0:N===Al&&(_=!0,h.charCodeAt(p)===Qo&&++p),h.slice(T+1,x-1).replace(/""/g,'"')}for(;p<g;){if((N=h.charCodeAt(x=p++))===Qo)_=!0;else if(N===Al)_=!0,h.charCodeAt(p)===Qo&&++p;else if(N!==e)continue;return h.slice(T,x)}return w=!0,h.slice(T,g)}for(;(m=y())!==El;){for(var M=[];m!==qp&&m!==El;)M.push(m),m=y();l&&(M=l(M,v++))==null||d.push(M)}return d}function o(h,l){return h.map(function(d){return l.map(function(g){return f(d[g])}).join(t)})}function a(h,l){return l==null&&(l=Up(h)),[l.map(f).join(t)].concat(o(h,l)).join(`
`)}function u(h,l){return l==null&&(l=Up(h)),o(h,l).join(`
`)}function s(h){return h.map(c).join(`
`)}function c(h){return h.map(f).join(t)}function f(h){return h==null?"":h instanceof Date?$E(h):n.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:i,format:a,formatBody:u,formatRows:s,formatRow:c,formatValue:f}}var Fi=_f(","),Ew=Fi.parse,AE=Fi.parseRows,PE=Fi.format,TE=Fi.formatBody,RE=Fi.formatRows,NE=Fi.formatRow,CE=Fi.formatValue,Li=_f("	"),$w=Li.parse,kE=Li.parseRows,IE=Li.format,zE=Li.formatBody,DE=Li.formatRows,OE=Li.formatRow,FE=Li.formatValue;function LE(t){for(var n in t){var e=t[n].trim(),r,i;if(!e)e=null;else if(e==="true")e=!0;else if(e==="false")e=!1;else if(e==="NaN")e=NaN;else if(!isNaN(r=+e))e=r;else if(i=e.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))qE&&i[4]&&!i[7]&&(e=e.replace(/-/g,"/").replace(/T/," ")),e=new Date(e);else continue;t[n]=e}return t}const qE=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function UE(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function GE(t,n){return fetch(t,n).then(UE)}function HE(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function BE(t,n){return fetch(t,n).then(HE)}function YE(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function bf(t,n){return fetch(t,n).then(YE)}function Aw(t){return function(n,e,r){return arguments.length===2&&typeof e=="function"&&(r=e,e=void 0),bf(n,e).then(function(i){return t(i,r)})}}function VE(t,n,e,r){arguments.length===3&&typeof e=="function"&&(r=e,e=void 0);var i=_f(t);return bf(n,e).then(function(o){return i.parse(o,r)})}var WE=Aw(Ew),XE=Aw($w);function ZE(t,n){return new Promise(function(e,r){var i=new Image;for(var o in n)i[o]=n[o];i.onerror=r,i.onload=function(){e(i)},i.src=t})}function KE(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function Pw(t,n){return fetch(t,n).then(KE)}function W1(t){return(n,e)=>bf(n,e).then(r=>new DOMParser().parseFromString(r,t))}const QE=W1("application/xml");var JE=W1("text/html"),jE=W1("image/svg+xml");function t$(t,n){var e,r=1;t==null&&(t=0),n==null&&(n=0);function i(){var o,a=e.length,u,s=0,c=0;for(o=0;o<a;++o)u=e[o],s+=u.x,c+=u.y;for(s=(s/a-t)*r,c=(c/a-n)*r,o=0;o<a;++o)u=e[o],u.x-=s,u.y-=c}return i.initialize=function(o){e=o},i.x=function(o){return arguments.length?(t=+o,i):t},i.y=function(o){return arguments.length?(n=+o,i):n},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function n$(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return Tw(this.cover(n,e),n,e,t)}function Tw(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o=t._root,a={data:r},u=t._x0,s=t._y0,c=t._x1,f=t._y1,h,l,d,g,p,v,m,w;if(!o)return t._root=a,t;for(;o.length;)if((p=n>=(h=(u+c)/2))?u=h:c=h,(v=e>=(l=(s+f)/2))?s=l:f=l,i=o,!(o=o[m=v<<1|p]))return i[m]=a,t;if(d=+t._x.call(null,o.data),g=+t._y.call(null,o.data),n===d&&e===g)return a.next=o,i?i[m]=a:t._root=a,t;do i=i?i[m]=new Array(4):t._root=new Array(4),(p=n>=(h=(u+c)/2))?u=h:c=h,(v=e>=(l=(s+f)/2))?s=l:f=l;while((m=v<<1|p)===(w=(g>=l)<<1|d>=h));return i[w]=o,i[m]=a,t}function e$(t){var n,e,r=t.length,i,o,a=new Array(r),u=new Array(r),s=1/0,c=1/0,f=-1/0,h=-1/0;for(e=0;e<r;++e)isNaN(i=+this._x.call(null,n=t[e]))||isNaN(o=+this._y.call(null,n))||(a[e]=i,u[e]=o,i<s&&(s=i),i>f&&(f=i),o<c&&(c=o),o>h&&(h=o));if(s>f||c>h)return this;for(this.cover(s,c).cover(f,h),e=0;e<r;++e)Tw(this,a[e],u[e],t[e]);return this}function r$(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var a=i-e||1,u=this._root,s,c;e>t||t>=i||r>n||n>=o;)switch(c=(n<r)<<1|t<e,s=new Array(4),s[c]=u,u=s,a*=2,c){case 0:i=e+a,o=r+a;break;case 1:e=i-a,o=r+a;break;case 2:i=e+a,r=o-a;break;case 3:e=i-a,r=o-a;break}this._root&&this._root.length&&(this._root=u)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this}function i$(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t}function o$(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Xn(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function a$(t,n,e){var r,i=this._x0,o=this._y0,a,u,s,c,f=this._x1,h=this._y1,l=[],d=this._root,g,p;for(d&&l.push(new Xn(d,i,o,f,h)),e==null?e=1/0:(i=t-e,o=n-e,f=t+e,h=n+e,e*=e);g=l.pop();)if(!(!(d=g.node)||(a=g.x0)>f||(u=g.y0)>h||(s=g.x1)<i||(c=g.y1)<o))if(d.length){var v=(a+s)/2,m=(u+c)/2;l.push(new Xn(d[3],v,m,s,c),new Xn(d[2],a,m,v,c),new Xn(d[1],v,u,s,m),new Xn(d[0],a,u,v,m)),(p=(n>=m)<<1|t>=v)&&(g=l[l.length-1],l[l.length-1]=l[l.length-1-p],l[l.length-1-p]=g)}else{var w=t-+this._x.call(null,d.data),_=n-+this._y.call(null,d.data),y=w*w+_*_;if(y<e){var M=Math.sqrt(e=y);i=t-M,o=n-M,f=t+M,h=n+M,r=d.data}}return r}function u$(t){if(isNaN(f=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var n,e=this._root,r,i,o,a=this._x0,u=this._y0,s=this._x1,c=this._y1,f,h,l,d,g,p,v,m;if(!e)return this;if(e.length)for(;;){if((g=f>=(l=(a+s)/2))?a=l:s=l,(p=h>=(d=(u+c)/2))?u=d:c=d,n=e,!(e=e[v=p<<1|g]))return this;if(!e.length)break;(n[v+1&3]||n[v+2&3]||n[v+3&3])&&(r=n,m=v)}for(;e.data!==t;)if(i=e,!(e=e.next))return this;return(o=e.next)&&delete e.next,i?(o?i.next=o:delete i.next,this):n?(o?n[v]=o:delete n[v],(e=n[0]||n[1]||n[2]||n[3])&&e===(n[3]||n[2]||n[1]||n[0])&&!e.length&&(r?r[m]=e:this._root=e),this):(this._root=o,this)}function c$(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function s$(){return this._root}function f$(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t}function l$(t){var n=[],e,r=this._root,i,o,a,u,s;for(r&&n.push(new Xn(r,this._x0,this._y0,this._x1,this._y1));e=n.pop();)if(!t(r=e.node,o=e.x0,a=e.y0,u=e.x1,s=e.y1)&&r.length){var c=(o+u)/2,f=(a+s)/2;(i=r[3])&&n.push(new Xn(i,c,f,u,s)),(i=r[2])&&n.push(new Xn(i,o,f,c,s)),(i=r[1])&&n.push(new Xn(i,c,a,u,f)),(i=r[0])&&n.push(new Xn(i,o,a,c,f))}return this}function h$(t){var n=[],e=[],r;for(this._root&&n.push(new Xn(this._root,this._x0,this._y0,this._x1,this._y1));r=n.pop();){var i=r.node;if(i.length){var o,a=r.x0,u=r.y0,s=r.x1,c=r.y1,f=(a+s)/2,h=(u+c)/2;(o=i[0])&&n.push(new Xn(o,a,u,f,h)),(o=i[1])&&n.push(new Xn(o,f,u,s,h)),(o=i[2])&&n.push(new Xn(o,a,h,f,c)),(o=i[3])&&n.push(new Xn(o,f,h,s,c))}e.push(r)}for(;r=e.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function d$(t){return t[0]}function g$(t){return arguments.length?(this._x=t,this):this._x}function p$(t){return t[1]}function v$(t){return arguments.length?(this._y=t,this):this._y}function Mf(t,n,e){var r=new X1(n??d$,e??p$,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function X1(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Gp(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var ee=Mf.prototype=X1.prototype;ee.copy=function(){var t=new X1(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,e,r;if(!n)return t;if(!n.length)return t._root=Gp(n),t;for(e=[{source:n,target:t._root=new Array(4)}];n=e.pop();)for(var i=0;i<4;++i)(r=n.source[i])&&(r.length?e.push({source:r,target:n.target[i]=new Array(4)}):n.target[i]=Gp(r));return t};ee.add=n$;ee.addAll=e$;ee.cover=r$;ee.data=i$;ee.extent=o$;ee.find=a$;ee.remove=u$;ee.removeAll=c$;ee.root=s$;ee.size=f$;ee.visit=l$;ee.visitAfter=h$;ee.x=g$;ee.y=v$;function dn(t){return function(){return t}}function Fr(t){return(t()-.5)*1e-6}function m$(t){return t.x+t.vx}function y$(t){return t.y+t.vy}function w$(t){var n,e,r,i=1,o=1;typeof t!="function"&&(t=dn(t==null?1:+t));function a(){for(var c,f=n.length,h,l,d,g,p,v,m=0;m<o;++m)for(h=Mf(n,m$,y$).visitAfter(u),c=0;c<f;++c)l=n[c],p=e[l.index],v=p*p,d=l.x+l.vx,g=l.y+l.vy,h.visit(w);function w(_,y,M,x,T){var N=_.data,C=_.r,I=p+C;if(N){if(N.index>l.index){var P=d-N.x-N.vx,B=g-N.y-N.vy,F=P*P+B*B;F<I*I&&(P===0&&(P=Fr(r),F+=P*P),B===0&&(B=Fr(r),F+=B*B),F=(I-(F=Math.sqrt(F)))/F*i,l.vx+=(P*=F)*(I=(C*=C)/(v+C)),l.vy+=(B*=F)*I,N.vx-=P*(I=1-I),N.vy-=B*I)}return}return y>d+I||x<d-I||M>g+I||T<g-I}}function u(c){if(c.data)return c.r=e[c.data.index];for(var f=c.r=0;f<4;++f)c[f]&&c[f].r>c.r&&(c.r=c[f].r)}function s(){if(n){var c,f=n.length,h;for(e=new Array(f),c=0;c<f;++c)h=n[c],e[h.index]=+t(h,c,n)}}return a.initialize=function(c,f){n=c,r=f,s()},a.iterations=function(c){return arguments.length?(o=+c,a):o},a.strength=function(c){return arguments.length?(i=+c,a):i},a.radius=function(c){return arguments.length?(t=typeof c=="function"?c:dn(+c),s(),a):t},a}function _$(t){return t.index}function Hp(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}function b$(t){var n=_$,e=h,r,i=dn(30),o,a,u,s,c,f=1;t==null&&(t=[]);function h(v){return 1/Math.min(u[v.source.index],u[v.target.index])}function l(v){for(var m=0,w=t.length;m<f;++m)for(var _=0,y,M,x,T,N,C,I;_<w;++_)y=t[_],M=y.source,x=y.target,T=x.x+x.vx-M.x-M.vx||Fr(c),N=x.y+x.vy-M.y-M.vy||Fr(c),C=Math.sqrt(T*T+N*N),C=(C-o[_])/C*v*r[_],T*=C,N*=C,x.vx-=T*(I=s[_]),x.vy-=N*I,M.vx+=T*(I=1-I),M.vy+=N*I}function d(){if(a){var v,m=a.length,w=t.length,_=new Map(a.map((M,x)=>[n(M,x,a),M])),y;for(v=0,u=new Array(m);v<w;++v)y=t[v],y.index=v,typeof y.source!="object"&&(y.source=Hp(_,y.source)),typeof y.target!="object"&&(y.target=Hp(_,y.target)),u[y.source.index]=(u[y.source.index]||0)+1,u[y.target.index]=(u[y.target.index]||0)+1;for(v=0,s=new Array(w);v<w;++v)y=t[v],s[v]=u[y.source.index]/(u[y.source.index]+u[y.target.index]);r=new Array(w),g(),o=new Array(w),p()}}function g(){if(a)for(var v=0,m=t.length;v<m;++v)r[v]=+e(t[v],v,t)}function p(){if(a)for(var v=0,m=t.length;v<m;++v)o[v]=+i(t[v],v,t)}return l.initialize=function(v,m){a=v,c=m,d()},l.links=function(v){return arguments.length?(t=v,d(),l):t},l.id=function(v){return arguments.length?(n=v,l):n},l.iterations=function(v){return arguments.length?(f=+v,l):f},l.strength=function(v){return arguments.length?(e=typeof v=="function"?v:dn(+v),g(),l):e},l.distance=function(v){return arguments.length?(i=typeof v=="function"?v:dn(+v),p(),l):i},l}const M$=1664525,x$=1013904223,Bp=4294967296;function S$(){let t=1;return()=>(t=(M$*t+x$)%Bp)/Bp}function E$(t){return t.x}function $$(t){return t.y}var A$=10,P$=Math.PI*(3-Math.sqrt(5));function T$(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,u=new Map,s=yf(h),c=Di("tick","end"),f=S$();t==null&&(t=[]);function h(){l(),c.call("tick",n),e<r&&(s.stop(),c.call("end",n))}function l(p){var v,m=t.length,w;p===void 0&&(p=1);for(var _=0;_<p;++_)for(e+=(o-e)*i,u.forEach(function(y){y(e)}),v=0;v<m;++v)w=t[v],w.fx==null?w.x+=w.vx*=a:(w.x=w.fx,w.vx=0),w.fy==null?w.y+=w.vy*=a:(w.y=w.fy,w.vy=0);return n}function d(){for(var p=0,v=t.length,m;p<v;++p){if(m=t[p],m.index=p,m.fx!=null&&(m.x=m.fx),m.fy!=null&&(m.y=m.fy),isNaN(m.x)||isNaN(m.y)){var w=A$*Math.sqrt(.5+p),_=p*P$;m.x=w*Math.cos(_),m.y=w*Math.sin(_)}(isNaN(m.vx)||isNaN(m.vy))&&(m.vx=m.vy=0)}}function g(p){return p.initialize&&p.initialize(t,f),p}return d(),n={tick:l,restart:function(){return s.restart(h),n},stop:function(){return s.stop(),n},nodes:function(p){return arguments.length?(t=p,d(),u.forEach(g),n):t},alpha:function(p){return arguments.length?(e=+p,n):e},alphaMin:function(p){return arguments.length?(r=+p,n):r},alphaDecay:function(p){return arguments.length?(i=+p,n):+i},alphaTarget:function(p){return arguments.length?(o=+p,n):o},velocityDecay:function(p){return arguments.length?(a=1-p,n):1-a},randomSource:function(p){return arguments.length?(f=p,u.forEach(g),n):f},force:function(p,v){return arguments.length>1?(v==null?u.delete(p):u.set(p,g(v)),n):u.get(p)},find:function(p,v,m){var w=0,_=t.length,y,M,x,T,N;for(m==null?m=1/0:m*=m,w=0;w<_;++w)T=t[w],y=p-T.x,M=v-T.y,x=y*y+M*M,x<m&&(N=T,m=x);return N},on:function(p,v){return arguments.length>1?(c.on(p,v),n):c.on(p)}}}function R$(){var t,n,e,r,i=dn(-30),o,a=1,u=1/0,s=.81;function c(d){var g,p=t.length,v=Mf(t,E$,$$).visitAfter(h);for(r=d,g=0;g<p;++g)n=t[g],v.visit(l)}function f(){if(t){var d,g=t.length,p;for(o=new Array(g),d=0;d<g;++d)p=t[d],o[p.index]=+i(p,d,t)}}function h(d){var g=0,p,v,m=0,w,_,y;if(d.length){for(w=_=y=0;y<4;++y)(p=d[y])&&(v=Math.abs(p.value))&&(g+=p.value,m+=v,w+=v*p.x,_+=v*p.y);d.x=w/m,d.y=_/m}else{p=d,p.x=p.data.x,p.y=p.data.y;do g+=o[p.data.index];while(p=p.next)}d.value=g}function l(d,g,p,v){if(!d.value)return!0;var m=d.x-n.x,w=d.y-n.y,_=v-g,y=m*m+w*w;if(_*_/s<y)return y<u&&(m===0&&(m=Fr(e),y+=m*m),w===0&&(w=Fr(e),y+=w*w),y<a&&(y=Math.sqrt(a*y)),n.vx+=m*d.value*r/y,n.vy+=w*d.value*r/y),!0;if(d.length||y>=u)return;(d.data!==n||d.next)&&(m===0&&(m=Fr(e),y+=m*m),w===0&&(w=Fr(e),y+=w*w),y<a&&(y=Math.sqrt(a*y)));do d.data!==n&&(_=o[d.data.index]*r/y,n.vx+=m*_,n.vy+=w*_);while(d=d.next)}return c.initialize=function(d,g){t=d,e=g,f()},c.strength=function(d){return arguments.length?(i=typeof d=="function"?d:dn(+d),f(),c):i},c.distanceMin=function(d){return arguments.length?(a=d*d,c):Math.sqrt(a)},c.distanceMax=function(d){return arguments.length?(u=d*d,c):Math.sqrt(u)},c.theta=function(d){return arguments.length?(s=d*d,c):Math.sqrt(s)},c}function N$(t,n,e){var r,i=dn(.1),o,a;typeof t!="function"&&(t=dn(+t)),n==null&&(n=0),e==null&&(e=0);function u(c){for(var f=0,h=r.length;f<h;++f){var l=r[f],d=l.x-n||1e-6,g=l.y-e||1e-6,p=Math.sqrt(d*d+g*g),v=(a[f]-p)*o[f]*c/p;l.vx+=d*v,l.vy+=g*v}}function s(){if(r){var c,f=r.length;for(o=new Array(f),a=new Array(f),c=0;c<f;++c)a[c]=+t(r[c],c,r),o[c]=isNaN(a[c])?0:+i(r[c],c,r)}}return u.initialize=function(c){r=c,s()},u.strength=function(c){return arguments.length?(i=typeof c=="function"?c:dn(+c),s(),u):i},u.radius=function(c){return arguments.length?(t=typeof c=="function"?c:dn(+c),s(),u):t},u.x=function(c){return arguments.length?(n=+c,u):n},u.y=function(c){return arguments.length?(e=+c,u):e},u}function C$(t){var n=dn(.1),e,r,i;typeof t!="function"&&(t=dn(t==null?0:+t));function o(u){for(var s=0,c=e.length,f;s<c;++s)f=e[s],f.vx+=(i[s]-f.x)*r[s]*u}function a(){if(e){var u,s=e.length;for(r=new Array(s),i=new Array(s),u=0;u<s;++u)r[u]=isNaN(i[u]=+t(e[u],u,e))?0:+n(e[u],u,e)}}return o.initialize=function(u){e=u,a()},o.strength=function(u){return arguments.length?(n=typeof u=="function"?u:dn(+u),a(),o):n},o.x=function(u){return arguments.length?(t=typeof u=="function"?u:dn(+u),a(),o):t},o}function k$(t){var n=dn(.1),e,r,i;typeof t!="function"&&(t=dn(t==null?0:+t));function o(u){for(var s=0,c=e.length,f;s<c;++s)f=e[s],f.vy+=(i[s]-f.y)*r[s]*u}function a(){if(e){var u,s=e.length;for(r=new Array(s),i=new Array(s),u=0;u<s;++u)r[u]=isNaN(i[u]=+t(e[u],u,e))?0:+n(e[u],u,e)}}return o.initialize=function(u){e=u,a()},o.strength=function(u){return arguments.length?(n=typeof u=="function"?u:dn(+u),a(),o):n},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:dn(+u),a(),o):t},o}function I$(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function qc(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function xo(t){return t=qc(Math.abs(t)),t?t[1]:NaN}function z$(t,n){return function(e,r){for(var i=e.length,o=[],a=0,u=t[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(e.substring(i-=u,i+u)),!((s+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(n)}}function D$(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var O$=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function So(t){if(!(n=O$.exec(t)))throw new Error("invalid format: "+t);var n;return new xf({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}So.prototype=xf.prototype;function xf(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}xf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function F$(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Rw;function L$(t,n){var e=qc(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Rw=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+qc(t,Math.max(0,n+o-1))[0]}function Yp(t,n){var e=qc(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Vp={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:I$,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Yp(t*100,n),r:Yp,s:L$,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Wp(t){return t}var Xp=Array.prototype.map,Zp=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Nw(t){var n=t.grouping===void 0||t.thousands===void 0?Wp:z$(Xp.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Wp:D$(Xp.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function c(h){h=So(h);var l=h.fill,d=h.align,g=h.sign,p=h.symbol,v=h.zero,m=h.width,w=h.comma,_=h.precision,y=h.trim,M=h.type;M==="n"?(w=!0,M="g"):Vp[M]||(_===void 0&&(_=12),y=!0,M="g"),(v||l==="0"&&d==="=")&&(v=!0,l="0",d="=");var x=p==="$"?e:p==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",T=p==="$"?r:/[%p]/.test(M)?a:"",N=Vp[M],C=/[defgprs%]/.test(M);_=_===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(P){var B=x,F=T,A,$,k;if(M==="c")F=N(P)+F,P="";else{P=+P;var E=P<0||1/P<0;if(P=isNaN(P)?s:N(Math.abs(P),_),y&&(P=F$(P)),E&&+P==0&&g!=="+"&&(E=!1),B=(E?g==="("?g:u:g==="-"||g==="("?"":g)+B,F=(M==="s"?Zp[8+Rw/3]:"")+F+(E&&g==="("?")":""),C){for(A=-1,$=P.length;++A<$;)if(k=P.charCodeAt(A),48>k||k>57){F=(k===46?i+P.slice(A+1):P.slice(A))+F,P=P.slice(0,A);break}}}w&&!v&&(P=n(P,1/0));var O=B.length+P.length+F.length,z=O<m?new Array(m-O+1).join(l):"";switch(w&&v&&(P=n(z+P,z.length?m-F.length:1/0),z=""),d){case"<":P=B+P+F+z;break;case"=":P=B+z+P+F;break;case"^":P=z.slice(0,O=z.length>>1)+B+P+F+z.slice(O);break;default:P=z+B+P+F;break}return o(P)}return I.toString=function(){return h+""},I}function f(h,l){var d=c((h=So(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(xo(l)/3)))*3,p=Math.pow(10,-g),v=Zp[8+g/3];return function(m){return d(p*m)+v}}return{format:c,formatPrefix:f}}var Nu,Sf,Z1;Cw({thousands:",",grouping:[3],currency:["$",""]});function Cw(t){return Nu=Nw(t),Sf=Nu.format,Z1=Nu.formatPrefix,Nu}function kw(t){return Math.max(0,-xo(Math.abs(t)))}function Iw(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xo(n)/3)))*3-xo(Math.abs(t)))}function zw(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,xo(n)-xo(t))+1}var pt=1e-6,Uc=1e-12,Nt=Math.PI,sn=Nt/2,Gc=Nt/4,jn=Nt*2,Vt=180/Nt,lt=Nt/180,It=Math.abs,Go=Math.atan,te=Math.atan2,ct=Math.cos,Cu=Math.ceil,Dw=Math.exp,I0=Math.hypot,Hc=Math.log,Pl=Math.pow,ut=Math.sin,Ae=Math.sign||function(t){return t>0?1:t<0?-1:0},Sn=Math.sqrt,K1=Math.tan;function Ow(t){return t>1?0:t<-1?Nt:Math.acos(t)}function ne(t){return t>1?sn:t<-1?-sn:Math.asin(t)}function Kp(t){return(t=ut(t/2))*t}function en(){}function Bc(t,n){t&&Jp.hasOwnProperty(t.type)&&Jp[t.type](t,n)}var Qp={Feature:function(t,n){Bc(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Bc(e[r].geometry,n)}},Jp={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){z0(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)z0(e[r],n,0)},Polygon:function(t,n){jp(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)jp(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Bc(e[r],n)}};function z0(t,n,e){var r=-1,i=t.length-e,o;for(n.lineStart();++r<i;)o=t[r],n.point(o[0],o[1],o[2]);n.lineEnd()}function jp(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)z0(t[e],n,1);n.polygonEnd()}function ce(t,n){t&&Qp.hasOwnProperty(t.type)?Qp[t.type](t,n):Bc(t,n)}var Yc=new gn,Vc=new gn,Fw,Lw,D0,O0,F0,je={point:en,lineStart:en,lineEnd:en,polygonStart:function(){Yc=new gn,je.lineStart=q$,je.lineEnd=U$},polygonEnd:function(){var t=+Yc;Vc.add(t<0?jn+t:t),this.lineStart=this.lineEnd=this.point=en},sphere:function(){Vc.add(jn)}};function q$(){je.point=G$}function U$(){qw(Fw,Lw)}function G$(t,n){je.point=qw,Fw=t,Lw=n,t*=lt,n*=lt,D0=t,O0=ct(n=n/2+Gc),F0=ut(n)}function qw(t,n){t*=lt,n*=lt,n=n/2+Gc;var e=t-D0,r=e>=0?1:-1,i=r*e,o=ct(n),a=ut(n),u=F0*a,s=O0*o+u*ct(i),c=u*r*ut(i);Yc.add(te(c,s)),D0=t,O0=o,F0=a}function H$(t){return Vc=new gn,ce(t,je),Vc*2}function Wc(t){return[te(t[1],t[0]),ne(t[2])]}function Ai(t){var n=t[0],e=t[1],r=ct(e);return[r*ct(n),r*ut(n),ut(e)]}function ku(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Eo(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Tl(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Iu(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Xc(t){var n=Sn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var jt,ae,un,pe,si,Uw,Gw,co,ya,Ir,Sr,hr={point:L0,lineStart:t2,lineEnd:n2,polygonStart:function(){hr.point=Bw,hr.lineStart=B$,hr.lineEnd=Y$,ya=new gn,je.polygonStart()},polygonEnd:function(){je.polygonEnd(),hr.point=L0,hr.lineStart=t2,hr.lineEnd=n2,Yc<0?(jt=-(un=180),ae=-(pe=90)):ya>pt?pe=90:ya<-1e-6&&(ae=-90),Sr[0]=jt,Sr[1]=un},sphere:function(){jt=-(un=180),ae=-(pe=90)}};function L0(t,n){Ir.push(Sr=[jt=t,un=t]),n<ae&&(ae=n),n>pe&&(pe=n)}function Hw(t,n){var e=Ai([t*lt,n*lt]);if(co){var r=Eo(co,e),i=[r[1],-r[0],0],o=Eo(i,r);Xc(o),o=Wc(o);var a=t-si,u=a>0?1:-1,s=o[0]*Vt*u,c,f=It(a)>180;f^(u*si<s&&s<u*t)?(c=o[1]*Vt,c>pe&&(pe=c)):(s=(s+360)%360-180,f^(u*si<s&&s<u*t)?(c=-o[1]*Vt,c<ae&&(ae=c)):(n<ae&&(ae=n),n>pe&&(pe=n))),f?t<si?de(jt,t)>de(jt,un)&&(un=t):de(t,un)>de(jt,un)&&(jt=t):un>=jt?(t<jt&&(jt=t),t>un&&(un=t)):t>si?de(jt,t)>de(jt,un)&&(un=t):de(t,un)>de(jt,un)&&(jt=t)}else Ir.push(Sr=[jt=t,un=t]);n<ae&&(ae=n),n>pe&&(pe=n),co=e,si=t}function t2(){hr.point=Hw}function n2(){Sr[0]=jt,Sr[1]=un,hr.point=L0,co=null}function Bw(t,n){if(co){var e=t-si;ya.add(It(e)>180?e+(e>0?360:-360):e)}else Uw=t,Gw=n;je.point(t,n),Hw(t,n)}function B$(){je.lineStart()}function Y$(){Bw(Uw,Gw),je.lineEnd(),It(ya)>pt&&(jt=-(un=180)),Sr[0]=jt,Sr[1]=un,co=null}function de(t,n){return(n-=t)<0?n+360:n}function V$(t,n){return t[0]-n[0]}function e2(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}function Yw(t){var n,e,r,i,o,a,u;if(pe=un=-(jt=ae=1/0),Ir=[],ce(t,hr),e=Ir.length){for(Ir.sort(V$),n=1,r=Ir[0],o=[r];n<e;++n)i=Ir[n],e2(r,i[0])||e2(r,i[1])?(de(r[0],i[1])>de(r[0],r[1])&&(r[1]=i[1]),de(i[0],r[1])>de(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=o.length-1,n=0,r=o[e];n<=e;r=i,++n)i=o[n],(u=de(r[1],i[0]))>a&&(a=u,jt=i[0],un=r[1])}return Ir=Sr=null,jt===1/0||ae===1/0?[[NaN,NaN],[NaN,NaN]]:[[jt,ae],[un,pe]]}var ca,Zc,Kc,Qc,Jc,jc,ts,ns,q0,U0,G0,Vw,Ww,Gn,Hn,Bn,Oe={sphere:en,point:Q1,lineStart:r2,lineEnd:i2,polygonStart:function(){Oe.lineStart=Z$,Oe.lineEnd=K$},polygonEnd:function(){Oe.lineStart=r2,Oe.lineEnd=i2}};function Q1(t,n){t*=lt,n*=lt;var e=ct(n);su(e*ct(t),e*ut(t),ut(n))}function su(t,n,e){++ca,Kc+=(t-Kc)/ca,Qc+=(n-Qc)/ca,Jc+=(e-Jc)/ca}function r2(){Oe.point=W$}function W$(t,n){t*=lt,n*=lt;var e=ct(n);Gn=e*ct(t),Hn=e*ut(t),Bn=ut(n),Oe.point=X$,su(Gn,Hn,Bn)}function X$(t,n){t*=lt,n*=lt;var e=ct(n),r=e*ct(t),i=e*ut(t),o=ut(n),a=te(Sn((a=Hn*o-Bn*i)*a+(a=Bn*r-Gn*o)*a+(a=Gn*i-Hn*r)*a),Gn*r+Hn*i+Bn*o);Zc+=a,jc+=a*(Gn+(Gn=r)),ts+=a*(Hn+(Hn=i)),ns+=a*(Bn+(Bn=o)),su(Gn,Hn,Bn)}function i2(){Oe.point=Q1}function Z$(){Oe.point=Q$}function K$(){Xw(Vw,Ww),Oe.point=Q1}function Q$(t,n){Vw=t,Ww=n,t*=lt,n*=lt,Oe.point=Xw;var e=ct(n);Gn=e*ct(t),Hn=e*ut(t),Bn=ut(n),su(Gn,Hn,Bn)}function Xw(t,n){t*=lt,n*=lt;var e=ct(n),r=e*ct(t),i=e*ut(t),o=ut(n),a=Hn*o-Bn*i,u=Bn*r-Gn*o,s=Gn*i-Hn*r,c=I0(a,u,s),f=ne(c),h=c&&-f/c;q0.add(h*a),U0.add(h*u),G0.add(h*s),Zc+=f,jc+=f*(Gn+(Gn=r)),ts+=f*(Hn+(Hn=i)),ns+=f*(Bn+(Bn=o)),su(Gn,Hn,Bn)}function Ho(t){ca=Zc=Kc=Qc=Jc=jc=ts=ns=0,q0=new gn,U0=new gn,G0=new gn,ce(t,Oe);var n=+q0,e=+U0,r=+G0,i=I0(n,e,r);return i<Uc&&(n=jc,e=ts,r=ns,Zc<pt&&(n=Kc,e=Qc,r=Jc),i=I0(n,e,r),i<Uc)?[NaN,NaN]:[te(e,n)*Vt,ne(r/i)*Vt]}function Ji(t){return function(){return t}}function H0(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function B0(t,n){return It(t)>Nt&&(t-=Math.round(t/jn)*jn),[t,n]}B0.invert=B0;function J1(t,n,e){return(t%=jn)?n||e?H0(a2(t),u2(n,e)):a2(t):n||e?u2(n,e):B0}function o2(t){return function(n,e){return n+=t,It(n)>Nt&&(n-=Math.round(n/jn)*jn),[n,e]}}function a2(t){var n=o2(t);return n.invert=o2(-t),n}function u2(t,n){var e=ct(t),r=ut(t),i=ct(n),o=ut(n);function a(u,s){var c=ct(s),f=ct(u)*c,h=ut(u)*c,l=ut(s),d=l*e+f*r;return[te(h*i-d*o,f*e-l*r),ne(d*i+h*o)]}return a.invert=function(u,s){var c=ct(s),f=ct(u)*c,h=ut(u)*c,l=ut(s),d=l*i-h*o;return[te(h*i+l*o,f*e+d*r),ne(d*e-f*r)]},a}function $o(t){t=J1(t[0]*lt,t[1]*lt,t.length>2?t[2]*lt:0);function n(e){return e=t(e[0]*lt,e[1]*lt),e[0]*=Vt,e[1]*=Vt,e}return n.invert=function(e){return e=t.invert(e[0]*lt,e[1]*lt),e[0]*=Vt,e[1]*=Vt,e},n}function Zw(t,n,e,r,i,o){if(e){var a=ct(n),u=ut(n),s=r*e;i==null?(i=n+r*jn,o=n-s/2):(i=c2(a,i),o=c2(a,o),(r>0?i<o:i>o)&&(i+=r*jn));for(var c,f=i;r>0?f>o:f<o;f-=s)c=Wc([a,-u*ct(f),-u*ut(f)]),t.point(c[0],c[1])}}function c2(t,n){n=Ai(n),n[0]-=t,Xc(n);var e=Ow(-n[1]);return((-n[2]<0?-e:e)+jn-pt)%jn}function Kw(){var t=Ji([0,0]),n=Ji(90),e=Ji(2),r,i,o={point:a};function a(s,c){r.push(s=i(s,c)),s[0]*=Vt,s[1]*=Vt}function u(){var s=t.apply(this,arguments),c=n.apply(this,arguments)*lt,f=e.apply(this,arguments)*lt;return r=[],i=J1(-s[0]*lt,-s[1]*lt,0).invert,Zw(o,c,f,1),s={type:"Polygon",coordinates:[r]},r=i=null,s}return u.center=function(s){return arguments.length?(t=typeof s=="function"?s:Ji([+s[0],+s[1]]),u):t},u.radius=function(s){return arguments.length?(n=typeof s=="function"?s:Ji(+s),u):n},u.precision=function(s){return arguments.length?(e=typeof s=="function"?s:Ji(+s),u):e},u}function Qw(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:en,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function fc(t,n){return It(t[0]-n[0])<pt&&It(t[1]-n[1])<pt}function zu(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Jw(t,n,e,r,i){var o=[],a=[],u,s;if(t.forEach(function(g){if(!((p=g.length-1)<=0)){var p,v=g[0],m=g[p],w;if(fc(v,m)){if(!v[2]&&!m[2]){for(i.lineStart(),u=0;u<p;++u)i.point((v=g[u])[0],v[1]);i.lineEnd();return}m[0]+=2*pt}o.push(w=new zu(v,g,null,!0)),a.push(w.o=new zu(v,null,w,!1)),o.push(w=new zu(m,g,null,!1)),a.push(w.o=new zu(m,null,w,!0))}}),!!o.length){for(a.sort(n),s2(o),s2(a),u=0,s=a.length;u<s;++u)a[u].e=e=!e;for(var c=o[0],f,h;;){for(var l=c,d=!0;l.v;)if((l=l.n)===c)return;f=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(d)for(u=0,s=f.length;u<s;++u)i.point((h=f[u])[0],h[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(d)for(f=l.p.z,u=f.length-1;u>=0;--u)i.point((h=f[u])[0],h[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,f=l.z,d=!d}while(!l.v);i.lineEnd()}}}function s2(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Rl(t){return It(t[0])<=Nt?t[0]:Ae(t[0])*((It(t[0])+Nt)%jn-Nt)}function jw(t,n){var e=Rl(n),r=n[1],i=ut(r),o=[ut(e),-ct(e),0],a=0,u=0,s=new gn;i===1?r=sn+pt:i===-1&&(r=-sn-pt);for(var c=0,f=t.length;c<f;++c)if(l=(h=t[c]).length)for(var h,l,d=h[l-1],g=Rl(d),p=d[1]/2+Gc,v=ut(p),m=ct(p),w=0;w<l;++w,g=y,v=x,m=T,d=_){var _=h[w],y=Rl(_),M=_[1]/2+Gc,x=ut(M),T=ct(M),N=y-g,C=N>=0?1:-1,I=C*N,P=I>Nt,B=v*x;if(s.add(te(B*C*ut(I),m*T+B*ct(I))),a+=P?N+C*jn:N,P^g>=e^y>=e){var F=Eo(Ai(d),Ai(_));Xc(F);var A=Eo(o,F);Xc(A);var $=(P^N>=0?-1:1)*ne(A[2]);(r>$||r===$&&(F[0]||F[1]))&&(u+=P^N>=0?1:-1)}}return(a<-1e-6||a<pt&&s<-1e-12)^u&1}function t5(t,n,e,r){return function(i){var o=n(i),a=Qw(),u=n(a),s=!1,c,f,h,l={point:d,lineStart:p,lineEnd:v,polygonStart:function(){l.point=m,l.lineStart=w,l.lineEnd=_,f=[],c=[]},polygonEnd:function(){l.point=d,l.lineStart=p,l.lineEnd=v,f=af(f);var y=jw(c,r);f.length?(s||(i.polygonStart(),s=!0),Jw(f,j$,y,e,i)):y&&(s||(i.polygonStart(),s=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),s&&(i.polygonEnd(),s=!1),f=c=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(y,M){t(y,M)&&i.point(y,M)}function g(y,M){o.point(y,M)}function p(){l.point=g,o.lineStart()}function v(){l.point=d,o.lineEnd()}function m(y,M){h.push([y,M]),u.point(y,M)}function w(){u.lineStart(),h=[]}function _(){m(h[0][0],h[0][1]),u.lineEnd();var y=u.clean(),M=a.result(),x,T=M.length,N,C,I;if(h.pop(),c.push(h),h=null,!!T){if(y&1){if(C=M[0],(N=C.length-1)>0){for(s||(i.polygonStart(),s=!0),i.lineStart(),x=0;x<N;++x)i.point((I=C[x])[0],I[1]);i.lineEnd()}return}T>1&&y&2&&M.push(M.pop().concat(M.shift())),f.push(M.filter(J$))}}return l}}function J$(t){return t.length>1}function j$(t,n){return((t=t.x)[0]<0?t[1]-sn-pt:sn-t[1])-((n=n.x)[0]<0?n[1]-sn-pt:sn-n[1])}const Y0=t5(function(){return!0},tA,eA,[-Nt,-sn]);function tA(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var u=o>0?Nt:-Nt,s=It(o-n);It(s-Nt)<pt?(t.point(n,e=(e+a)/2>0?sn:-sn),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(u,e),t.point(o,e),i=0):r!==u&&s>=Nt&&(It(n-r)<pt&&(n-=r*pt),It(o-u)<pt&&(o-=u*pt),e=nA(n,e,o,a),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(u,e),i=0),t.point(n=o,e=a),r=u},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function nA(t,n,e,r){var i,o,a=ut(t-e);return It(a)>pt?Go((ut(n)*(o=ct(r))*ut(e)-ut(r)*(i=ct(n))*ut(t))/(i*o*a)):(n+r)/2}function eA(t,n,e,r){var i;if(t==null)i=e*sn,r.point(-Nt,i),r.point(0,i),r.point(Nt,i),r.point(Nt,0),r.point(Nt,-i),r.point(0,-i),r.point(-Nt,-i),r.point(-Nt,0),r.point(-Nt,i);else if(It(t[0]-n[0])>pt){var o=t[0]<n[0]?Nt:-Nt;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function n5(t){var n=ct(t),e=2*lt,r=n>0,i=It(n)>pt;function o(f,h,l,d){Zw(d,t,e,l,f,h)}function a(f,h){return ct(f)*ct(h)>n}function u(f){var h,l,d,g,p;return{lineStart:function(){g=d=!1,p=1},point:function(v,m){var w=[v,m],_,y=a(v,m),M=r?y?0:c(v,m):y?c(v+(v<0?Nt:-Nt),m):0;if(!h&&(g=d=y)&&f.lineStart(),y!==d&&(_=s(h,w),(!_||fc(h,_)||fc(w,_))&&(w[2]=1)),y!==d)p=0,y?(f.lineStart(),_=s(w,h),f.point(_[0],_[1])):(_=s(h,w),f.point(_[0],_[1],2),f.lineEnd()),h=_;else if(i&&h&&r^y){var x;!(M&l)&&(x=s(w,h,!0))&&(p=0,r?(f.lineStart(),f.point(x[0][0],x[0][1]),f.point(x[1][0],x[1][1]),f.lineEnd()):(f.point(x[1][0],x[1][1]),f.lineEnd(),f.lineStart(),f.point(x[0][0],x[0][1],3)))}y&&(!h||!fc(h,w))&&f.point(w[0],w[1]),h=w,d=y,l=M},lineEnd:function(){d&&f.lineEnd(),h=null},clean:function(){return p|(g&&d)<<1}}}function s(f,h,l){var d=Ai(f),g=Ai(h),p=[1,0,0],v=Eo(d,g),m=ku(v,v),w=v[0],_=m-w*w;if(!_)return!l&&f;var y=n*m/_,M=-n*w/_,x=Eo(p,v),T=Iu(p,y),N=Iu(v,M);Tl(T,N);var C=x,I=ku(T,C),P=ku(C,C),B=I*I-P*(ku(T,T)-1);if(!(B<0)){var F=Sn(B),A=Iu(C,(-I-F)/P);if(Tl(A,T),A=Wc(A),!l)return A;var $=f[0],k=h[0],E=f[1],O=h[1],z;k<$&&(z=$,$=k,k=z);var H=k-$,Y=It(H-Nt)<pt,X=Y||H<pt;if(!Y&&O<E&&(z=E,E=O,O=z),X?Y?E+O>0^A[1]<(It(A[0]-$)<pt?E:O):E<=A[1]&&A[1]<=O:H>Nt^($<=A[0]&&A[0]<=k)){var j=Iu(C,(-I+F)/P);return Tl(j,T),[A,Wc(j)]}}}function c(f,h){var l=r?t:Nt-t,d=0;return f<-l?d|=1:f>l&&(d|=2),h<-l?d|=4:h>l&&(d|=8),d}return t5(a,u,o,r?[0,-t]:[-Nt,t-Nt])}function rA(t,n,e,r,i,o){var a=t[0],u=t[1],s=n[0],c=n[1],f=0,h=1,l=s-a,d=c-u,g;if(g=e-a,!(!l&&g>0)){if(g/=l,l<0){if(g<f)return;g<h&&(h=g)}else if(l>0){if(g>h)return;g>f&&(f=g)}if(g=i-a,!(!l&&g<0)){if(g/=l,l<0){if(g>h)return;g>f&&(f=g)}else if(l>0){if(g<f)return;g<h&&(h=g)}if(g=r-u,!(!d&&g>0)){if(g/=d,d<0){if(g<f)return;g<h&&(h=g)}else if(d>0){if(g>h)return;g>f&&(f=g)}if(g=o-u,!(!d&&g<0)){if(g/=d,d<0){if(g>h)return;g>f&&(f=g)}else if(d>0){if(g<f)return;g<h&&(h=g)}return f>0&&(t[0]=a+f*l,t[1]=u+f*d),h<1&&(n[0]=a+h*l,n[1]=u+h*d),!0}}}}}var Du=1e9,Ou=-1e9;function Ef(t,n,e,r){function i(c,f){return t<=c&&c<=e&&n<=f&&f<=r}function o(c,f,h,l){var d=0,g=0;if(c==null||(d=a(c,h))!==(g=a(f,h))||s(c,f)<0^h>0)do l.point(d===0||d===3?t:e,d>1?r:n);while((d=(d+h+4)%4)!==g);else l.point(f[0],f[1])}function a(c,f){return It(c[0]-t)<pt?f>0?0:3:It(c[0]-e)<pt?f>0?2:1:It(c[1]-n)<pt?f>0?1:0:f>0?3:2}function u(c,f){return s(c.x,f.x)}function s(c,f){var h=a(c,1),l=a(f,1);return h!==l?h-l:h===0?f[1]-c[1]:h===1?c[0]-f[0]:h===2?c[1]-f[1]:f[0]-c[0]}return function(c){var f=c,h=Qw(),l,d,g,p,v,m,w,_,y,M,x,T={point:N,lineStart:B,lineEnd:F,polygonStart:I,polygonEnd:P};function N($,k){i($,k)&&f.point($,k)}function C(){for(var $=0,k=0,E=d.length;k<E;++k)for(var O=d[k],z=1,H=O.length,Y=O[0],X,j,et=Y[0],it=Y[1];z<H;++z)X=et,j=it,Y=O[z],et=Y[0],it=Y[1],j<=r?it>r&&(et-X)*(r-j)>(it-j)*(t-X)&&++$:it<=r&&(et-X)*(r-j)<(it-j)*(t-X)&&--$;return $}function I(){f=h,l=[],d=[],x=!0}function P(){var $=C(),k=x&&$,E=(l=af(l)).length;(k||E)&&(c.polygonStart(),k&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),E&&Jw(l,u,$,o,c),c.polygonEnd()),f=c,l=d=g=null}function B(){T.point=A,d&&d.push(g=[]),M=!0,y=!1,w=_=NaN}function F(){l&&(A(p,v),m&&y&&h.rejoin(),l.push(h.result())),T.point=N,y&&f.lineEnd()}function A($,k){var E=i($,k);if(d&&g.push([$,k]),M)p=$,v=k,m=E,M=!1,E&&(f.lineStart(),f.point($,k));else if(E&&y)f.point($,k);else{var O=[w=Math.max(Ou,Math.min(Du,w)),_=Math.max(Ou,Math.min(Du,_))],z=[$=Math.max(Ou,Math.min(Du,$)),k=Math.max(Ou,Math.min(Du,k))];rA(O,z,t,n,e,r)?(y||(f.lineStart(),f.point(O[0],O[1])),f.point(z[0],z[1]),E||f.lineEnd(),x=!1):E&&(f.lineStart(),f.point($,k),x=!1)}w=$,_=k,y=E}return T}}function iA(){var t=0,n=0,e=960,r=500,i,o,a;return a={stream:function(u){return i&&o===u?i:i=Ef(t,n,e,r)(o=u)},extent:function(u){return arguments.length?(t=+u[0][0],n=+u[0][1],e=+u[1][0],r=+u[1][1],i=o=null,a):[[t,n],[e,r]]}}}var V0,W0,lc,hc,Ao={sphere:en,point:en,lineStart:oA,lineEnd:en,polygonStart:en,polygonEnd:en};function oA(){Ao.point=uA,Ao.lineEnd=aA}function aA(){Ao.point=Ao.lineEnd=en}function uA(t,n){t*=lt,n*=lt,W0=t,lc=ut(n),hc=ct(n),Ao.point=cA}function cA(t,n){t*=lt,n*=lt;var e=ut(n),r=ct(n),i=It(t-W0),o=ct(i),a=ut(i),u=r*a,s=hc*e-lc*r*o,c=lc*e+hc*r*o;V0.add(te(Sn(u*u+s*s),c)),W0=t,lc=e,hc=r}function e5(t){return V0=new gn,ce(t,Ao),+V0}var X0=[null,null],sA={type:"LineString",coordinates:X0};function es(t,n){return X0[0]=t,X0[1]=n,e5(sA)}var f2={Feature:function(t,n){return rs(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(rs(e[r].geometry,n))return!0;return!1}},l2={Sphere:function(){return!0},Point:function(t,n){return h2(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(h2(e[r],n))return!0;return!1},LineString:function(t,n){return d2(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(d2(e[r],n))return!0;return!1},Polygon:function(t,n){return g2(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(g2(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(rs(e[r],n))return!0;return!1}};function rs(t,n){return t&&l2.hasOwnProperty(t.type)?l2[t.type](t,n):!1}function h2(t,n){return es(t,n)===0}function d2(t,n){for(var e,r,i,o=0,a=t.length;o<a;o++){if(r=es(t[o],n),r===0||o>0&&(i=es(t[o],t[o-1]),i>0&&e<=i&&r<=i&&(e+r-i)*(1-Math.pow((e-r)/i,2))<Uc*i))return!0;e=r}return!1}function g2(t,n){return!!jw(t.map(fA),r5(n))}function fA(t){return t=t.map(r5),t.pop(),t}function r5(t){return[t[0]*lt,t[1]*lt]}function lA(t,n){return(t&&f2.hasOwnProperty(t.type)?f2[t.type]:rs)(t,n)}function p2(t,n,e){var r=Xe(t,n-pt,e).concat(n);return function(i){return r.map(function(o){return[i,o]})}}function v2(t,n,e){var r=Xe(t,n-pt,e).concat(n);return function(i){return r.map(function(o){return[o,i]})}}function zr(){var t,n,e,r,i,o,a,u,s=10,c=s,f=90,h=360,l,d,g,p,v=2.5;function m(){return{type:"MultiLineString",coordinates:w()}}function w(){return Xe(Cu(r/f)*f,e,f).map(g).concat(Xe(Cu(u/h)*h,a,h).map(p)).concat(Xe(Cu(n/s)*s,t,s).filter(function(_){return It(_%f)>pt}).map(l)).concat(Xe(Cu(o/c)*c,i,c).filter(function(_){return It(_%h)>pt}).map(d))}return m.lines=function(){return w().map(function(_){return{type:"LineString",coordinates:_}})},m.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(p(a).slice(1),g(e).reverse().slice(1),p(u).reverse().slice(1))]}},m.extent=function(_){return arguments.length?m.extentMajor(_).extentMinor(_):m.extentMinor()},m.extentMajor=function(_){return arguments.length?(r=+_[0][0],e=+_[1][0],u=+_[0][1],a=+_[1][1],r>e&&(_=r,r=e,e=_),u>a&&(_=u,u=a,a=_),m.precision(v)):[[r,u],[e,a]]},m.extentMinor=function(_){return arguments.length?(n=+_[0][0],t=+_[1][0],o=+_[0][1],i=+_[1][1],n>t&&(_=n,n=t,t=_),o>i&&(_=o,o=i,i=_),m.precision(v)):[[n,o],[t,i]]},m.step=function(_){return arguments.length?m.stepMajor(_).stepMinor(_):m.stepMinor()},m.stepMajor=function(_){return arguments.length?(f=+_[0],h=+_[1],m):[f,h]},m.stepMinor=function(_){return arguments.length?(s=+_[0],c=+_[1],m):[s,c]},m.precision=function(_){return arguments.length?(v=+_,l=p2(o,i,90),d=v2(n,t,v),g=p2(u,a,90),p=v2(r,e,v),m):v},m.extentMajor([[-180,-90+pt],[180,90-pt]]).extentMinor([[-180,-80-pt],[180,80+pt]])}function hA(){return zr()()}function is(t,n){var e=t[0]*lt,r=t[1]*lt,i=n[0]*lt,o=n[1]*lt,a=ct(r),u=ut(r),s=ct(o),c=ut(o),f=a*ct(e),h=a*ut(e),l=s*ct(i),d=s*ut(i),g=2*ne(Sn(Kp(o-r)+a*s*Kp(i-e))),p=ut(g),v=g?function(m){var w=ut(m*=g)/p,_=ut(g-m)/p,y=_*f+w*l,M=_*h+w*d,x=_*u+w*c;return[te(M,y)*Vt,te(x,Sn(y*y+M*M))*Vt]}:function(){return[e*Vt,r*Vt]};return v.distance=g,v}const Ha=t=>t;var Nl=new gn,Z0=new gn,i5,o5,K0,Q0,gr={point:en,lineStart:en,lineEnd:en,polygonStart:function(){gr.lineStart=dA,gr.lineEnd=pA},polygonEnd:function(){gr.lineStart=gr.lineEnd=gr.point=en,Nl.add(It(Z0)),Z0=new gn},result:function(){var t=Nl/2;return Nl=new gn,t}};function dA(){gr.point=gA}function gA(t,n){gr.point=a5,i5=K0=t,o5=Q0=n}function a5(t,n){Z0.add(Q0*t-K0*n),K0=t,Q0=n}function pA(){a5(i5,o5)}var Po=1/0,os=Po,Ba=-Po,as=Ba,us={point:vA,lineStart:en,lineEnd:en,polygonStart:en,polygonEnd:en,result:function(){var t=[[Po,os],[Ba,as]];return Ba=as=-(os=Po=1/0),t}};function vA(t,n){t<Po&&(Po=t),t>Ba&&(Ba=t),n<os&&(os=n),n>as&&(as=n)}var J0=0,j0=0,sa=0,cs=0,ss=0,eo=0,th=0,nh=0,fa=0,u5,c5,Ye,Ve,$e={point:Pi,lineStart:m2,lineEnd:y2,polygonStart:function(){$e.lineStart=wA,$e.lineEnd=_A},polygonEnd:function(){$e.point=Pi,$e.lineStart=m2,$e.lineEnd=y2},result:function(){var t=fa?[th/fa,nh/fa]:eo?[cs/eo,ss/eo]:sa?[J0/sa,j0/sa]:[NaN,NaN];return J0=j0=sa=cs=ss=eo=th=nh=fa=0,t}};function Pi(t,n){J0+=t,j0+=n,++sa}function m2(){$e.point=mA}function mA(t,n){$e.point=yA,Pi(Ye=t,Ve=n)}function yA(t,n){var e=t-Ye,r=n-Ve,i=Sn(e*e+r*r);cs+=i*(Ye+t)/2,ss+=i*(Ve+n)/2,eo+=i,Pi(Ye=t,Ve=n)}function y2(){$e.point=Pi}function wA(){$e.point=bA}function _A(){s5(u5,c5)}function bA(t,n){$e.point=s5,Pi(u5=Ye=t,c5=Ve=n)}function s5(t,n){var e=t-Ye,r=n-Ve,i=Sn(e*e+r*r);cs+=i*(Ye+t)/2,ss+=i*(Ve+n)/2,eo+=i,i=Ve*t-Ye*n,th+=i*(Ye+t),nh+=i*(Ve+n),fa+=i*3,Pi(Ye=t,Ve=n)}function f5(t){this._context=t}f5.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,jn);break}}},result:en};var eh=new gn,Cl,l5,h5,la,ha,Ya={point:en,lineStart:function(){Ya.point=MA},lineEnd:function(){Cl&&d5(l5,h5),Ya.point=en},polygonStart:function(){Cl=!0},polygonEnd:function(){Cl=null},result:function(){var t=+eh;return eh=new gn,t}};function MA(t,n){Ya.point=d5,l5=la=t,h5=ha=n}function d5(t,n){la-=t,ha-=n,eh.add(Sn(la*la+ha*ha)),la=t,ha=n}let w2,fs,_2,b2;class M2{constructor(n){this._append=n==null?g5:xA(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==_2||this._append!==fs){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,_2=r,fs=this._append,b2=this._,this._=i}this._+=b2;break}}}result(){const n=this._;return this._="",n.length?n:null}}function g5(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function xA(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return g5;if(n!==w2){const e=10**n;w2=n,fs=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*e)/e+i[o]}}return fs}function Dr(t,n){let e=3,r=4.5,i,o;function a(u){return u&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),ce(u,i(o))),o.result()}return a.area=function(u){return ce(u,i(gr)),gr.result()},a.measure=function(u){return ce(u,i(Ya)),Ya.result()},a.bounds=function(u){return ce(u,i(us)),us.result()},a.centroid=function(u){return ce(u,i($e)),$e.result()},a.projection=function(u){return arguments.length?(i=u==null?(t=null,Ha):(t=u).stream,a):t},a.context=function(u){return arguments.length?(o=u==null?(n=null,new M2(e)):new f5(n=u),typeof r!="function"&&o.pointRadius(r),a):n},a.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(o.pointRadius(+u),+u),a):r},a.digits=function(u){if(!arguments.length)return e;if(u==null)e=null;else{const s=Math.floor(u);if(!(s>=0))throw new RangeError(`invalid digits: ${u}`);e=s}return n===null&&(o=new M2(e)),a},a.projection(t).digits(e).context(n)}function SA(t){return{stream:fu(t)}}function fu(t){return function(n){var e=new rh;for(var r in t)e[r]=t[r];return e.stream=n,e}}function rh(){}rh.prototype={constructor:rh,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function j1(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),ce(e,t.stream(us)),n(us.result()),r!=null&&t.clipExtent(r),t}function $f(t,n,e){return j1(t,function(r){var i=n[1][0]-n[0][0],o=n[1][1]-n[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),u=+n[0][0]+(i-a*(r[1][0]+r[0][0]))/2,s=+n[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([u,s])},e)}function td(t,n,e){return $f(t,[[0,0],n],e)}function nd(t,n,e){return j1(t,function(r){var i=+n,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,u=-o*r[0][1];t.scale(150*o).translate([a,u])},e)}function ed(t,n,e){return j1(t,function(r){var i=+n,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],u=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,u])},e)}var x2=16,EA=ct(30*lt);function S2(t,n){return+n?AA(t,n):$A(t)}function $A(t){return fu({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function AA(t,n){function e(r,i,o,a,u,s,c,f,h,l,d,g,p,v){var m=c-r,w=f-i,_=m*m+w*w;if(_>4*n&&p--){var y=a+l,M=u+d,x=s+g,T=Sn(y*y+M*M+x*x),N=ne(x/=T),C=It(It(x)-1)<pt||It(o-h)<pt?(o+h)/2:te(M,y),I=t(C,N),P=I[0],B=I[1],F=P-r,A=B-i,$=w*F-m*A;($*$/_>n||It((m*F+w*A)/_-.5)>.3||a*l+u*d+s*g<EA)&&(e(r,i,o,a,u,s,P,B,C,y/=T,M/=T,x,p,v),v.point(P,B),e(P,B,C,y,M,x,c,f,h,l,d,g,p,v))}}return function(r){var i,o,a,u,s,c,f,h,l,d,g,p,v={point:m,lineStart:w,lineEnd:y,polygonStart:function(){r.polygonStart(),v.lineStart=M},polygonEnd:function(){r.polygonEnd(),v.lineStart=w}};function m(N,C){N=t(N,C),r.point(N[0],N[1])}function w(){h=NaN,v.point=_,r.lineStart()}function _(N,C){var I=Ai([N,C]),P=t(N,C);e(h,l,f,d,g,p,h=P[0],l=P[1],f=N,d=I[0],g=I[1],p=I[2],x2,r),r.point(h,l)}function y(){v.point=m,r.lineEnd()}function M(){w(),v.point=x,v.lineEnd=T}function x(N,C){_(i=N,C),o=h,a=l,u=d,s=g,c=p,v.point=_}function T(){e(h,l,f,d,g,p,o,a,i,u,s,c,x2,r),v.lineEnd=y,y()}return v}}var PA=fu({point:function(t,n){this.stream.point(t*lt,n*lt)}});function TA(t){return fu({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function RA(t,n,e,r,i){function o(a,u){return a*=r,u*=i,[n+t*a,e-t*u]}return o.invert=function(a,u){return[(a-n)/t*r,(e-u)/t*i]},o}function E2(t,n,e,r,i,o){if(!o)return RA(t,n,e,r,i);var a=ct(o),u=ut(o),s=a*t,c=u*t,f=a/t,h=u/t,l=(u*e-a*n)/t,d=(u*n+a*e)/t;function g(p,v){return p*=r,v*=i,[s*p-c*v+n,e-c*p-s*v]}return g.invert=function(p,v){return[r*(f*p-h*v+l),i*(d-h*p-f*v)]},g}function ot(t){return mn(function(){return t})()}function mn(t){var n,e=150,r=480,i=250,o=0,a=0,u=0,s=0,c=0,f,h=0,l=1,d=1,g=null,p=Y0,v=null,m,w,_,y=Ha,M=.5,x,T,N,C,I;function P($){return N($[0]*lt,$[1]*lt)}function B($){return $=N.invert($[0],$[1]),$&&[$[0]*Vt,$[1]*Vt]}P.stream=function($){return C&&I===$?C:C=PA(TA(f)(p(x(y(I=$)))))},P.preclip=function($){return arguments.length?(p=$,g=void 0,A()):p},P.postclip=function($){return arguments.length?(y=$,v=m=w=_=null,A()):y},P.clipAngle=function($){return arguments.length?(p=+$?n5(g=$*lt):(g=null,Y0),A()):g*Vt},P.clipExtent=function($){return arguments.length?(y=$==null?(v=m=w=_=null,Ha):Ef(v=+$[0][0],m=+$[0][1],w=+$[1][0],_=+$[1][1]),A()):v==null?null:[[v,m],[w,_]]},P.scale=function($){return arguments.length?(e=+$,F()):e},P.translate=function($){return arguments.length?(r=+$[0],i=+$[1],F()):[r,i]},P.center=function($){return arguments.length?(o=$[0]%360*lt,a=$[1]%360*lt,F()):[o*Vt,a*Vt]},P.rotate=function($){return arguments.length?(u=$[0]%360*lt,s=$[1]%360*lt,c=$.length>2?$[2]%360*lt:0,F()):[u*Vt,s*Vt,c*Vt]},P.angle=function($){return arguments.length?(h=$%360*lt,F()):h*Vt},P.reflectX=function($){return arguments.length?(l=$?-1:1,F()):l<0},P.reflectY=function($){return arguments.length?(d=$?-1:1,F()):d<0},P.precision=function($){return arguments.length?(x=S2(T,M=$*$),A()):Sn(M)},P.fitExtent=function($,k){return $f(P,$,k)},P.fitSize=function($,k){return td(P,$,k)},P.fitWidth=function($,k){return nd(P,$,k)},P.fitHeight=function($,k){return ed(P,$,k)};function F(){var $=E2(e,0,0,l,d,h).apply(null,n(o,a)),k=E2(e,r-$[0],i-$[1],l,d,h);return f=J1(u,s,c),T=H0(n,k),N=H0(f,T),x=S2(T,M),A()}function A(){return C=I=null,P}return function(){return n=t.apply(this,arguments),P.invert=n.invert&&B,F()}}function rd(t){var n=0,e=Nt/3,r=mn(t),i=r(n,e);return i.parallels=function(o){return arguments.length?r(n=o[0]*lt,e=o[1]*lt):[n*Vt,e*Vt]},i}function NA(t){var n=ct(t);function e(r,i){return[r*n,ut(i)/n]}return e.invert=function(r,i){return[r/n,ne(i*n)]},e}function p5(t,n){var e=ut(t),r=(e+ut(n))/2;if(It(r)<pt)return NA(t);var i=1+e*(2*r-e),o=Sn(i)/r;function a(u,s){var c=Sn(i-2*r*ut(s))/r;return[c*ut(u*=r),o-c*ct(u)]}return a.invert=function(u,s){var c=o-s,f=te(u,It(c))*Ae(c);return c*r<0&&(f-=Nt*Ae(u)*Ae(c)),[f/r,ne((i-(u*u+c*c)*r*r)/(2*r))]},a}function ls(){return rd(p5).scale(155.424).center([0,33.6442])}function v5(){return ls().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function CA(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function kA(){var t,n,e=v5(),r,i=ls().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=ls().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u,s,c={point:function(l,d){s=[l,d]}};function f(l){var d=l[0],g=l[1];return s=null,r.point(d,g),s||(o.point(d,g),s)||(u.point(d,g),s)}f.invert=function(l){var d=e.scale(),g=e.translate(),p=(l[0]-g[0])/d,v=(l[1]-g[1])/d;return(v>=.12&&v<.234&&p>=-.425&&p<-.214?i:v>=.166&&v<.234&&p>=-.214&&p<-.115?a:e).invert(l)},f.stream=function(l){return t&&n===l?t:t=CA([e.stream(n=l),i.stream(l),a.stream(l)])},f.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),a.precision(l),h()):e.precision()},f.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*.35),a.scale(l),f.translate(e.translate())):e.scale()},f.translate=function(l){if(!arguments.length)return e.translate();var d=e.scale(),g=+l[0],p=+l[1];return r=e.translate(l).clipExtent([[g-.455*d,p-.238*d],[g+.455*d,p+.238*d]]).stream(c),o=i.translate([g-.307*d,p+.201*d]).clipExtent([[g-.425*d+pt,p+.12*d+pt],[g-.214*d-pt,p+.234*d-pt]]).stream(c),u=a.translate([g-.205*d,p+.212*d]).clipExtent([[g-.214*d+pt,p+.166*d+pt],[g-.115*d-pt,p+.234*d-pt]]).stream(c),h()},f.fitExtent=function(l,d){return $f(f,l,d)},f.fitSize=function(l,d){return td(f,l,d)},f.fitWidth=function(l,d){return nd(f,l,d)},f.fitHeight=function(l,d){return ed(f,l,d)};function h(){return t=n=null,f}return f.scale(1070)}function m5(t){return function(n,e){var r=ct(n),i=ct(e),o=t(r*i);return o===1/0?[2,0]:[o*i*ut(n),o*ut(e)]}}function lu(t){return function(n,e){var r=Sn(n*n+e*e),i=t(r),o=ut(i),a=ct(i);return[te(n*o,r*a),ne(r&&e*o/r)]}}var so=m5(function(t){return Sn(2/(1+t))});so.invert=lu(function(t){return 2*ne(t/2)});function IA(){return ot(so).scale(124.75).clipAngle(180-.001)}var Wr=m5(function(t){return(t=Ow(t))&&t/ut(t)});Wr.invert=lu(function(t){return t});function y5(){return ot(Wr).scale(79.4188).clipAngle(180-.001)}function hu(t,n){return[t,Hc(K1((sn+n)/2))]}hu.invert=function(t,n){return[t,2*Go(Dw(n))-sn]};function zA(){return w5(hu).scale(961/jn)}function w5(t){var n=ot(t),e=n.center,r=n.scale,i=n.translate,o=n.clipExtent,a=null,u,s,c;n.scale=function(h){return arguments.length?(r(h),f()):r()},n.translate=function(h){return arguments.length?(i(h),f()):i()},n.center=function(h){return arguments.length?(e(h),f()):e()},n.clipExtent=function(h){return arguments.length?(h==null?a=u=s=c=null:(a=+h[0][0],u=+h[0][1],s=+h[1][0],c=+h[1][1]),f()):a==null?null:[[a,u],[s,c]]};function f(){var h=Nt*r(),l=n($o(n.rotate()).invert([0,0]));return o(a==null?[[l[0]-h,l[1]-h],[l[0]+h,l[1]+h]]:t===hu?[[Math.max(l[0]-h,a),u],[Math.min(l[0]+h,s),c]]:[[a,Math.max(l[1]-h,u)],[s,Math.min(l[1]+h,c)]])}return f()}function Fu(t){return K1((sn+t)/2)}function _5(t,n){var e=ct(t),r=t===n?ut(t):Hc(e/ct(n))/Hc(Fu(n)/Fu(t)),i=e*Pl(Fu(t),r)/r;if(!r)return hu;function o(a,u){i>0?u<-sn+pt&&(u=-sn+pt):u>sn-pt&&(u=sn-pt);var s=i/Pl(Fu(u),r);return[s*ut(r*a),i-s*ct(r*a)]}return o.invert=function(a,u){var s=i-u,c=Ae(r)*Sn(a*a+s*s),f=te(a,It(s))*Ae(s);return s*r<0&&(f-=Nt*Ae(a)*Ae(s)),[f/r,2*Go(Pl(i/c,1/r))-sn]},o}function DA(){return rd(_5).scale(109.5).parallels([30,30])}function Va(t,n){return[t,n]}Va.invert=Va;function id(){return ot(Va).scale(152.63)}function b5(t,n){var e=ct(t),r=t===n?ut(t):(e-ct(n))/(n-t),i=e/r+t;if(It(r)<pt)return Va;function o(a,u){var s=i-u,c=r*a;return[s*ut(c),i-s*ct(c)]}return o.invert=function(a,u){var s=i-u,c=te(a,It(s))*Ae(s);return s*r<0&&(c-=Nt*Ae(a)*Ae(s)),[c/r,i-Ae(r)*Sn(a*a+s*s)]},o}function M5(){return rd(b5).scale(131.154).center([0,13.9389])}var wa=1.340264,_a=-.081106,ba=893e-6,Ma=.003796,hs=Sn(3)/2,OA=12;function od(t,n){var e=ne(hs*ut(n)),r=e*e,i=r*r*r;return[t*ct(e)/(hs*(wa+3*_a*r+i*(7*ba+9*Ma*r))),e*(wa+_a*r+i*(ba+Ma*r))]}od.invert=function(t,n){for(var e=n,r=e*e,i=r*r*r,o=0,a,u,s;o<OA&&(u=e*(wa+_a*r+i*(ba+Ma*r))-n,s=wa+3*_a*r+i*(7*ba+9*Ma*r),e-=a=u/s,r=e*e,i=r*r*r,!(It(a)<Uc));++o);return[hs*t*(wa+3*_a*r+i*(7*ba+9*Ma*r))/ct(e),ne(ut(e)/hs)]};function FA(){return ot(od).scale(177.158)}function Wa(t,n){var e=ct(n),r=ct(t)*e;return[e*ut(t)/r,ut(n)/r]}Wa.invert=lu(Go);function ad(){return ot(Wa).scale(144.049).clipAngle(60)}function LA(){var t=1,n=0,e=0,r=1,i=1,o=0,a,u,s=null,c,f,h,l=1,d=1,g=fu({point:function(y,M){var x=_([y,M]);this.stream.point(x[0],x[1])}}),p=Ha,v,m;function w(){return l=t*r,d=t*i,v=m=null,_}function _(y){var M=y[0]*l,x=y[1]*d;if(o){var T=x*a-M*u;M=M*a+x*u,x=T}return[M+n,x+e]}return _.invert=function(y){var M=y[0]-n,x=y[1]-e;if(o){var T=x*a+M*u;M=M*a-x*u,x=T}return[M/l,x/d]},_.stream=function(y){return v&&m===y?v:v=g(p(m=y))},_.postclip=function(y){return arguments.length?(p=y,s=c=f=h=null,w()):p},_.clipExtent=function(y){return arguments.length?(p=y==null?(s=c=f=h=null,Ha):Ef(s=+y[0][0],c=+y[0][1],f=+y[1][0],h=+y[1][1]),w()):s==null?null:[[s,c],[f,h]]},_.scale=function(y){return arguments.length?(t=+y,w()):t},_.translate=function(y){return arguments.length?(n=+y[0],e=+y[1],w()):[n,e]},_.angle=function(y){return arguments.length?(o=y%360*lt,u=ut(o),a=ct(o),w()):o*Vt},_.reflectX=function(y){return arguments.length?(r=y?-1:1,w()):r<0},_.reflectY=function(y){return arguments.length?(i=y?-1:1,w()):i<0},_.fitExtent=function(y,M){return $f(_,y,M)},_.fitSize=function(y,M){return td(_,y,M)},_.fitWidth=function(y,M){return nd(_,y,M)},_.fitHeight=function(y,M){return ed(_,y,M)},_}function ud(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(-.013791+r*(.003971*e-.001529*r))),n*(1.007226+e*(.015085+r*(-.044475+.028874*e-.005916*r)))]}ud.invert=function(t,n){var e=n,r=25,i;do{var o=e*e,a=o*o;e-=i=(e*(1.007226+o*(.015085+a*(-.044475+.028874*o-.005916*a)))-n)/(1.007226+o*(.015085*3+a*(-.044475*7+.028874*9*o-.005916*11*a)))}while(It(i)>pt&&--r>0);return[t/(.8707+(o=e*e)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),e]};function qA(){return ot(ud).scale(175.295)}function cd(t,n){return[ct(n)*ut(t),ut(n)]}cd.invert=lu(ne);function sd(){return ot(cd).scale(249.5).clipAngle(90+pt)}function fd(t,n){var e=ct(n),r=1+ct(t)*e;return[e*ut(t)/r,ut(n)/r]}fd.invert=lu(function(t){return 2*Go(t)});function x5(){return ot(fd).scale(250).clipAngle(142)}function ld(t,n){return[Hc(K1((sn+n)/2)),-t]}ld.invert=function(t,n){return[-n,2*Go(Dw(t))-sn]};function UA(){var t=w5(ld),n=t.center,e=t.rotate;return t.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}function GA(t,n){return t.parent===n.parent?1:2}function HA(t){return t.reduce(BA,0)/t.length}function BA(t,n){return t+n.x}function YA(t){return 1+t.reduce(VA,0)}function VA(t,n){return Math.max(t,n.y)}function WA(t){for(var n;n=t.children;)t=n[0];return t}function XA(t){for(var n;n=t.children;)t=n[n.length-1];return t}function ZA(){var t=GA,n=1,e=1,r=!1;function i(o){var a,u=0;o.eachAfter(function(l){var d=l.children;d?(l.x=HA(d),l.y=YA(d)):(l.x=a?u+=t(l,a):0,l.y=0,a=l)});var s=WA(o),c=XA(o),f=s.x-t(s,c)/2,h=c.x+t(c,s)/2;return o.eachAfter(r?function(l){l.x=(l.x-o.x)*n,l.y=(o.y-l.y)*e}:function(l){l.x=(l.x-f)/(h-f)*n,l.y=(1-(o.y?l.y/o.y:1))*e})}return i.separation=function(o){return arguments.length?(t=o,i):t},i.size=function(o){return arguments.length?(r=!1,n=+o[0],e=+o[1],i):r?null:[n,e]},i.nodeSize=function(o){return arguments.length?(r=!0,n=+o[0],e=+o[1],i):r?[n,e]:null},i}function KA(t){var n=0,e=t.children,r=e&&e.length;if(!r)n=1;else for(;--r>=0;)n+=e[r].value;t.value=n}function QA(){return this.eachAfter(KA)}function JA(t,n){let e=-1;for(const r of this)t.call(n,r,++e,this);return this}function jA(t,n){for(var e=this,r=[e],i,o,a=-1;e=r.pop();)if(t.call(n,e,++a,this),i=e.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function tP(t,n){for(var e=this,r=[e],i=[],o,a,u,s=-1;e=r.pop();)if(i.push(e),o=e.children)for(a=0,u=o.length;a<u;++a)r.push(o[a]);for(;e=i.pop();)t.call(n,e,++s,this);return this}function nP(t,n){let e=-1;for(const r of this)if(t.call(n,r,++e,this))return r}function eP(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})}function rP(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})}function iP(t){for(var n=this,e=oP(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r}function oP(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}function aP(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n}function uP(){return Array.from(this)}function cP(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t}function sP(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n}function*fP(){var t=this,n,e=[t],r,i,o;do for(n=e.reverse(),e=[];t=n.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)e.push(r[i]);while(e.length)}function hd(t,n){t instanceof Map?(t=[void 0,t],n===void 0&&(n=dP)):n===void 0&&(n=hP);for(var e=new Ti(t),r,i=[e],o,a,u,s;r=i.pop();)if((a=n(r.data))&&(s=(a=Array.from(a)).length))for(r.children=a,u=s-1;u>=0;--u)i.push(o=a[u]=new Ti(a[u])),o.parent=r,o.depth=r.depth+1;return e.eachBefore(S5)}function lP(){return hd(this).eachBefore(gP)}function hP(t){return t.children}function dP(t){return Array.isArray(t)?t[1]:null}function gP(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function S5(t){var n=0;do t.height=n;while((t=t.parent)&&t.height<++n)}function Ti(t){this.data=t,this.depth=this.height=0,this.parent=null}Ti.prototype=hd.prototype={constructor:Ti,count:QA,each:JA,eachAfter:tP,eachBefore:jA,find:nP,sum:eP,sort:rP,path:iP,ancestors:aP,descendants:uP,leaves:cP,links:sP,copy:lP,[Symbol.iterator]:fP};function dc(t){return t==null?null:E5(t)}function E5(t){if(typeof t!="function")throw new Error;return t}function hi(){return 0}function to(t){return function(){return t}}const pP=1664525,vP=1013904223,$2=4294967296;function dd(){let t=1;return()=>(t=(pP*t+vP)%$2)/$2}function mP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function yP(t,n){let e=t.length,r,i;for(;e;)i=n()*e--|0,r=t[e],t[e]=t[i],t[i]=r;return t}function wP(t){return $5(t,dd())}function $5(t,n){for(var e=0,r=(t=yP(Array.from(t),n)).length,i=[],o,a;e<r;)o=t[e],a&&A5(a,o)?++e:(a=bP(i=_P(i,o)),e=0);return a}function _P(t,n){var e,r;if(kl(n,t))return[n];for(e=0;e<t.length;++e)if(Lu(n,t[e])&&kl(da(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(Lu(da(t[e],t[r]),n)&&Lu(da(t[e],n),t[r])&&Lu(da(t[r],n),t[e])&&kl(P5(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function Lu(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function A5(t,n){var e=t.r-n.r+Math.max(t.r,n.r,1)*1e-9,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function kl(t,n){for(var e=0;e<n.length;++e)if(!A5(t,n[e]))return!1;return!0}function bP(t){switch(t.length){case 1:return MP(t[0]);case 2:return da(t[0],t[1]);case 3:return P5(t[0],t[1],t[2])}}function MP(t){return{x:t.x,y:t.y,r:t.r}}function da(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,a=n.y,u=n.r,s=o-e,c=a-r,f=u-i,h=Math.sqrt(s*s+c*c);return{x:(e+o+s/h*f)/2,y:(r+a+c/h*f)/2,r:(h+i+u)/2}}function P5(t,n,e){var r=t.x,i=t.y,o=t.r,a=n.x,u=n.y,s=n.r,c=e.x,f=e.y,h=e.r,l=r-a,d=r-c,g=i-u,p=i-f,v=s-o,m=h-o,w=r*r+i*i-o*o,_=w-a*a-u*u+s*s,y=w-c*c-f*f+h*h,M=d*g-l*p,x=(g*y-p*_)/(M*2)-r,T=(p*v-g*m)/M,N=(d*_-l*y)/(M*2)-i,C=(l*m-d*v)/M,I=T*T+C*C-1,P=2*(o+x*T+N*C),B=x*x+N*N-o*o,F=-(Math.abs(I)>1e-6?(P+Math.sqrt(P*P-4*I*B))/(2*I):B/P);return{x:r+x+T*F,y:i+N+C*F,r:F}}function A2(t,n,e){var r=t.x-n.x,i,o,a=t.y-n.y,u,s,c=r*r+a*a;c?(o=n.r+e.r,o*=o,s=t.r+e.r,s*=s,o>s?(i=(c+s-o)/(2*c),u=Math.sqrt(Math.max(0,s/c-i*i)),e.x=t.x-i*r-u*a,e.y=t.y-i*a+u*r):(i=(c+o-s)/(2*c),u=Math.sqrt(Math.max(0,o/c-i*i)),e.x=n.x+i*r-u*a,e.y=n.y+i*a+u*r)):(e.x=n.x+e.r,e.y=n.y)}function P2(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function T2(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function qu(t){this._=t,this.next=null,this.previous=null}function T5(t,n){if(!(o=(t=mP(t)).length))return 0;var e,r,i,o,a,u,s,c,f,h,l;if(e=t[0],e.x=0,e.y=0,!(o>1))return e.r;if(r=t[1],e.x=-r.r,r.x=e.r,r.y=0,!(o>2))return e.r+r.r;A2(r,e,i=t[2]),e=new qu(e),r=new qu(r),i=new qu(i),e.next=i.previous=r,r.next=e.previous=i,i.next=r.previous=e;t:for(s=3;s<o;++s){A2(e._,r._,i=t[s]),i=new qu(i),c=r.next,f=e.previous,h=r._.r,l=e._.r;do if(h<=l){if(P2(c._,i._)){r=c,e.next=r,r.previous=e,--s;continue t}h+=c._.r,c=c.next}else{if(P2(f._,i._)){e=f,e.next=r,r.previous=e,--s;continue t}l+=f._.r,f=f.previous}while(c!==f.next);for(i.previous=e,i.next=r,e.next=r.previous=r=i,a=T2(e);(i=i.next)!==r;)(u=T2(i))<a&&(e=i,a=u);r=e.next}for(e=[r._],i=r;(i=i.next)!==r;)e.push(i._);for(i=$5(e,n),s=0;s<o;++s)e=t[s],e.x-=i.x,e.y-=i.y;return i.r}function xP(t){return T5(t,dd()),t}function SP(t){return Math.sqrt(t.value)}function EP(){var t=null,n=1,e=1,r=hi;function i(o){const a=dd();return o.x=n/2,o.y=e/2,t?o.eachBefore(R2(t)).eachAfter(Il(r,.5,a)).eachBefore(N2(1)):o.eachBefore(R2(SP)).eachAfter(Il(hi,1,a)).eachAfter(Il(r,o.r/Math.min(n,e),a)).eachBefore(N2(Math.min(n,e)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(t=dc(o),i):t},i.size=function(o){return arguments.length?(n=+o[0],e=+o[1],i):[n,e]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:to(+o),i):r},i}function R2(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function Il(t,n,e){return function(r){if(i=r.children){var i,o,a=i.length,u=t(r)*n||0,s;if(u)for(o=0;o<a;++o)i[o].r+=u;if(s=T5(i,e),u)for(o=0;o<a;++o)i[o].r-=u;r.r=s+u}}}function N2(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function R5(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function du(t,n,e,r,i){for(var o=t.children,a,u=-1,s=o.length,c=t.value&&(r-n)/t.value;++u<s;)a=o[u],a.y0=e,a.y1=i,a.x0=n,a.x1=n+=a.value*c}function $P(){var t=1,n=1,e=0,r=!1;function i(a){var u=a.height+1;return a.x0=a.y0=e,a.x1=t,a.y1=n/u,a.eachBefore(o(n,u)),r&&a.eachBefore(R5),a}function o(a,u){return function(s){s.children&&du(s,s.x0,a*(s.depth+1)/u,s.x1,a*(s.depth+2)/u);var c=s.x0,f=s.y0,h=s.x1-e,l=s.y1-e;h<c&&(c=h=(c+h)/2),l<f&&(f=l=(f+l)/2),s.x0=c,s.y0=f,s.x1=h,s.y1=l}}return i.round=function(a){return arguments.length?(r=!!a,i):r},i.size=function(a){return arguments.length?(t=+a[0],n=+a[1],i):[t,n]},i.padding=function(a){return arguments.length?(e=+a,i):e},i}var AP={depth:-1},C2={},zl={};function PP(t){return t.id}function TP(t){return t.parentId}function RP(){var t=PP,n=TP,e;function r(i){var o=Array.from(i),a=t,u=n,s,c,f,h,l,d,g,p,v=new Map;if(e!=null){const m=o.map((y,M)=>NP(e(y,M,i))),w=m.map(k2),_=new Set(m).add("");for(const y of w)_.has(y)||(_.add(y),m.push(y),w.push(k2(y)),o.push(zl));a=(y,M)=>m[M],u=(y,M)=>w[M]}for(f=0,s=o.length;f<s;++f)c=o[f],d=o[f]=new Ti(c),(g=a(c,f,i))!=null&&(g+="")&&(p=d.id=g,v.set(p,v.has(p)?C2:d)),(g=u(c,f,i))!=null&&(g+="")&&(d.parent=g);for(f=0;f<s;++f)if(d=o[f],g=d.parent){if(l=v.get(g),!l)throw new Error("missing: "+g);if(l===C2)throw new Error("ambiguous: "+g);l.children?l.children.push(d):l.children=[d],d.parent=l}else{if(h)throw new Error("multiple roots");h=d}if(!h)throw new Error("no root");if(e!=null){for(;h.data===zl&&h.children.length===1;)h=h.children[0],--s;for(let m=o.length-1;m>=0&&(d=o[m],d.data===zl);--m)d.data=null}if(h.parent=AP,h.eachBefore(function(m){m.depth=m.parent.depth+1,--s}).eachBefore(S5),h.parent=null,s>0)throw new Error("cycle");return h}return r.id=function(i){return arguments.length?(t=dc(i),r):t},r.parentId=function(i){return arguments.length?(n=dc(i),r):n},r.path=function(i){return arguments.length?(e=dc(i),r):e},r}function NP(t){t=`${t}`;let n=t.length;return ih(t,n-1)&&!ih(t,n-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function k2(t){let n=t.length;if(n<2)return"";for(;--n>1&&!ih(t,n););return t.slice(0,n)}function ih(t,n){if(t[n]==="/"){let e=0;for(;n>0&&t[--n]==="\\";)++e;if(!(e&1))return!0}return!1}function CP(t,n){return t.parent===n.parent?1:2}function Dl(t){var n=t.children;return n?n[0]:t.t}function Ol(t){var n=t.children;return n?n[n.length-1]:t.t}function kP(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function IP(t){for(var n=0,e=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=n,o.m+=n,n+=o.s+(e+=o.c)}function zP(t,n,e){return t.a.parent===n.parent?t.a:e}function gc(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}gc.prototype=Object.create(Ti.prototype);function DP(t){for(var n=new gc(t,0),e,r=[n],i,o,a,u;e=r.pop();)if(o=e._.children)for(e.children=new Array(u=o.length),a=u-1;a>=0;--a)r.push(i=e.children[a]=new gc(o[a],a)),i.parent=e;return(n.parent=new gc(null,0)).children=[n],n}function OP(){var t=CP,n=1,e=1,r=null;function i(c){var f=DP(c);if(f.eachAfter(o),f.parent.m=-f.z,f.eachBefore(a),r)c.eachBefore(s);else{var h=c,l=c,d=c;c.eachBefore(function(w){w.x<h.x&&(h=w),w.x>l.x&&(l=w),w.depth>d.depth&&(d=w)});var g=h===l?1:t(h,l)/2,p=g-h.x,v=n/(l.x+g+p),m=e/(d.depth||1);c.eachBefore(function(w){w.x=(w.x+p)*v,w.y=w.depth*m})}return c}function o(c){var f=c.children,h=c.parent.children,l=c.i?h[c.i-1]:null;if(f){IP(c);var d=(f[0].z+f[f.length-1].z)/2;l?(c.z=l.z+t(c._,l._),c.m=c.z-d):c.z=d}else l&&(c.z=l.z+t(c._,l._));c.parent.A=u(c,l,c.parent.A||h[0])}function a(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function u(c,f,h){if(f){for(var l=c,d=c,g=f,p=l.parent.children[0],v=l.m,m=d.m,w=g.m,_=p.m,y;g=Ol(g),l=Dl(l),g&&l;)p=Dl(p),d=Ol(d),d.a=c,y=g.z+w-l.z-v+t(g._,l._),y>0&&(kP(zP(g,c,h),c,y),v+=y,m+=y),w+=g.m,v+=l.m,_+=p.m,m+=d.m;g&&!Ol(d)&&(d.t=g,d.m+=w-m),l&&!Dl(p)&&(p.t=l,p.m+=v-_,h=c)}return h}function s(c){c.x*=n,c.y=c.depth*e}return i.separation=function(c){return arguments.length?(t=c,i):t},i.size=function(c){return arguments.length?(r=!1,n=+c[0],e=+c[1],i):r?null:[n,e]},i.nodeSize=function(c){return arguments.length?(r=!0,n=+c[0],e=+c[1],i):r?[n,e]:null},i}function Af(t,n,e,r,i){for(var o=t.children,a,u=-1,s=o.length,c=t.value&&(i-e)/t.value;++u<s;)a=o[u],a.x0=n,a.x1=r,a.y0=e,a.y1=e+=a.value*c}var N5=(1+Math.sqrt(5))/2;function C5(t,n,e,r,i,o){for(var a=[],u=n.children,s,c,f=0,h=0,l=u.length,d,g,p=n.value,v,m,w,_,y,M,x;f<l;){d=i-e,g=o-r;do v=u[h++].value;while(!v&&h<l);for(m=w=v,M=Math.max(g/d,d/g)/(p*t),x=v*v*M,y=Math.max(w/x,x/m);h<l;++h){if(v+=c=u[h].value,c<m&&(m=c),c>w&&(w=c),x=v*v*M,_=Math.max(w/x,x/m),_>y){v-=c;break}y=_}a.push(s={value:v,dice:d<g,children:u.slice(f,h)}),s.dice?du(s,e,r,i,p?r+=g*v/p:o):Af(s,e,r,p?e+=d*v/p:i,o),p-=v,f=h}return a}const k5=function t(n){function e(r,i,o,a,u){C5(n,r,i,o,a,u)}return e.ratio=function(r){return t((r=+r)>1?r:1)},e}(N5);function FP(){var t=k5,n=!1,e=1,r=1,i=[0],o=hi,a=hi,u=hi,s=hi,c=hi;function f(l){return l.x0=l.y0=0,l.x1=e,l.y1=r,l.eachBefore(h),i=[0],n&&l.eachBefore(R5),l}function h(l){var d=i[l.depth],g=l.x0+d,p=l.y0+d,v=l.x1-d,m=l.y1-d;v<g&&(g=v=(g+v)/2),m<p&&(p=m=(p+m)/2),l.x0=g,l.y0=p,l.x1=v,l.y1=m,l.children&&(d=i[l.depth+1]=o(l)/2,g+=c(l)-d,p+=a(l)-d,v-=u(l)-d,m-=s(l)-d,v<g&&(g=v=(g+v)/2),m<p&&(p=m=(p+m)/2),t(l,g,p,v,m))}return f.round=function(l){return arguments.length?(n=!!l,f):n},f.size=function(l){return arguments.length?(e=+l[0],r=+l[1],f):[e,r]},f.tile=function(l){return arguments.length?(t=E5(l),f):t},f.padding=function(l){return arguments.length?f.paddingInner(l).paddingOuter(l):f.paddingInner()},f.paddingInner=function(l){return arguments.length?(o=typeof l=="function"?l:to(+l),f):o},f.paddingOuter=function(l){return arguments.length?f.paddingTop(l).paddingRight(l).paddingBottom(l).paddingLeft(l):f.paddingTop()},f.paddingTop=function(l){return arguments.length?(a=typeof l=="function"?l:to(+l),f):a},f.paddingRight=function(l){return arguments.length?(u=typeof l=="function"?l:to(+l),f):u},f.paddingBottom=function(l){return arguments.length?(s=typeof l=="function"?l:to(+l),f):s},f.paddingLeft=function(l){return arguments.length?(c=typeof l=="function"?l:to(+l),f):c},f}function LP(t,n,e,r,i){var o=t.children,a,u=o.length,s,c=new Array(u+1);for(c[0]=s=a=0;a<u;++a)c[a+1]=s+=o[a].value;f(0,u,t.value,n,e,r,i);function f(h,l,d,g,p,v,m){if(h>=l-1){var w=o[h];w.x0=g,w.y0=p,w.x1=v,w.y1=m;return}for(var _=c[h],y=d/2+_,M=h+1,x=l-1;M<x;){var T=M+x>>>1;c[T]<y?M=T+1:x=T}y-c[M-1]<c[M]-y&&h+1<M&&--M;var N=c[M]-_,C=d-N;if(v-g>m-p){var I=d?(g*C+v*N)/d:v;f(h,M,N,g,p,I,m),f(M,l,C,I,p,v,m)}else{var P=d?(p*C+m*N)/d:m;f(h,M,N,g,p,v,P),f(M,l,C,g,P,v,m)}}}function qP(t,n,e,r,i){(t.depth&1?Af:du)(t,n,e,r,i)}const UP=function t(n){function e(r,i,o,a,u){if((s=r._squarify)&&s.ratio===n)for(var s,c,f,h,l=-1,d,g=s.length,p=r.value;++l<g;){for(c=s[l],f=c.children,h=c.value=0,d=f.length;h<d;++h)c.value+=f[h].value;c.dice?du(c,i,o,a,p?o+=(u-o)*c.value/p:u):Af(c,i,o,p?i+=(a-i)*c.value/p:a,u),p-=c.value}else r._squarify=s=C5(n,r,i,o,a,u),s.ratio=n}return e.ratio=function(r){return t((r=+r)>1?r:1)},e}(N5);function GP(t){for(var n=-1,e=t.length,r,i=t[e-1],o=0;++n<e;)r=i,i=t[n],o+=r[1]*i[0]-r[0]*i[1];return o/2}function HP(t){for(var n=-1,e=t.length,r=0,i=0,o,a=t[e-1],u,s=0;++n<e;)o=a,a=t[n],s+=u=o[0]*a[1]-a[0]*o[1],r+=(o[0]+a[0])*u,i+=(o[1]+a[1])*u;return s*=3,[r/s,i/s]}function BP(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function YP(t,n){return t[0]-n[0]||t[1]-n[1]}function I2(t){const n=t.length,e=[0,1];let r=2,i;for(i=2;i<n;++i){for(;r>1&&BP(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function VP(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(YP),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=I2(r),a=I2(i),u=a[0]===o[0],s=a[a.length-1]===o[o.length-1],c=[];for(n=o.length-1;n>=0;--n)c.push(t[r[o[n]][2]]);for(n=+u;n<a.length-s;++n)c.push(t[r[a[n]][2]]);return c}function WP(t,n){for(var e=t.length,r=t[e-1],i=n[0],o=n[1],a=r[0],u=r[1],s,c,f=!1,h=0;h<e;++h)r=t[h],s=r[0],c=r[1],c>o!=u>o&&i<(a-s)*(o-c)/(u-c)+s&&(f=!f),a=s,u=c;return f}function XP(t){for(var n=-1,e=t.length,r=t[e-1],i,o,a=r[0],u=r[1],s=0;++n<e;)i=a,o=u,r=t[n],a=r[0],u=r[1],i-=a,o-=u,s+=Math.hypot(i,o);return s}const An=Math.random,ZP=function t(n){function e(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return n()*i+r}}return e.source=t,e}(An),KP=function t(n){function e(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(n()*i+r)}}return e.source=t,e}(An),gd=function t(n){function e(r,i){var o,a;return r=r==null?0:+r,i=i==null?1:+i,function(){var u;if(o!=null)u=o,o=null;else do o=n()*2-1,u=n()*2-1,a=o*o+u*u;while(!a||a>1);return r+i*u*Math.sqrt(-2*Math.log(a)/a)}}return e.source=t,e}(An),QP=function t(n){var e=gd.source(n);function r(){var i=e.apply(this,arguments);return function(){return Math.exp(i())}}return r.source=t,r}(An),I5=function t(n){function e(r){return(r=+r)<=0?()=>0:function(){for(var i=0,o=r;o>1;--o)i+=n();return i+o*n()}}return e.source=t,e}(An),JP=function t(n){var e=I5.source(n);function r(i){if((i=+i)==0)return n;var o=e(i);return function(){return o()/i}}return r.source=t,r}(An),jP=function t(n){function e(r){return function(){return-Math.log1p(-n())/r}}return e.source=t,e}(An),tT=function t(n){function e(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-n(),r)}}return e.source=t,e}(An),nT=function t(n){function e(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(n()+r)}}return e.source=t,e}(An),z5=function t(n){function e(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-n())/r)})}return e.source=t,e}(An),pd=function t(n){var e=gd.source(n)();function r(i,o){if((i=+i)<0)throw new RangeError("invalid k");if(i===0)return()=>0;if(o=o==null?1:+o,i===1)return()=>-Math.log1p(-n())*o;var a=(i<1?i+1:i)-1/3,u=1/(3*Math.sqrt(a)),s=i<1?()=>Math.pow(n(),1/i):()=>1;return function(){do{do var c=e(),f=1+u*c;while(f<=0);f*=f*f;var h=1-n()}while(h>=1-.0331*c*c*c*c&&Math.log(h)>=.5*c*c+a*(1-f+Math.log(f)));return a*f*s()*o}}return r.source=t,r}(An),D5=function t(n){var e=pd.source(n);function r(i,o){var a=e(i),u=e(o);return function(){var s=a();return s===0?0:s/(s+u())}}return r.source=t,r}(An),O5=function t(n){var e=z5.source(n),r=D5.source(n);function i(o,a){return o=+o,(a=+a)>=1?()=>o:a<=0?()=>0:function(){for(var u=0,s=o,c=a;s*c>16&&s*(1-c)>16;){var f=Math.floor((s+1)*c),h=r(f,s-f+1)();h<=c?(u+=f,s-=f,c=(c-h)/(1-h)):(s=f-1,c/=h)}for(var l=c<.5,d=l?c:1-c,g=e(d),p=g(),v=0;p<=s;++v)p+=g();return u+(l?v:s-v)}}return i.source=t,i}(An),eT=function t(n){function e(r,i,o){var a;return(r=+r)==0?a=u=>-Math.log(u):(r=1/r,a=u=>Math.pow(u,r)),i=i==null?0:+i,o=o==null?1:+o,function(){return i+o*a(-Math.log1p(-n()))}}return e.source=t,e}(An),rT=function t(n){function e(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){return r+i*Math.tan(Math.PI*n())}}return e.source=t,e}(An),iT=function t(n){function e(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){var o=n();return r+i*Math.log(o/(1-o))}}return e.source=t,e}(An),oT=function t(n){var e=pd.source(n),r=O5.source(n);function i(o){return function(){for(var a=0,u=o;u>16;){var s=Math.floor(.875*u),c=e(s)();if(c>u)return a+r(s-1,u/c)();a+=s,u-=c}for(var f=-Math.log1p(-n()),h=0;f<=u;++h)f-=Math.log1p(-n());return a+h}}return i.source=t,i}(An),aT=1664525,uT=1013904223,z2=1/4294967296;function cT(t=Math.random()){let n=(0<=t&&t<1?t/z2:Math.abs(t))|0;return()=>(n=aT*n+uT|0,z2*(n>>>0))}function ke(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function Pr(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const oh=Symbol("implicit");function vd(){var t=new Ca,n=[],e=[],r=oh;function i(o){let a=t.get(o);if(a===void 0){if(r!==oh)return r;t.set(o,a=n.push(o)-1)}return e[a%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new Ca;for(const a of o)t.has(a)||t.set(a,n.push(a)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return vd(n,e).unknown(r)},ke.apply(i,arguments),i}function md(){var t=vd().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,o,a,u=!1,s=0,c=0,f=.5;delete t.unknown;function h(){var l=n().length,d=i<r,g=d?i:r,p=d?r:i;o=(p-g)/Math.max(1,l-s+c*2),u&&(o=Math.floor(o)),g+=(p-g-o*(l-s))*f,a=o*(1-s),u&&(g=Math.round(g),a=Math.round(a));var v=Xe(l).map(function(m){return g+o*m});return e(d?v.reverse():v)}return t.domain=function(l){return arguments.length?(n(l),h()):n()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,u=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(l){return arguments.length?(u=!!l,h()):u},t.padding=function(l){return arguments.length?(s=Math.min(1,c=+l),h()):s},t.paddingInner=function(l){return arguments.length?(s=Math.min(1,l),h()):s},t.paddingOuter=function(l){return arguments.length?(c=+l,h()):c},t.align=function(l){return arguments.length?(f=Math.max(0,Math.min(1,l)),h()):f},t.copy=function(){return md(n(),[r,i]).round(u).paddingInner(s).paddingOuter(c).align(f)},ke.apply(h(),arguments)}function F5(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return F5(n())},t}function sT(){return F5(md.apply(null,arguments).paddingInner(1))}function fT(t){return function(){return t}}function ds(t){return+t}var D2=[0,1];function Kn(t){return t}function ah(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:fT(isNaN(n)?NaN:.5)}function lT(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function hT(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=ah(i,r),o=e(a,o)):(r=ah(r,i),o=e(o,a)),function(u){return o(r(u))}}function dT(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=ah(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(u){var s=Br(t,u,1,r)-1;return o[s](i[s](u))}}function gu(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Pf(){var t=D2,n=D2,e=ti,r,i,o,a=Kn,u,s,c;function f(){var l=Math.min(t.length,n.length);return a!==Kn&&(a=lT(t[0],t[l-1])),u=l>2?dT:hT,s=c=null,h}function h(l){return l==null||isNaN(l=+l)?o:(s||(s=u(t.map(r),n,e)))(r(a(l)))}return h.invert=function(l){return a(i((c||(c=u(n,t.map(r),Ee)))(l)))},h.domain=function(l){return arguments.length?(t=Array.from(l,ds),f()):t.slice()},h.range=function(l){return arguments.length?(n=Array.from(l),f()):n.slice()},h.rangeRound=function(l){return n=Array.from(l),e=pf,f()},h.clamp=function(l){return arguments.length?(a=l?!0:Kn,f()):a!==Kn},h.interpolate=function(l){return arguments.length?(e=l,f()):e},h.unknown=function(l){return arguments.length?(o=l,h):o},function(l,d){return r=l,i=d,f()}}function yd(){return Pf()(Kn,Kn)}function L5(t,n,e,r){var i=Tc(t,n,e),o;switch(r=So(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=Iw(i,a))&&(r.precision=o),Z1(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=zw(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=kw(i))&&(r.precision=o-(r.type==="%")*2);break}}return Sf(r)}function ni(t){var n=t.domain;return t.ticks=function(e){var r=n();return Mi(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return L5(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,a=r[i],u=r[o],s,c,f=10;for(u<a&&(c=a,a=u,u=c,c=i,i=o,o=c);f-- >0;){if(c=xi(a,u,e),c===s)return r[i]=a,r[o]=u,n(r);if(c>0)a=Math.floor(a/c)*c,u=Math.ceil(u/c)*c;else if(c<0)a=Math.ceil(a*c)/c,u=Math.floor(u*c)/c;else break;s=c}return t},t}function q5(){var t=yd();return t.copy=function(){return gu(t,q5())},ke.apply(t,arguments),ni(t)}function U5(t){var n;function e(r){return r==null||isNaN(r=+r)?n:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=Array.from(r,ds),e):t.slice()},e.unknown=function(r){return arguments.length?(n=r,e):n},e.copy=function(){return U5(t).unknown(n)},t=arguments.length?Array.from(t,ds):[0,1],ni(e)}function G5(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],o=t[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),t[e]=n.floor(i),t[r]=n.ceil(o),t}function O2(t){return Math.log(t)}function F2(t){return Math.exp(t)}function gT(t){return-Math.log(-t)}function pT(t){return-Math.exp(-t)}function vT(t){return isFinite(t)?+("1e"+t):t<0?0:t}function mT(t){return t===10?vT:t===Math.E?Math.exp:n=>Math.pow(t,n)}function yT(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function L2(t){return(n,e)=>-t(-n,e)}function wd(t){const n=t(O2,F2),e=n.domain;let r=10,i,o;function a(){return i=yT(r),o=mT(r),e()[0]<0?(i=L2(i),o=L2(o),t(gT,pT)):t(O2,F2),n}return n.base=function(u){return arguments.length?(r=+u,a()):r},n.domain=function(u){return arguments.length?(e(u),a()):e()},n.ticks=u=>{const s=e();let c=s[0],f=s[s.length-1];const h=f<c;h&&([c,f]=[f,c]);let l=i(c),d=i(f),g,p;const v=u==null?10:+u;let m=[];if(!(r%1)&&d-l<v){if(l=Math.floor(l),d=Math.ceil(d),c>0){for(;l<=d;++l)for(g=1;g<r;++g)if(p=l<0?g/o(-l):g*o(l),!(p<c)){if(p>f)break;m.push(p)}}else for(;l<=d;++l)for(g=r-1;g>=1;--g)if(p=l>0?g/o(-l):g*o(l),!(p<c)){if(p>f)break;m.push(p)}m.length*2<v&&(m=Mi(c,f,v))}else m=Mi(l,d,Math.min(d-l,v)).map(o);return h?m.reverse():m},n.tickFormat=(u,s)=>{if(u==null&&(u=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=So(s)).precision==null&&(s.trim=!0),s=Sf(s)),u===1/0)return s;const c=Math.max(1,r*u/n.ticks().length);return f=>{let h=f/o(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=c?s(f):""}},n.nice=()=>e(G5(e(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),n}function H5(){const t=wd(Pf()).domain([1,10]);return t.copy=()=>gu(t,H5()).base(t.base()),ke.apply(t,arguments),t}function q2(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function U2(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function _d(t){var n=1,e=t(q2(n),U2(n));return e.constant=function(r){return arguments.length?t(q2(n=+r),U2(n)):n},ni(e)}function B5(){var t=_d(Pf());return t.copy=function(){return gu(t,B5()).constant(t.constant())},ke.apply(t,arguments)}function G2(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function wT(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function _T(t){return t<0?-t*t:t*t}function bd(t){var n=t(Kn,Kn),e=1;function r(){return e===1?t(Kn,Kn):e===.5?t(wT,_T):t(G2(e),G2(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},ni(n)}function Md(){var t=bd(Pf());return t.copy=function(){return gu(t,Md()).exponent(t.exponent())},ke.apply(t,arguments),t}function bT(){return Md.apply(null,arguments).exponent(.5)}function H2(t){return Math.sign(t)*t*t}function MT(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Y5(){var t=yd(),n=[0,1],e=!1,r;function i(o){var a=MT(t(o));return isNaN(a)?r:e?Math.round(a):a}return i.invert=function(o){return t.invert(H2(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((n=Array.from(o,ds)).map(H2)),i):n.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(e=!!o,i):e},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Y5(t.domain(),n).round(e).clamp(t.clamp()).unknown(r)},ke.apply(i,arguments),ni(i)}function V5(){var t=[],n=[],e=[],r;function i(){var a=0,u=Math.max(1,n.length);for(e=new Array(u-1);++a<u;)e[a-1]=v3(t,a/u);return o}function o(a){return a==null||isNaN(a=+a)?r:n[Br(e,a)]}return o.invertExtent=function(a){var u=n.indexOf(a);return u<0?[NaN,NaN]:[u>0?e[u-1]:t[0],u<e.length?e[u]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let u of a)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(rn),i()},o.range=function(a){return arguments.length?(n=Array.from(a),i()):n.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return e.slice()},o.copy=function(){return V5().domain(t).range(n).unknown(r)},ke.apply(o,arguments)}function W5(){var t=0,n=1,e=1,r=[.5],i=[0,1],o;function a(s){return s!=null&&s<=s?i[Br(r,s,0,e)]:o}function u(){var s=-1;for(r=new Array(e);++s<e;)r[s]=((s+1)*n-(s-e)*t)/(e+1);return a}return a.domain=function(s){return arguments.length?([t,n]=s,t=+t,n=+n,u()):[t,n]},a.range=function(s){return arguments.length?(e=(i=Array.from(s)).length-1,u()):i.slice()},a.invertExtent=function(s){var c=i.indexOf(s);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=e?[r[e-1],n]:[r[c-1],r[c]]},a.unknown=function(s){return arguments.length&&(o=s),a},a.thresholds=function(){return r.slice()},a.copy=function(){return W5().domain([t,n]).range(i).unknown(o)},ke.apply(ni(a),arguments)}function X5(){var t=[.5],n=[0,1],e,r=1;function i(o){return o!=null&&o<=o?n[Br(t,o,0,r)]:e}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(o){return arguments.length?(n=Array.from(o),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(o){var a=n.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(e=o,i):e},i.copy=function(){return X5().domain(t).range(n).unknown(e)},ke.apply(i,arguments)}const Fl=new Date,Ll=new Date;function ln(t,n,e,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),n(o,1),t(o),o),i.round=o=>{const a=i(o),u=i.ceil(o);return o-a<u-o?a:u},i.offset=(o,a)=>(n(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,u)=>{const s=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<a)||!(u>0))return s;let c;do s.push(c=new Date(+o)),n(o,u),t(o);while(c<o&&o<a);return s},i.filter=o=>ln(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,u)=>{if(a>=a)if(u<0)for(;++u<=0;)for(;n(a,-1),!o(a););else for(;--u>=0;)for(;n(a,1),!o(a););}),e&&(i.count=(o,a)=>(Fl.setTime(+o),Ll.setTime(+a),t(Fl),t(Ll),Math.floor(e(Fl,Ll))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const To=ln(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);To.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ln(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):To);const B2=To.range,vr=1e3,Pe=vr*60,mr=Pe*60,Er=mr*24,xd=Er*7,Y2=Er*30,ql=Er*365,yr=ln(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*vr)},(t,n)=>(n-t)/vr,t=>t.getUTCSeconds()),V2=yr.range,Tf=ln(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vr)},(t,n)=>{t.setTime(+t+n*Pe)},(t,n)=>(n-t)/Pe,t=>t.getMinutes()),xT=Tf.range,Rf=ln(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*Pe)},(t,n)=>(n-t)/Pe,t=>t.getUTCMinutes()),ST=Rf.range,Nf=ln(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vr-t.getMinutes()*Pe)},(t,n)=>{t.setTime(+t+n*mr)},(t,n)=>(n-t)/mr,t=>t.getHours()),ET=Nf.range,Cf=ln(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*mr)},(t,n)=>(n-t)/mr,t=>t.getUTCHours()),$T=Cf.range,Bo=ln(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Pe)/Er,t=>t.getDate()-1),AT=Bo.range,pu=ln(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Er,t=>t.getUTCDate()-1),PT=pu.range,Sd=ln(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Er,t=>Math.floor(t/Er)),TT=Sd.range;function qi(t){return ln(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+e*7)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Pe)/xd)}const Ro=qi(0),Xa=qi(1),Z5=qi(2),K5=qi(3),Ri=qi(4),Q5=qi(5),J5=qi(6),W2=Ro.range,RT=Xa.range,NT=Z5.range,CT=K5.range,kT=Ri.range,IT=Q5.range,zT=J5.range;function Ui(t){return ln(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e*7)},(n,e)=>(e-n)/xd)}const No=Ui(0),Za=Ui(1),j5=Ui(2),t4=Ui(3),Ni=Ui(4),n4=Ui(5),e4=Ui(6),X2=No.range,DT=Za.range,OT=j5.range,FT=t4.range,LT=Ni.range,qT=n4.range,UT=e4.range,kf=ln(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),GT=kf.range,If=ln(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),HT=If.range,tr=ln(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());tr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ln(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)});const BT=tr.range,nr=ln(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());nr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ln(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)});const YT=nr.range;function r4(t,n,e,r,i,o){const a=[[yr,1,vr],[yr,5,5*vr],[yr,15,15*vr],[yr,30,30*vr],[o,1,Pe],[o,5,5*Pe],[o,15,15*Pe],[o,30,30*Pe],[i,1,mr],[i,3,3*mr],[i,6,6*mr],[i,12,12*mr],[r,1,Er],[r,2,2*Er],[e,1,xd],[n,1,Y2],[n,3,3*Y2],[t,1,ql]];function u(c,f,h){const l=f<c;l&&([c,f]=[f,c]);const d=h&&typeof h.range=="function"?h:s(c,f,h),g=d?d.range(c,+f+1):[];return l?g.reverse():g}function s(c,f,h){const l=Math.abs(f-c)/h,d=ef(([,,v])=>v).right(a,l);if(d===a.length)return t.every(Tc(c/ql,f/ql,h));if(d===0)return To.every(Math.max(Tc(c,f,h),1));const[g,p]=a[l/a[d-1][2]<a[d][2]/l?d-1:d];return g.every(p)}return[u,s]}const[i4,o4]=r4(nr,If,No,Sd,Cf,Rf),[a4,u4]=r4(tr,kf,Ro,Bo,Nf,Tf);function Ul(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Gl(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Jo(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function c4(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,s=t.shortMonths,c=jo(i),f=ta(i),h=jo(o),l=ta(o),d=jo(a),g=ta(a),p=jo(u),v=ta(u),m=jo(s),w=ta(s),_={a:E,A:O,b:z,B:H,c:null,d:tv,e:tv,f:gR,g:SR,G:$R,H:lR,I:hR,j:dR,L:s4,m:pR,M:vR,p:Y,q:X,Q:rv,s:iv,S:mR,u:yR,U:wR,V:_R,w:bR,W:MR,x:null,X:null,y:xR,Y:ER,Z:AR,"%":ev},y={a:j,A:et,b:it,B:yt,c:null,d:nv,e:nv,f:NR,g:UR,G:HR,H:PR,I:TR,j:RR,L:l4,m:CR,M:kR,p:ht,q:Ot,Q:rv,s:iv,S:IR,u:zR,U:DR,V:OR,w:FR,W:LR,x:null,X:null,y:qR,Y:GR,Z:BR,"%":ev},M={a:I,A:P,b:B,B:F,c:A,d:J2,e:J2,f:uR,g:Q2,G:K2,H:j2,I:j2,j:rR,L:aR,m:eR,M:iR,p:C,q:nR,Q:sR,s:fR,S:oR,u:KT,U:QT,V:JT,w:ZT,W:jT,x:$,X:k,y:Q2,Y:K2,Z:tR,"%":cR};_.x=x(e,_),_.X=x(r,_),_.c=x(n,_),y.x=x(e,y),y.X=x(r,y),y.c=x(n,y);function x(nt,ft){return function(bt){var K=[],Ft=-1,b=0,S=nt.length,R,D,W;for(bt instanceof Date||(bt=new Date(+bt));++Ft<S;)nt.charCodeAt(Ft)===37&&(K.push(nt.slice(b,Ft)),(D=Z2[R=nt.charAt(++Ft)])!=null?R=nt.charAt(++Ft):D=R==="e"?" ":"0",(W=ft[R])&&(R=W(bt,D)),K.push(R),b=Ft+1);return K.push(nt.slice(b,Ft)),K.join("")}}function T(nt,ft){return function(bt){var K=Jo(1900,void 0,1),Ft=N(K,nt,bt+="",0),b,S;if(Ft!=bt.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(ft&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(b=Gl(Jo(K.y,0,1)),S=b.getUTCDay(),b=S>4||S===0?Za.ceil(b):Za(b),b=pu.offset(b,(K.V-1)*7),K.y=b.getUTCFullYear(),K.m=b.getUTCMonth(),K.d=b.getUTCDate()+(K.w+6)%7):(b=Ul(Jo(K.y,0,1)),S=b.getDay(),b=S>4||S===0?Xa.ceil(b):Xa(b),b=Bo.offset(b,(K.V-1)*7),K.y=b.getFullYear(),K.m=b.getMonth(),K.d=b.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),S="Z"in K?Gl(Jo(K.y,0,1)).getUTCDay():Ul(Jo(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(S+5)%7:K.w+K.U*7-(S+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,Gl(K)):Ul(K)}}function N(nt,ft,bt,K){for(var Ft=0,b=ft.length,S=bt.length,R,D;Ft<b;){if(K>=S)return-1;if(R=ft.charCodeAt(Ft++),R===37){if(R=ft.charAt(Ft++),D=M[R in Z2?ft.charAt(Ft++):R],!D||(K=D(nt,bt,K))<0)return-1}else if(R!=bt.charCodeAt(K++))return-1}return K}function C(nt,ft,bt){var K=c.exec(ft.slice(bt));return K?(nt.p=f.get(K[0].toLowerCase()),bt+K[0].length):-1}function I(nt,ft,bt){var K=d.exec(ft.slice(bt));return K?(nt.w=g.get(K[0].toLowerCase()),bt+K[0].length):-1}function P(nt,ft,bt){var K=h.exec(ft.slice(bt));return K?(nt.w=l.get(K[0].toLowerCase()),bt+K[0].length):-1}function B(nt,ft,bt){var K=m.exec(ft.slice(bt));return K?(nt.m=w.get(K[0].toLowerCase()),bt+K[0].length):-1}function F(nt,ft,bt){var K=p.exec(ft.slice(bt));return K?(nt.m=v.get(K[0].toLowerCase()),bt+K[0].length):-1}function A(nt,ft,bt){return N(nt,n,ft,bt)}function $(nt,ft,bt){return N(nt,e,ft,bt)}function k(nt,ft,bt){return N(nt,r,ft,bt)}function E(nt){return a[nt.getDay()]}function O(nt){return o[nt.getDay()]}function z(nt){return s[nt.getMonth()]}function H(nt){return u[nt.getMonth()]}function Y(nt){return i[+(nt.getHours()>=12)]}function X(nt){return 1+~~(nt.getMonth()/3)}function j(nt){return a[nt.getUTCDay()]}function et(nt){return o[nt.getUTCDay()]}function it(nt){return s[nt.getUTCMonth()]}function yt(nt){return u[nt.getUTCMonth()]}function ht(nt){return i[+(nt.getUTCHours()>=12)]}function Ot(nt){return 1+~~(nt.getUTCMonth()/3)}return{format:function(nt){var ft=x(nt+="",_);return ft.toString=function(){return nt},ft},parse:function(nt){var ft=T(nt+="",!1);return ft.toString=function(){return nt},ft},utcFormat:function(nt){var ft=x(nt+="",y);return ft.toString=function(){return nt},ft},utcParse:function(nt){var ft=T(nt+="",!0);return ft.toString=function(){return nt},ft}}}var Z2={"-":"",_:" ",0:"0"},En=/^\s*\d+/,VT=/^%/,WT=/[\\^$*+?|[\]().{}]/g;function qt(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function XT(t){return t.replace(WT,"\\$&")}function jo(t){return new RegExp("^(?:"+t.map(XT).join("|")+")","i")}function ta(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function ZT(t,n,e){var r=En.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function KT(t,n,e){var r=En.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function QT(t,n,e){var r=En.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function JT(t,n,e){var r=En.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function jT(t,n,e){var r=En.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function K2(t,n,e){var r=En.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Q2(t,n,e){var r=En.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function tR(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function nR(t,n,e){var r=En.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function eR(t,n,e){var r=En.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function J2(t,n,e){var r=En.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function rR(t,n,e){var r=En.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function j2(t,n,e){var r=En.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function iR(t,n,e){var r=En.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function oR(t,n,e){var r=En.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function aR(t,n,e){var r=En.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function uR(t,n,e){var r=En.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function cR(t,n,e){var r=VT.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function sR(t,n,e){var r=En.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function fR(t,n,e){var r=En.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function tv(t,n){return qt(t.getDate(),n,2)}function lR(t,n){return qt(t.getHours(),n,2)}function hR(t,n){return qt(t.getHours()%12||12,n,2)}function dR(t,n){return qt(1+Bo.count(tr(t),t),n,3)}function s4(t,n){return qt(t.getMilliseconds(),n,3)}function gR(t,n){return s4(t,n)+"000"}function pR(t,n){return qt(t.getMonth()+1,n,2)}function vR(t,n){return qt(t.getMinutes(),n,2)}function mR(t,n){return qt(t.getSeconds(),n,2)}function yR(t){var n=t.getDay();return n===0?7:n}function wR(t,n){return qt(Ro.count(tr(t)-1,t),n,2)}function f4(t){var n=t.getDay();return n>=4||n===0?Ri(t):Ri.ceil(t)}function _R(t,n){return t=f4(t),qt(Ri.count(tr(t),t)+(tr(t).getDay()===4),n,2)}function bR(t){return t.getDay()}function MR(t,n){return qt(Xa.count(tr(t)-1,t),n,2)}function xR(t,n){return qt(t.getFullYear()%100,n,2)}function SR(t,n){return t=f4(t),qt(t.getFullYear()%100,n,2)}function ER(t,n){return qt(t.getFullYear()%1e4,n,4)}function $R(t,n){var e=t.getDay();return t=e>=4||e===0?Ri(t):Ri.ceil(t),qt(t.getFullYear()%1e4,n,4)}function AR(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+qt(n/60|0,"0",2)+qt(n%60,"0",2)}function nv(t,n){return qt(t.getUTCDate(),n,2)}function PR(t,n){return qt(t.getUTCHours(),n,2)}function TR(t,n){return qt(t.getUTCHours()%12||12,n,2)}function RR(t,n){return qt(1+pu.count(nr(t),t),n,3)}function l4(t,n){return qt(t.getUTCMilliseconds(),n,3)}function NR(t,n){return l4(t,n)+"000"}function CR(t,n){return qt(t.getUTCMonth()+1,n,2)}function kR(t,n){return qt(t.getUTCMinutes(),n,2)}function IR(t,n){return qt(t.getUTCSeconds(),n,2)}function zR(t){var n=t.getUTCDay();return n===0?7:n}function DR(t,n){return qt(No.count(nr(t)-1,t),n,2)}function h4(t){var n=t.getUTCDay();return n>=4||n===0?Ni(t):Ni.ceil(t)}function OR(t,n){return t=h4(t),qt(Ni.count(nr(t),t)+(nr(t).getUTCDay()===4),n,2)}function FR(t){return t.getUTCDay()}function LR(t,n){return qt(Za.count(nr(t)-1,t),n,2)}function qR(t,n){return qt(t.getUTCFullYear()%100,n,2)}function UR(t,n){return t=h4(t),qt(t.getUTCFullYear()%100,n,2)}function GR(t,n){return qt(t.getUTCFullYear()%1e4,n,4)}function HR(t,n){var e=t.getUTCDay();return t=e>=4||e===0?Ni(t):Ni.ceil(t),qt(t.getUTCFullYear()%1e4,n,4)}function BR(){return"+0000"}function ev(){return"%"}function rv(t){return+t}function iv(t){return Math.floor(+t/1e3)}var ji,Ed,d4,zf,$d;g4({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function g4(t){return ji=c4(t),Ed=ji.format,d4=ji.parse,zf=ji.utcFormat,$d=ji.utcParse,ji}var p4="%Y-%m-%dT%H:%M:%S.%LZ";function YR(t){return t.toISOString()}var VR=Date.prototype.toISOString?YR:zf(p4);function WR(t){var n=new Date(t);return isNaN(n)?null:n}var XR=+new Date("2000-01-01T00:00:00.000Z")?WR:$d(p4);function ZR(t){return new Date(t)}function KR(t){return t instanceof Date?+t:+new Date(+t)}function Ad(t,n,e,r,i,o,a,u,s,c){var f=yd(),h=f.invert,l=f.domain,d=c(".%L"),g=c(":%S"),p=c("%I:%M"),v=c("%I %p"),m=c("%a %d"),w=c("%b %d"),_=c("%B"),y=c("%Y");function M(x){return(s(x)<x?d:u(x)<x?g:a(x)<x?p:o(x)<x?v:r(x)<x?i(x)<x?m:w:e(x)<x?_:y)(x)}return f.invert=function(x){return new Date(h(x))},f.domain=function(x){return arguments.length?l(Array.from(x,KR)):l().map(ZR)},f.ticks=function(x){var T=l();return t(T[0],T[T.length-1],x??10)},f.tickFormat=function(x,T){return T==null?M:c(T)},f.nice=function(x){var T=l();return(!x||typeof x.range!="function")&&(x=n(T[0],T[T.length-1],x??10)),x?l(G5(T,x)):f},f.copy=function(){return gu(f,Ad(t,n,e,r,i,o,a,u,s,c))},f}function QR(){return ke.apply(Ad(a4,u4,tr,kf,Ro,Bo,Nf,Tf,yr,Ed).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function JR(){return ke.apply(Ad(i4,o4,nr,If,No,pu,Cf,Rf,yr,zf).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Df(){var t=0,n=1,e,r,i,o,a=Kn,u=!1,s;function c(h){return h==null||isNaN(h=+h)?s:a(i===0?.5:(h=(o(h)-e)*i,u?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,n]=h,e=o(t=+t),r=o(n=+n),i=e===r?0:1/(r-e),c):[t,n]},c.clamp=function(h){return arguments.length?(u=!!h,c):u},c.interpolator=function(h){return arguments.length?(a=h,c):a};function f(h){return function(l){var d,g;return arguments.length?([d,g]=l,a=h(d,g),c):[a(0),a(1)]}}return c.range=f(ti),c.rangeRound=f(pf),c.unknown=function(h){return arguments.length?(s=h,c):s},function(h){return o=h,e=h(t),r=h(n),i=e===r?0:1/(r-e),c}}function ei(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function v4(){var t=ni(Df()(Kn));return t.copy=function(){return ei(t,v4())},Pr.apply(t,arguments)}function m4(){var t=wd(Df()).domain([1,10]);return t.copy=function(){return ei(t,m4()).base(t.base())},Pr.apply(t,arguments)}function y4(){var t=_d(Df());return t.copy=function(){return ei(t,y4()).constant(t.constant())},Pr.apply(t,arguments)}function Pd(){var t=bd(Df());return t.copy=function(){return ei(t,Pd()).exponent(t.exponent())},Pr.apply(t,arguments)}function jR(){return Pd.apply(null,arguments).exponent(.5)}function w4(){var t=[],n=Kn;function e(r){if(r!=null&&!isNaN(r=+r))return n((Br(t,r,1)-1)/(t.length-1))}return e.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(rn),e},e.interpolator=function(r){return arguments.length?(n=r,e):n},e.range=function(){return t.map((r,i)=>n(i/(t.length-1)))},e.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Ia(t,o/r))},e.copy=function(){return w4(n).domain(t)},Pr.apply(e,arguments)}function Of(){var t=0,n=.5,e=1,r=1,i,o,a,u,s,c=Kn,f,h=!1,l;function d(p){return isNaN(p=+p)?l:(p=.5+((p=+f(p))-o)*(r*p<r*o?u:s),c(h?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,n,e]=p,i=f(t=+t),o=f(n=+n),a=f(e=+e),u=i===o?0:.5/(o-i),s=o===a?0:.5/(a-o),r=o<i?-1:1,d):[t,n,e]},d.clamp=function(p){return arguments.length?(h=!!p,d):h},d.interpolator=function(p){return arguments.length?(c=p,d):c};function g(p){return function(v){var m,w,_;return arguments.length?([m,w,_]=v,c=cw(p,[m,w,_]),d):[c(0),c(.5),c(1)]}}return d.range=g(ti),d.rangeRound=g(pf),d.unknown=function(p){return arguments.length?(l=p,d):l},function(p){return f=p,i=p(t),o=p(n),a=p(e),u=i===o?0:.5/(o-i),s=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function _4(){var t=ni(Of()(Kn));return t.copy=function(){return ei(t,_4())},Pr.apply(t,arguments)}function b4(){var t=wd(Of()).domain([.1,1,10]);return t.copy=function(){return ei(t,b4()).base(t.base())},Pr.apply(t,arguments)}function M4(){var t=_d(Of());return t.copy=function(){return ei(t,M4()).constant(t.constant())},Pr.apply(t,arguments)}function Td(){var t=bd(Of());return t.copy=function(){return ei(t,Td()).exponent(t.exponent())},Pr.apply(t,arguments)}function tN(){return Td.apply(null,arguments).exponent(.5)}function Pt(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const nN=Pt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),eN=Pt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),rN=Pt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),iN=Pt("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),oN=Pt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),aN=Pt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),uN=Pt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),cN=Pt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),sN=Pt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),fN=Pt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),lN=Pt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Wt=t=>Z3(t[t.length-1]);var x4=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Pt);const hN=Wt(x4);var S4=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Pt);const dN=Wt(S4);var E4=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Pt);const gN=Wt(E4);var $4=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Pt);const pN=Wt($4);var A4=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Pt);const vN=Wt(A4);var P4=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Pt);const mN=Wt(P4);var T4=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Pt);const yN=Wt(T4);var R4=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Pt);const wN=Wt(R4);var N4=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Pt);const _N=Wt(N4);var C4=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Pt);const bN=Wt(C4);var k4=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Pt);const MN=Wt(k4);var I4=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Pt);const xN=Wt(I4);var z4=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Pt);const SN=Wt(z4);var D4=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Pt);const EN=Wt(D4);var O4=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Pt);const $N=Wt(O4);var F4=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Pt);const AN=Wt(F4);var L4=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Pt);const PN=Wt(L4);var q4=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Pt);const TN=Wt(q4);var U4=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Pt);const RN=Wt(U4);var G4=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Pt);const NN=Wt(G4);var H4=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Pt);const CN=Wt(H4);var B4=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Pt);const kN=Wt(B4);var Y4=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Pt);const IN=Wt(Y4);var V4=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Pt);const zN=Wt(V4);var W4=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Pt);const DN=Wt(W4);var X4=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Pt);const ON=Wt(X4);var Z4=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Pt);const FN=Wt(Z4);function LN(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const qN=vf(Ue(300,.5,0),Ue(-240,.5,1));var UN=vf(Ue(-100,.75,.35),Ue(80,1.5,.8)),GN=vf(Ue(260,.75,.35),Ue(80,1.5,.8)),Uu=Ue();function HN(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Uu.h=360*t-100,Uu.s=1.5-1.5*n,Uu.l=.8-.9*n,Uu+""}var Gu=_o(),BN=Math.PI/3,YN=Math.PI*2/3;function VN(t){var n;return t=(.5-t)*Math.PI,Gu.r=255*(n=Math.sin(t))*n,Gu.g=255*(n=Math.sin(t+BN))*n,Gu.b=255*(n=Math.sin(t+YN))*n,Gu+""}function WN(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Ff(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const XN=Ff(Pt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var ZN=Ff(Pt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),KN=Ff(Pt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),QN=Ff(Pt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Et(t){return function(){return t}}const ov=Math.abs,Nn=Math.atan2,lr=Math.cos,JN=Math.max,fo=Math.min,oe=Math.sin,Kt=Math.sqrt,Cn=1e-12,Xr=Math.PI,gs=Xr/2,Ur=2*Xr;function jN(t){return t>1?0:t<-1?Xr:Math.acos(t)}function av(t){return t>=1?gs:t<=-1?-gs:Math.asin(t)}function vu(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new uu(n)}function tC(t){return t.innerRadius}function nC(t){return t.outerRadius}function eC(t){return t.startAngle}function rC(t){return t.endAngle}function iC(t){return t&&t.padAngle}function oC(t,n,e,r,i,o,a,u){var s=e-t,c=r-n,f=a-i,h=u-o,l=h*s-f*c;if(!(l*l<Cn))return l=(f*(n-o)-h*(t-i))/l,[t+l*s,n+l*c]}function Hu(t,n,e,r,i,o,a){var u=t-e,s=n-r,c=(a?o:-o)/Kt(u*u+s*s),f=c*s,h=-c*u,l=t+f,d=n+h,g=e+f,p=r+h,v=(l+g)/2,m=(d+p)/2,w=g-l,_=p-d,y=w*w+_*_,M=i-o,x=l*p-g*d,T=(_<0?-1:1)*Kt(JN(0,M*M*y-x*x)),N=(x*_-w*T)/y,C=(-x*w-_*T)/y,I=(x*_+w*T)/y,P=(-x*w+_*T)/y,B=N-v,F=C-m,A=I-v,$=P-m;return B*B+F*F>A*A+$*$&&(N=I,C=P),{cx:N,cy:C,x01:-f,y01:-h,x11:N*(i/M-1),y11:C*(i/M-1)}}function aC(){var t=tC,n=nC,e=Et(0),r=null,i=eC,o=rC,a=iC,u=null,s=vu(c);function c(){var f,h,l=+t.apply(this,arguments),d=+n.apply(this,arguments),g=i.apply(this,arguments)-gs,p=o.apply(this,arguments)-gs,v=ov(p-g),m=p>g;if(u||(u=f=s()),d<l&&(h=d,d=l,l=h),!(d>Cn))u.moveTo(0,0);else if(v>Ur-Cn)u.moveTo(d*lr(g),d*oe(g)),u.arc(0,0,d,g,p,!m),l>Cn&&(u.moveTo(l*lr(p),l*oe(p)),u.arc(0,0,l,p,g,m));else{var w=g,_=p,y=g,M=p,x=v,T=v,N=a.apply(this,arguments)/2,C=N>Cn&&(r?+r.apply(this,arguments):Kt(l*l+d*d)),I=fo(ov(d-l)/2,+e.apply(this,arguments)),P=I,B=I,F,A;if(C>Cn){var $=av(C/l*oe(N)),k=av(C/d*oe(N));(x-=$*2)>Cn?($*=m?1:-1,y+=$,M-=$):(x=0,y=M=(g+p)/2),(T-=k*2)>Cn?(k*=m?1:-1,w+=k,_-=k):(T=0,w=_=(g+p)/2)}var E=d*lr(w),O=d*oe(w),z=l*lr(M),H=l*oe(M);if(I>Cn){var Y=d*lr(_),X=d*oe(_),j=l*lr(y),et=l*oe(y),it;if(v<Xr)if(it=oC(E,O,j,et,Y,X,z,H)){var yt=E-it[0],ht=O-it[1],Ot=Y-it[0],nt=X-it[1],ft=1/oe(jN((yt*Ot+ht*nt)/(Kt(yt*yt+ht*ht)*Kt(Ot*Ot+nt*nt)))/2),bt=Kt(it[0]*it[0]+it[1]*it[1]);P=fo(I,(l-bt)/(ft-1)),B=fo(I,(d-bt)/(ft+1))}else P=B=0}T>Cn?B>Cn?(F=Hu(j,et,E,O,d,B,m),A=Hu(Y,X,z,H,d,B,m),u.moveTo(F.cx+F.x01,F.cy+F.y01),B<I?u.arc(F.cx,F.cy,B,Nn(F.y01,F.x01),Nn(A.y01,A.x01),!m):(u.arc(F.cx,F.cy,B,Nn(F.y01,F.x01),Nn(F.y11,F.x11),!m),u.arc(0,0,d,Nn(F.cy+F.y11,F.cx+F.x11),Nn(A.cy+A.y11,A.cx+A.x11),!m),u.arc(A.cx,A.cy,B,Nn(A.y11,A.x11),Nn(A.y01,A.x01),!m))):(u.moveTo(E,O),u.arc(0,0,d,w,_,!m)):u.moveTo(E,O),!(l>Cn)||!(x>Cn)?u.lineTo(z,H):P>Cn?(F=Hu(z,H,Y,X,l,-P,m),A=Hu(E,O,j,et,l,-P,m),u.lineTo(F.cx+F.x01,F.cy+F.y01),P<I?u.arc(F.cx,F.cy,P,Nn(F.y01,F.x01),Nn(A.y01,A.x01),!m):(u.arc(F.cx,F.cy,P,Nn(F.y01,F.x01),Nn(F.y11,F.x11),!m),u.arc(0,0,l,Nn(F.cy+F.y11,F.cx+F.x11),Nn(A.cy+A.y11,A.cx+A.x11),m),u.arc(A.cx,A.cy,P,Nn(A.y11,A.x11),Nn(A.y01,A.x01),!m))):u.arc(0,0,l,M,y,m)}if(u.closePath(),f)return u=null,f+""||null}return c.centroid=function(){var f=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Xr/2;return[lr(h)*f,oe(h)*f]},c.innerRadius=function(f){return arguments.length?(t=typeof f=="function"?f:Et(+f),c):t},c.outerRadius=function(f){return arguments.length?(n=typeof f=="function"?f:Et(+f),c):n},c.cornerRadius=function(f){return arguments.length?(e=typeof f=="function"?f:Et(+f),c):e},c.padRadius=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Et(+f),c):r},c.startAngle=function(f){return arguments.length?(i=typeof f=="function"?f:Et(+f),c):i},c.endAngle=function(f){return arguments.length?(o=typeof f=="function"?f:Et(+f),c):o},c.padAngle=function(f){return arguments.length?(a=typeof f=="function"?f:Et(+f),c):a},c.context=function(f){return arguments.length?(u=f??null,c):u},c}var uC=Array.prototype.slice;function Lf(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function K4(t){this._context=t}K4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function qf(t){return new K4(t)}function Rd(t){return t[0]}function Nd(t){return t[1]}function Cd(t,n){var e=Et(!0),r=null,i=qf,o=null,a=vu(u);t=typeof t=="function"?t:t===void 0?Rd:Et(t),n=typeof n=="function"?n:n===void 0?Nd:Et(n);function u(s){var c,f=(s=Lf(s)).length,h,l=!1,d;for(r==null&&(o=i(d=a())),c=0;c<=f;++c)!(c<f&&e(h=s[c],c,s))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(h,c,s),+n(h,c,s));if(d)return o=null,d+""||null}return u.x=function(s){return arguments.length?(t=typeof s=="function"?s:Et(+s),u):t},u.y=function(s){return arguments.length?(n=typeof s=="function"?s:Et(+s),u):n},u.defined=function(s){return arguments.length?(e=typeof s=="function"?s:Et(!!s),u):e},u.curve=function(s){return arguments.length?(i=s,r!=null&&(o=i(r)),u):i},u.context=function(s){return arguments.length?(s==null?r=o=null:o=i(r=s),u):r},u}function Q4(t,n,e){var r=null,i=Et(!0),o=null,a=qf,u=null,s=vu(c);t=typeof t=="function"?t:t===void 0?Rd:Et(+t),n=typeof n=="function"?n:Et(n===void 0?0:+n),e=typeof e=="function"?e:e===void 0?Nd:Et(+e);function c(h){var l,d,g,p=(h=Lf(h)).length,v,m=!1,w,_=new Array(p),y=new Array(p);for(o==null&&(u=a(w=s())),l=0;l<=p;++l){if(!(l<p&&i(v=h[l],l,h))===m)if(m=!m)d=l,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),g=l-1;g>=d;--g)u.point(_[g],y[g]);u.lineEnd(),u.areaEnd()}m&&(_[l]=+t(v,l,h),y[l]=+n(v,l,h),u.point(r?+r(v,l,h):_[l],e?+e(v,l,h):y[l]))}if(w)return u=null,w+""||null}function f(){return Cd().defined(i).curve(a).context(o)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:Et(+h),r=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Et(+h),c):t},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Et(+h),c):r},c.y=function(h){return arguments.length?(n=typeof h=="function"?h:Et(+h),e=null,c):n},c.y0=function(h){return arguments.length?(n=typeof h=="function"?h:Et(+h),c):n},c.y1=function(h){return arguments.length?(e=h==null?null:typeof h=="function"?h:Et(+h),c):e},c.lineX0=c.lineY0=function(){return f().x(t).y(n)},c.lineY1=function(){return f().x(t).y(e)},c.lineX1=function(){return f().x(r).y(n)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Et(!!h),c):i},c.curve=function(h){return arguments.length?(a=h,o!=null&&(u=a(o)),c):a},c.context=function(h){return arguments.length?(h==null?o=u=null:u=a(o=h),c):o},c}function cC(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function sC(t){return t}function fC(){var t=sC,n=cC,e=null,r=Et(0),i=Et(Ur),o=Et(0);function a(u){var s,c=(u=Lf(u)).length,f,h,l=0,d=new Array(c),g=new Array(c),p=+r.apply(this,arguments),v=Math.min(Ur,Math.max(-Ur,i.apply(this,arguments)-p)),m,w=Math.min(Math.abs(v)/c,o.apply(this,arguments)),_=w*(v<0?-1:1),y;for(s=0;s<c;++s)(y=g[d[s]=s]=+t(u[s],s,u))>0&&(l+=y);for(n!=null?d.sort(function(M,x){return n(g[M],g[x])}):e!=null&&d.sort(function(M,x){return e(u[M],u[x])}),s=0,h=l?(v-c*_)/l:0;s<c;++s,p=m)f=d[s],y=g[f],m=p+(y>0?y*h:0)+_,g[f]={data:u[f],index:s,value:y,startAngle:p,endAngle:m,padAngle:w};return g}return a.value=function(u){return arguments.length?(t=typeof u=="function"?u:Et(+u),a):t},a.sortValues=function(u){return arguments.length?(n=u,e=null,a):n},a.sort=function(u){return arguments.length?(e=u,n=null,a):e},a.startAngle=function(u){return arguments.length?(r=typeof u=="function"?u:Et(+u),a):r},a.endAngle=function(u){return arguments.length?(i=typeof u=="function"?u:Et(+u),a):i},a.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:Et(+u),a):o},a}var J4=kd(qf);function j4(t){this._curve=t}j4.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};function kd(t){function n(e){return new j4(t(e))}return n._curve=t,n}function ga(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(e){return arguments.length?n(kd(e)):n()._curve},t}function uv(){return ga(Cd().curve(J4))}function cv(){var t=Q4().curve(J4),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return ga(e())},delete t.lineX0,t.lineEndAngle=function(){return ga(r())},delete t.lineX1,t.lineInnerRadius=function(){return ga(i())},delete t.lineY0,t.lineOuterRadius=function(){return ga(o())},delete t.lineY1,t.curve=function(a){return arguments.length?n(kd(a)):n()._curve},t}function pa(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}class t6{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}}class lC{constructor(n){this._context=n}lineStart(){this._point=0}lineEnd(){}point(n,e){if(n=+n,e=+e,this._point===0)this._point=1;else{const r=pa(this._x0,this._y0),i=pa(this._x0,this._y0=(this._y0+e)/2),o=pa(n,this._y0),a=pa(n,e);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...o,...a)}this._x0=n,this._y0=e}}function n6(t){return new t6(t,!0)}function e6(t){return new t6(t,!1)}function hC(t){return new lC(t)}function dC(t){return t.source}function gC(t){return t.target}function Uf(t){let n=dC,e=gC,r=Rd,i=Nd,o=null,a=null,u=vu(s);function s(){let c;const f=uC.call(arguments),h=n.apply(this,f),l=e.apply(this,f);if(o==null&&(a=t(c=u())),a.lineStart(),f[0]=h,a.point(+r.apply(this,f),+i.apply(this,f)),f[0]=l,a.point(+r.apply(this,f),+i.apply(this,f)),a.lineEnd(),c)return a=null,c+""||null}return s.source=function(c){return arguments.length?(n=c,s):n},s.target=function(c){return arguments.length?(e=c,s):e},s.x=function(c){return arguments.length?(r=typeof c=="function"?c:Et(+c),s):r},s.y=function(c){return arguments.length?(i=typeof c=="function"?c:Et(+c),s):i},s.context=function(c){return arguments.length?(c==null?o=a=null:a=t(o=c),s):o},s}function pC(){return Uf(n6)}function vC(){return Uf(e6)}function mC(){const t=Uf(hC);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const yC=Kt(3),r6={draw(t,n){const e=Kt(n+fo(n/28,.75))*.59436,r=e/2,i=r*yC;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},Gf={draw(t,n){const e=Kt(n/Xr);t.moveTo(e,0),t.arc(0,0,e,0,Ur)}},i6={draw(t,n){const e=Kt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},o6=Kt(1/3),wC=o6*2,a6={draw(t,n){const e=Kt(n/wC),r=e*o6;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},u6={draw(t,n){const e=Kt(n)*.62625;t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},c6={draw(t,n){const e=Kt(n-fo(n/7,2))*.87559;t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},s6={draw(t,n){const e=Kt(n),r=-e/2;t.rect(r,r,e,e)}},f6={draw(t,n){const e=Kt(n)*.4431;t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},_C=.8908130915292852,l6=oe(Xr/10)/oe(7*Xr/10),bC=oe(Ur/10)*l6,MC=-lr(Ur/10)*l6,h6={draw(t,n){const e=Kt(n*_C),r=bC*e,i=MC*e;t.moveTo(0,-e),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Ur*o/5,u=lr(a),s=oe(a);t.lineTo(s*e,-u*e),t.lineTo(u*r-s*i,s*r+u*i)}t.closePath()}},Hl=Kt(3),d6={draw(t,n){const e=-Kt(n/(Hl*3));t.moveTo(0,e*2),t.lineTo(-Hl*e,-e),t.lineTo(Hl*e,-e),t.closePath()}},xC=Kt(3),g6={draw(t,n){const e=Kt(n)*.6824,r=e/2,i=e*xC/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},be=-.5,Me=Kt(3)/2,uh=1/Kt(12),SC=(uh/2+1)*3,p6={draw(t,n){const e=Kt(n/SC),r=e/2,i=e*uh,o=r,a=e*uh+e,u=-o,s=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,s),t.lineTo(be*r-Me*i,Me*r+be*i),t.lineTo(be*o-Me*a,Me*o+be*a),t.lineTo(be*u-Me*s,Me*u+be*s),t.lineTo(be*r+Me*i,be*i-Me*r),t.lineTo(be*o+Me*a,be*a-Me*o),t.lineTo(be*u+Me*s,be*s-Me*u),t.closePath()}},ch={draw(t,n){const e=Kt(n-fo(n/6,1.7))*.6189;t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},sv=[Gf,i6,a6,s6,h6,d6,p6],EC=[Gf,c6,ch,g6,r6,f6,u6];function $C(t,n){let e=null,r=vu(i);t=typeof t=="function"?t:Et(t||Gf),n=typeof n=="function"?n:Et(n===void 0?64:+n);function i(){let o;if(e||(e=o=r()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),o)return e=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Et(o),i):t},i.size=function(o){return arguments.length?(n=typeof o=="function"?o:Et(+o),i):n},i.context=function(o){return arguments.length?(e=o??null,i):e},i}function Zr(){}function ps(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Hf(t){this._context=t}Hf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ps(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ps(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function AC(t){return new Hf(t)}function v6(t){this._context=t}v6.prototype={areaStart:Zr,areaEnd:Zr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:ps(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function PC(t){return new v6(t)}function m6(t){this._context=t}m6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:ps(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function TC(t){return new m6(t)}function y6(t,n){this._basis=new Hf(t),this._beta=n}y6.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r=t[0],i=n[0],o=t[e]-r,a=n[e]-i,u=-1,s;++u<=e;)s=u/e,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+s*o),this._beta*n[u]+(1-this._beta)*(i+s*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const RC=function t(n){function e(r){return n===1?new Hf(r):new y6(r,n)}return e.beta=function(r){return t(+r)},e}(.85);function vs(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Id(t,n){this._context=t,this._k=(1-n)/6}Id.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:vs(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:vs(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const NC=function t(n){function e(r){return new Id(r,n)}return e.tension=function(r){return t(+r)},e}(0);function zd(t,n){this._context=t,this._k=(1-n)/6}zd.prototype={areaStart:Zr,areaEnd:Zr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:vs(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const CC=function t(n){function e(r){return new zd(r,n)}return e.tension=function(r){return t(+r)},e}(0);function Dd(t,n){this._context=t,this._k=(1-n)/6}Dd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:vs(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const kC=function t(n){function e(r){return new Dd(r,n)}return e.tension=function(r){return t(+r)},e}(0);function Od(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Cn){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>Cn){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-n*t._l12_2a)/f,a=(a*c+t._y1*t._l23_2a-e*t._l12_2a)/f}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function w6(t,n){this._context=t,this._alpha=n}w6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Od(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const IC=function t(n){function e(r){return n?new w6(r,n):new Id(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function _6(t,n){this._context=t,this._alpha=n}_6.prototype={areaStart:Zr,areaEnd:Zr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Od(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const zC=function t(n){function e(r){return n?new _6(r,n):new zd(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function b6(t,n){this._context=t,this._alpha=n}b6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Od(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const DC=function t(n){function e(r){return n?new b6(r,n):new Dd(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function M6(t){this._context=t}M6.prototype={areaStart:Zr,areaEnd:Zr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function OC(t){return new M6(t)}function fv(t){return t<0?-1:1}function lv(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(fv(o)+fv(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function hv(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Bl(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*n,o-u,a-u*e,o,a)}function ms(t){this._context=t}ms.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bl(this,this._t0,hv(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Bl(this,hv(this,e=lv(this,t,n)),e);break;default:Bl(this,this._t0,e=lv(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}};function x6(t){this._context=new S6(t)}(x6.prototype=Object.create(ms.prototype)).point=function(t,n){ms.prototype.point.call(this,n,t)};function S6(t){this._context=t}S6.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};function FC(t){return new ms(t)}function LC(t){return new x6(t)}function E6(t){this._context=t}E6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),e===2)this._context.lineTo(t[1],n[1]);else for(var r=dv(t),i=dv(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function dv(t){var n,e=t.length-1,r,i=new Array(e),o=new Array(e),a=new Array(e);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<e-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[e-1]=2,o[e-1]=7,a[e-1]=8*t[e-1]+t[e],n=1;n<e;++n)r=i[n]/o[n-1],o[n]-=r,a[n]-=r*a[n-1];for(i[e-1]=a[e-1]/o[e-1],n=e-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[e-1]=(t[e]+i[e-1])/2,n=0;n<e-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function qC(t){return new E6(t)}function Bf(t,n){this._context=t,this._t=n}Bf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}}this._x=t,this._y=n}};function UC(t){return new Bf(t,.5)}function GC(t){return new Bf(t,0)}function HC(t){return new Bf(t,1)}function Co(t,n){if((a=t.length)>1)for(var e=1,r,i,o=t[n[0]],a,u=o.length;e<a;++e)for(i=o,o=t[n[e]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ko(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}function BC(t,n){return t[n]}function YC(t){const n=[];return n.key=t,n}function VC(){var t=Et([]),n=ko,e=Co,r=BC;function i(o){var a=Array.from(t.apply(this,arguments),YC),u,s=a.length,c=-1,f;for(const h of o)for(u=0,++c;u<s;++u)(a[u][c]=[0,+r(h,a[u].key,c,o)]).data=h;for(u=0,f=Lf(n(a));u<s;++u)a[f[u]].index=u;return e(a,f),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Et(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Et(+o),i):r},i.order=function(o){return arguments.length?(n=o==null?ko:typeof o=="function"?o:Et(Array.from(o)),i):n},i.offset=function(o){return arguments.length?(e=o??Co,i):e},i}function WC(t,n){if((r=t.length)>0){for(var e,r,i=0,o=t[0].length,a;i<o;++i){for(a=e=0;e<r;++e)a+=t[e][i][1]||0;if(a)for(e=0;e<r;++e)t[e][i][1]/=a}Co(t,n)}}function XC(t,n){if((s=t.length)>0)for(var e,r=0,i,o,a,u,s,c=t[n[0]].length;r<c;++r)for(a=u=0,e=0;e<s;++e)(o=(i=t[n[e]][r])[1]-i[0])>0?(i[0]=a,i[1]=a+=o):o<0?(i[1]=u,i[0]=u+=o):(i[0]=0,i[1]=o)}function ZC(t,n){if((i=t.length)>0){for(var e=0,r=t[n[0]],i,o=r.length;e<o;++e){for(var a=0,u=0;a<i;++a)u+=t[a][e][1]||0;r[e][1]+=r[e][0]=-u/2}Co(t,n)}}function KC(t,n){if(!(!((a=t.length)>0)||!((o=(i=t[n[0]]).length)>0))){for(var e=0,r=1,i,o,a;r<o;++r){for(var u=0,s=0,c=0;u<a;++u){for(var f=t[n[u]],h=f[r][1]||0,l=f[r-1][1]||0,d=(h-l)/2,g=0;g<u;++g){var p=t[n[g]],v=p[r][1]||0,m=p[r-1][1]||0;d+=v-m}s+=h,c+=d*h}i[r-1][1]+=i[r-1][0]=e,s&&(e-=c/s)}i[r-1][1]+=i[r-1][0]=e,Co(t,n)}}function $6(t){var n=t.map(QC);return ko(t).sort(function(e,r){return n[e]-n[r]})}function QC(t){for(var n=-1,e=0,r=t.length,i,o=-1/0;++n<r;)(i=+t[n][1])>o&&(o=i,e=n);return e}function A6(t){var n=t.map(P6);return ko(t).sort(function(e,r){return n[e]-n[r]})}function P6(t){for(var n=0,e=-1,r=t.length,i;++e<r;)(i=+t[e][1])&&(n+=i);return n}function JC(t){return A6(t).reverse()}function jC(t){var n=t.length,e,r,i=t.map(P6),o=$6(t),a=0,u=0,s=[],c=[];for(e=0;e<n;++e)r=o[e],a<u?(a+=i[r],s.push(r)):(u+=i[r],c.push(r));return c.reverse().concat(s)}function tk(t){return ko(t).reverse()}const Bu=t=>()=>t;function nk(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ke(t,n,e){this.k=t,this.x=n,this.y=e}Ke.prototype={constructor:Ke,scale:function(t){return t===1?this:new Ke(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Ke(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Yf=new Ke(1,0,0);T6.prototype=Ke.prototype;function T6(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Yf;return t.__zoom}function Yl(t){t.stopImmediatePropagation()}function na(t){t.preventDefault(),t.stopImmediatePropagation()}function ek(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function rk(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function gv(){return this.__zoom||Yf}function ik(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ok(){return navigator.maxTouchPoints||"ontouchstart"in this}function ak(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function R6(){var t=ek,n=rk,e=ak,r=ik,i=ok,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],u=250,s=iw,c=Di("start","zoom","end"),f,h,l,d=500,g=150,p=0,v=10;function m(A){A.property("__zoom",gv).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",I).filter(i).on("touchstart.zoom",P).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(A,$,k,E){var O=A.selection?A.selection():A;O.property("__zoom",gv),A!==O?M(A,$,k,E):O.interrupt().each(function(){x(this,arguments).event(E).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},m.scaleBy=function(A,$,k,E){m.scaleTo(A,function(){var O=this.__zoom.k,z=typeof $=="function"?$.apply(this,arguments):$;return O*z},k,E)},m.scaleTo=function(A,$,k,E){m.transform(A,function(){var O=n.apply(this,arguments),z=this.__zoom,H=k==null?y(O):typeof k=="function"?k.apply(this,arguments):k,Y=z.invert(H),X=typeof $=="function"?$.apply(this,arguments):$;return e(_(w(z,X),H,Y),O,a)},k,E)},m.translateBy=function(A,$,k,E){m.transform(A,function(){return e(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof k=="function"?k.apply(this,arguments):k),n.apply(this,arguments),a)},null,E)},m.translateTo=function(A,$,k,E,O){m.transform(A,function(){var z=n.apply(this,arguments),H=this.__zoom,Y=E==null?y(z):typeof E=="function"?E.apply(this,arguments):E;return e(Yf.translate(Y[0],Y[1]).scale(H.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof k=="function"?-k.apply(this,arguments):-k),z,a)},E,O)};function w(A,$){return $=Math.max(o[0],Math.min(o[1],$)),$===A.k?A:new Ke($,A.x,A.y)}function _(A,$,k){var E=$[0]-k[0]*A.k,O=$[1]-k[1]*A.k;return E===A.x&&O===A.y?A:new Ke(A.k,E,O)}function y(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function M(A,$,k,E){A.on("start.zoom",function(){x(this,arguments).event(E).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event(E).end()}).tween("zoom",function(){var O=this,z=arguments,H=x(O,z).event(E),Y=n.apply(O,z),X=k==null?y(Y):typeof k=="function"?k.apply(O,z):k,j=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),et=O.__zoom,it=typeof $=="function"?$.apply(O,z):$,yt=s(et.invert(X).concat(j/et.k),it.invert(X).concat(j/it.k));return function(ht){if(ht===1)ht=it;else{var Ot=yt(ht),nt=j/Ot[2];ht=new Ke(nt,X[0]-Ot[0]*nt,X[1]-Ot[1]*nt)}H.zoom(null,ht)}})}function x(A,$,k){return!k&&A.__zooming||new T(A,$)}function T(A,$){this.that=A,this.args=$,this.active=0,this.sourceEvent=null,this.extent=n.apply(A,$),this.taps=0}T.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,$){return this.mouse&&A!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var $=rt(this.that).datum();c.call(A,this.that,new nk(A,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:c}),$)}};function N(A,...$){if(!t.apply(this,arguments))return;var k=x(this,$).event(A),E=this.__zoom,O=Math.max(o[0],Math.min(o[1],E.k*Math.pow(2,r.apply(this,arguments)))),z=Un(A);if(k.wheel)(k.mouse[0][0]!==z[0]||k.mouse[0][1]!==z[1])&&(k.mouse[1]=E.invert(k.mouse[0]=z)),clearTimeout(k.wheel);else{if(E.k===O)return;k.mouse=[z,E.invert(z)],wi(this),k.start()}na(A),k.wheel=setTimeout(H,g),k.zoom("mouse",e(_(w(E,O),k.mouse[0],k.mouse[1]),k.extent,a));function H(){k.wheel=null,k.end()}}function C(A,...$){if(l||!t.apply(this,arguments))return;var k=A.currentTarget,E=x(this,$,!0).event(A),O=rt(A.view).on("mousemove.zoom",X,!0).on("mouseup.zoom",j,!0),z=Un(A,k),H=A.clientX,Y=A.clientY;ff(A.view),Yl(A),E.mouse=[z,this.__zoom.invert(z)],wi(this),E.start();function X(et){if(na(et),!E.moved){var it=et.clientX-H,yt=et.clientY-Y;E.moved=it*it+yt*yt>p}E.event(et).zoom("mouse",e(_(E.that.__zoom,E.mouse[0]=Un(et,k),E.mouse[1]),E.extent,a))}function j(et){O.on("mousemove.zoom mouseup.zoom",null),lf(et.view,E.moved),na(et),E.event(et).end()}}function I(A,...$){if(t.apply(this,arguments)){var k=this.__zoom,E=Un(A.changedTouches?A.changedTouches[0]:A,this),O=k.invert(E),z=k.k*(A.shiftKey?.5:2),H=e(_(w(k,z),E,O),n.apply(this,$),a);na(A),u>0?rt(this).transition().duration(u).call(M,H,E,A):rt(this).call(m.transform,H,E,A)}}function P(A,...$){if(t.apply(this,arguments)){var k=A.touches,E=k.length,O=x(this,$,A.changedTouches.length===E).event(A),z,H,Y,X;for(Yl(A),H=0;H<E;++H)Y=k[H],X=Un(Y,this),X=[X,this.__zoom.invert(X),Y.identifier],O.touch0?!O.touch1&&O.touch0[2]!==X[2]&&(O.touch1=X,O.taps=0):(O.touch0=X,z=!0,O.taps=1+!!f);f&&(f=clearTimeout(f)),z&&(O.taps<2&&(h=X[0],f=setTimeout(function(){f=null},d)),wi(this),O.start())}}function B(A,...$){if(this.__zooming){var k=x(this,$).event(A),E=A.changedTouches,O=E.length,z,H,Y,X;for(na(A),z=0;z<O;++z)H=E[z],Y=Un(H,this),k.touch0&&k.touch0[2]===H.identifier?k.touch0[0]=Y:k.touch1&&k.touch1[2]===H.identifier&&(k.touch1[0]=Y);if(H=k.that.__zoom,k.touch1){var j=k.touch0[0],et=k.touch0[1],it=k.touch1[0],yt=k.touch1[1],ht=(ht=it[0]-j[0])*ht+(ht=it[1]-j[1])*ht,Ot=(Ot=yt[0]-et[0])*Ot+(Ot=yt[1]-et[1])*Ot;H=w(H,Math.sqrt(ht/Ot)),Y=[(j[0]+it[0])/2,(j[1]+it[1])/2],X=[(et[0]+yt[0])/2,(et[1]+yt[1])/2]}else if(k.touch0)Y=k.touch0[0],X=k.touch0[1];else return;k.zoom("touch",e(_(H,Y,X),k.extent,a))}}function F(A,...$){if(this.__zooming){var k=x(this,$).event(A),E=A.changedTouches,O=E.length,z,H;for(Yl(A),l&&clearTimeout(l),l=setTimeout(function(){l=null},d),z=0;z<O;++z)H=E[z],k.touch0&&k.touch0[2]===H.identifier?delete k.touch0:k.touch1&&k.touch1[2]===H.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(H=Un(H,this),Math.hypot(h[0]-H[0],h[1]-H[1])<v)){var Y=rt(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return m.wheelDelta=function(A){return arguments.length?(r=typeof A=="function"?A:Bu(+A),m):r},m.filter=function(A){return arguments.length?(t=typeof A=="function"?A:Bu(!!A),m):t},m.touchable=function(A){return arguments.length?(i=typeof A=="function"?A:Bu(!!A),m):i},m.extent=function(A){return arguments.length?(n=typeof A=="function"?A:Bu([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),m):n},m.scaleExtent=function(A){return arguments.length?(o[0]=+A[0],o[1]=+A[1],m):[o[0],o[1]]},m.translateExtent=function(A){return arguments.length?(a[0][0]=+A[0][0],a[1][0]=+A[1][0],a[0][1]=+A[0][1],a[1][1]=+A[1][1],m):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},m.constrain=function(A){return arguments.length?(e=A,m):e},m.duration=function(A){return arguments.length?(u=+A,m):u},m.interpolate=function(A){return arguments.length?(s=A,m):s},m.on=function(){var A=c.on.apply(c,arguments);return A===c?m:A},m.clickDistance=function(A){return arguments.length?(p=(A=+A)*A,m):Math.sqrt(p)},m.tapDistance=function(A){return arguments.length?(v=+A,m):v},m}const uk=Object.freeze(Object.defineProperty({__proto__:null,Adder:gn,Delaunay:V1,FormatSpecifier:xf,InternMap:Ca,InternSet:bi,Node:Ti,Path:uu,Voronoi:xw,ZoomTransform:Ke,active:pS,arc:aC,area:Q4,areaRadial:cv,ascending:rn,autoType:LE,axisBottom:a9,axisLeft:u9,axisRight:o9,axisTop:i9,bin:jg,bisect:Br,bisectCenter:tb,bisectLeft:j_,bisectRight:Br,bisector:ef,blob:GE,blur:nb,blur2:n3,blurImage:eb,brush:PS,brushSelection:ES,brushX:$S,brushY:AS,buffer:BE,chord:RS,chordDirected:CS,chordTranspose:NS,cluster:ZA,color:Yr,contourDensity:iE,contours:C0,count:rf,create:G7,creator:cf,cross:sb,csv:WE,csvFormat:PE,csvFormatBody:TE,csvFormatRow:NE,csvFormatRows:RE,csvFormatValue:CE,csvParse:Ew,csvParseRows:AE,cubehelix:Ue,cumsum:fb,curveBasis:AC,curveBasisClosed:PC,curveBasisOpen:TC,curveBumpX:n6,curveBumpY:e6,curveBundle:RC,curveCardinal:NC,curveCardinalClosed:CC,curveCardinalOpen:kC,curveCatmullRom:IC,curveCatmullRomClosed:zC,curveCatmullRomOpen:DC,curveLinear:qf,curveLinearClosed:OC,curveMonotoneX:FC,curveMonotoneY:LC,curveNatural:qC,curveStep:UC,curveStepAfter:HC,curveStepBefore:GC,descending:jy,deviation:i3,difference:Vb,disjoint:Wb,dispatch:Di,drag:K7,dragDisable:ff,dragEnable:lf,dsv:VE,dsvFormat:_f,easeBack:xp,easeBackIn:uS,easeBackInOut:xp,easeBackOut:cS,easeBounce:Ua,easeBounceIn:oS,easeBounceInOut:aS,easeBounceOut:Ua,easeCircle:Mp,easeCircleIn:Zx,easeCircleInOut:Mp,easeCircleOut:Kx,easeCubic:A0,easeCubicIn:Ux,easeCubicInOut:A0,easeCubicOut:Gx,easeElastic:Sp,easeElasticIn:sS,easeElasticInOut:fS,easeElasticOut:Sp,easeExp:bp,easeExpIn:Wx,easeExpInOut:bp,easeExpOut:Xx,easeLinear:Fx,easePoly:wp,easePolyIn:Hx,easePolyInOut:wp,easePolyOut:Bx,easeQuad:yp,easeQuadIn:Lx,easeQuadInOut:yp,easeQuadOut:qx,easeSin:_p,easeSinIn:Yx,easeSinInOut:_p,easeSinOut:Vx,every:qb,extent:ma,fcumsum:hb,filter:Gb,flatGroup:db,flatRollup:gb,forceCenter:t$,forceCollide:w$,forceLink:b$,forceManyBody:R$,forceRadial:N$,forceSimulation:T$,forceX:C$,forceY:k$,get format(){return Sf},formatDefaultLocale:Cw,formatLocale:Nw,get formatPrefix(){return Z1},formatSpecifier:So,fsum:lb,geoAlbers:v5,geoAlbersUsa:kA,geoArea:H$,geoAzimuthalEqualArea:IA,geoAzimuthalEqualAreaRaw:so,geoAzimuthalEquidistant:y5,geoAzimuthalEquidistantRaw:Wr,geoBounds:Yw,geoCentroid:Ho,geoCircle:Kw,geoClipAntimeridian:Y0,geoClipCircle:n5,geoClipExtent:iA,geoClipRectangle:Ef,geoConicConformal:DA,geoConicConformalRaw:_5,geoConicEqualArea:ls,geoConicEqualAreaRaw:p5,geoConicEquidistant:M5,geoConicEquidistantRaw:b5,geoContains:lA,geoDistance:es,geoEqualEarth:FA,geoEqualEarthRaw:od,geoEquirectangular:id,geoEquirectangularRaw:Va,geoGnomonic:ad,geoGnomonicRaw:Wa,geoGraticule:zr,geoGraticule10:hA,geoIdentity:LA,geoInterpolate:is,geoLength:e5,geoMercator:zA,geoMercatorRaw:hu,geoNaturalEarth1:qA,geoNaturalEarth1Raw:ud,geoOrthographic:sd,geoOrthographicRaw:cd,geoPath:Dr,geoProjection:ot,geoProjectionMutator:mn,geoRotation:$o,geoStereographic:x5,geoStereographicRaw:fd,geoStream:ce,geoTransform:SA,geoTransverseMercator:UA,geoTransverseMercatorRaw:ld,gray:cM,greatest:p3,greatestIndex:Ib,group:c3,groupSort:mb,groups:s3,hcl:Dc,hierarchy:hd,histogram:jg,hsl:kc,html:JE,image:ZE,index:pb,indexes:vb,interpolate:ti,interpolateArray:gM,interpolateBasis:Y3,interpolateBasisClosed:V3,interpolateBlues:kN,interpolateBrBG:hN,interpolateBuGn:bN,interpolateBuPu:MN,interpolateCividis:LN,interpolateCool:GN,interpolateCubehelix:TM,interpolateCubehelixDefault:qN,interpolateCubehelixLong:vf,interpolateDate:J3,interpolateDiscrete:mM,interpolateGnBu:xN,interpolateGreens:IN,interpolateGreys:zN,interpolateHcl:AM,interpolateHclLong:PM,interpolateHsl:SM,interpolateHslLong:EM,interpolateHue:yM,interpolateInferno:KN,interpolateLab:$M,interpolateMagma:ZN,interpolateNumber:Ee,interpolateNumberArray:z1,interpolateObject:j3,interpolateOrRd:SN,interpolateOranges:FN,interpolatePRGn:dN,interpolatePiYG:gN,interpolatePlasma:QN,interpolatePuBu:$N,interpolatePuBuGn:EN,interpolatePuOr:pN,interpolatePuRd:AN,interpolatePurples:DN,interpolateRainbow:HN,interpolateRdBu:vN,interpolateRdGy:mN,interpolateRdPu:PN,interpolateRdYlBu:yN,interpolateRdYlGn:wN,interpolateReds:ON,interpolateRgb:Fa,interpolateRgbBasis:Z3,interpolateRgbBasisClosed:dM,interpolateRound:pf,interpolateSinebow:VN,interpolateSpectral:_N,interpolateString:D1,interpolateTransformCss:ew,interpolateTransformSvg:rw,interpolateTurbo:WN,interpolateViridis:XN,interpolateWarm:UN,interpolateYlGn:RN,interpolateYlGnBu:TN,interpolateYlOrBr:NN,interpolateYlOrRd:CN,interpolateZoom:iw,interrupt:wi,intersection:Xb,interval:IM,isoFormat:VR,isoParse:XR,json:Pw,lab:zc,lch:sM,least:kb,leastIndex:y3,line:Cd,lineRadial:uv,link:Uf,linkHorizontal:pC,linkRadial:mC,linkVertical:vC,local:R3,map:Hb,matcher:P1,max:ka,maxIndex:E1,mean:Eb,median:$b,medianIndex:Ab,merge:af,min:Rc,minIndex:$1,mode:Tb,namespace:iu,namespaces:m0,nice:x1,now:au,pack:EP,packEnclose:wP,packSiblings:xP,pairs:Rb,partition:$P,path:Y1,pathRound:zS,permute:g3,pie:fC,piecewise:cw,pointRadial:pa,pointer:Un,pointers:B7,polygonArea:GP,polygonCentroid:HP,polygonContains:WP,polygonHull:VP,polygonLength:XP,precisionFixed:kw,precisionPrefix:Iw,precisionRound:zw,quadtree:Mf,quantile:Ia,quantileIndex:m3,quantileSorted:v3,quantize:RM,quickselect:of,radialArea:cv,radialLine:uv,randomBates:JP,randomBernoulli:nT,randomBeta:D5,randomBinomial:O5,randomCauchy:rT,randomExponential:jP,randomGamma:pd,randomGeometric:z5,randomInt:KP,randomIrwinHall:I5,randomLcg:cT,randomLogNormal:QP,randomLogistic:iT,randomNormal:gd,randomPareto:tT,randomPoisson:oT,randomUniform:ZP,randomWeibull:eT,range:Xe,rank:Cb,reduce:Bb,reverse:Yb,rgb:_o,ribbon:HS,ribbonArrow:BS,rollup:l3,rollups:h3,scaleBand:md,scaleDiverging:_4,scaleDivergingLog:b4,scaleDivergingPow:Td,scaleDivergingSqrt:tN,scaleDivergingSymlog:M4,scaleIdentity:U5,scaleImplicit:oh,scaleLinear:q5,scaleLog:H5,scaleOrdinal:vd,scalePoint:sT,scalePow:Md,scaleQuantile:V5,scaleQuantize:W5,scaleRadial:Y5,scaleSequential:v4,scaleSequentialLog:m4,scaleSequentialPow:Pd,scaleSequentialQuantile:w4,scaleSequentialSqrt:jR,scaleSequentialSymlog:y4,scaleSqrt:bT,scaleSymlog:B5,scaleThreshold:X5,scaleTime:QR,scaleUtc:JR,scan:zb,schemeAccent:eN,schemeBlues:B4,schemeBrBG:x4,schemeBuGn:C4,schemeBuPu:k4,schemeCategory10:nN,schemeDark2:rN,schemeGnBu:I4,schemeGreens:Y4,schemeGreys:V4,schemeObservable10:iN,schemeOrRd:z4,schemeOranges:Z4,schemePRGn:S4,schemePaired:oN,schemePastel1:aN,schemePastel2:uN,schemePiYG:E4,schemePuBu:O4,schemePuBuGn:D4,schemePuOr:$4,schemePuRd:F4,schemePurples:W4,schemeRdBu:A4,schemeRdGy:P4,schemeRdPu:L4,schemeRdYlBu:T4,schemeRdYlGn:R4,schemeReds:X4,schemeSet1:cN,schemeSet2:sN,schemeSet3:fN,schemeSpectral:N4,schemeTableau10:lN,schemeYlGn:U4,schemeYlGnBu:q4,schemeYlOrBr:G4,schemeYlOrRd:H4,select:rt,selectAll:li,selection:Oi,selector:sf,selectorAll:A1,shuffle:Db,shuffler:w3,some:Ub,sort:g0,stack:VC,stackOffsetDiverging:XC,stackOffsetExpand:WC,stackOffsetNone:Co,stackOffsetSilhouette:ZC,stackOffsetWiggle:KC,stackOrderAppearance:$6,stackOrderAscending:A6,stackOrderDescending:JC,stackOrderInsideOut:jC,stackOrderNone:ko,stackOrderReverse:tk,stratify:RP,style:Si,subset:Kb,sum:Ob,superset:b3,svg:jE,symbol:$C,symbolAsterisk:r6,symbolCircle:Gf,symbolCross:i6,symbolDiamond:a6,symbolDiamond2:u6,symbolPlus:c6,symbolSquare:s6,symbolSquare2:f6,symbolStar:h6,symbolTimes:ch,symbolTriangle:d6,symbolTriangle2:g6,symbolWye:p6,symbolX:ch,symbols:sv,symbolsFill:sv,symbolsStroke:EC,text:bf,thresholdFreedmanDiaconis:xb,thresholdScott:Sb,thresholdSturges:S1,tickFormat:L5,tickIncrement:xi,tickStep:Tc,ticks:Mi,timeDay:Bo,timeDays:AT,get timeFormat(){return Ed},timeFormatDefaultLocale:g4,timeFormatLocale:c4,timeFriday:Q5,timeFridays:IT,timeHour:Nf,timeHours:ET,timeInterval:ln,timeMillisecond:To,timeMilliseconds:B2,timeMinute:Tf,timeMinutes:xT,timeMonday:Xa,timeMondays:RT,timeMonth:kf,timeMonths:GT,get timeParse(){return d4},timeSaturday:J5,timeSaturdays:zT,timeSecond:yr,timeSeconds:V2,timeSunday:Ro,timeSundays:W2,timeThursday:Ri,timeThursdays:kT,timeTickInterval:u4,timeTicks:a4,timeTuesday:Z5,timeTuesdays:NT,timeWednesday:K5,timeWednesdays:CT,timeWeek:Ro,timeWeeks:W2,timeYear:tr,timeYears:BT,timeout:x0,timer:yf,timerFlush:lw,transition:pw,transpose:_3,tree:OP,treemap:FP,treemapBinary:LP,treemapDice:du,treemapResquarify:UP,treemapSlice:Af,treemapSliceDice:qP,treemapSquarify:k5,tsv:XE,tsvFormat:IE,tsvFormatBody:zE,tsvFormatRow:OE,tsvFormatRows:DE,tsvFormatValue:FE,tsvParse:$w,tsvParseRows:kE,union:Qb,unixDay:Sd,unixDays:TT,utcDay:pu,utcDays:PT,get utcFormat(){return zf},utcFriday:n4,utcFridays:qT,utcHour:Cf,utcHours:$T,utcMillisecond:To,utcMilliseconds:B2,utcMinute:Rf,utcMinutes:ST,utcMonday:Za,utcMondays:DT,utcMonth:If,utcMonths:HT,get utcParse(){return $d},utcSaturday:e4,utcSaturdays:UT,utcSecond:yr,utcSeconds:V2,utcSunday:No,utcSundays:X2,utcThursday:Ni,utcThursdays:LT,utcTickInterval:o4,utcTicks:i4,utcTuesday:j5,utcTuesdays:OT,utcWednesday:t4,utcWednesdays:FT,utcWeek:No,utcWeeks:X2,utcYear:nr,utcYears:YT,variance:r3,window:T1,xml:QE,zip:Lb,zoom:R6,zoomIdentity:Yf,zoomTransform:T6},Symbol.toStringTag,{value:"Module"}));function N6(t){return t}function Fd(t){if(t==null)return N6;var n,e,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(u,s){s||(n=e=0);var c=2,f=u.length,h=new Array(f);for(h[0]=(n+=u[0])*r+o,h[1]=(e+=u[1])*i+a;c<f;)h[c]=u[c],++c;return h}}function C6(t){var n=Fd(t.transform),e,r=1/0,i=r,o=-r,a=-r;function u(c){c=n(c),c[0]<r&&(r=c[0]),c[0]>o&&(o=c[0]),c[1]<i&&(i=c[1]),c[1]>a&&(a=c[1])}function s(c){switch(c.type){case"GeometryCollection":c.geometries.forEach(s);break;case"Point":u(c.coordinates);break;case"MultiPoint":c.coordinates.forEach(u);break}}t.arcs.forEach(function(c){for(var f=-1,h=c.length,l;++f<h;)l=n(c[f],f),l[0]<r&&(r=l[0]),l[0]>o&&(o=l[0]),l[1]<i&&(i=l[1]),l[1]>a&&(a=l[1])});for(e in t.objects)s(t.objects[e]);return[r,i,o,a]}function ck(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}function sk(t,n){return typeof n=="string"&&(n=t.objects[n]),n.type==="GeometryCollection"?{type:"FeatureCollection",features:n.geometries.map(function(e){return pv(t,e)})}:pv(t,n)}function pv(t,n){var e=n.id,r=n.bbox,i=n.properties==null?{}:n.properties,o=Vf(t,n);return e==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}function Vf(t,n){var e=Fd(t.transform),r=t.arcs;function i(f,h){h.length&&h.pop();for(var l=r[f<0?~f:f],d=0,g=l.length;d<g;++d)h.push(e(l[d],d));f<0&&ck(h,g)}function o(f){return e(f)}function a(f){for(var h=[],l=0,d=f.length;l<d;++l)i(f[l],h);return h.length<2&&h.push(h[0]),h}function u(f){for(var h=a(f);h.length<4;)h.push(h[0]);return h}function s(f){return f.map(u)}function c(f){var h=f.type,l;switch(h){case"GeometryCollection":return{type:h,geometries:f.geometries.map(c)};case"Point":l=o(f.coordinates);break;case"MultiPoint":l=f.coordinates.map(o);break;case"LineString":l=a(f.arcs);break;case"MultiLineString":l=f.arcs.map(a);break;case"Polygon":l=s(f.arcs);break;case"MultiPolygon":l=f.arcs.map(s);break;default:return null}return{type:h,coordinates:l}}return c(n)}function k6(t,n){var e={},r={},i={},o=[],a=-1;n.forEach(function(c,f){var h=t.arcs[c<0?~c:c],l;h.length<3&&!h[1][0]&&!h[1][1]&&(l=n[++a],n[a]=c,n[f]=l)}),n.forEach(function(c){var f=u(c),h=f[0],l=f[1],d,g;if(d=i[h])if(delete i[d.end],d.push(c),d.end=l,g=r[l]){delete r[g.start];var p=g===d?d:d.concat(g);r[p.start=d.start]=i[p.end=g.end]=p}else r[d.start]=i[d.end]=d;else if(d=r[l])if(delete r[d.start],d.unshift(c),d.start=h,g=i[h]){delete i[g.end];var v=g===d?d:g.concat(d);r[v.start=g.start]=i[v.end=d.end]=v}else r[d.start]=i[d.end]=d;else d=[c],r[d.start=h]=i[d.end=l]=d});function u(c){var f=t.arcs[c<0?~c:c],h=f[0],l;return t.transform?(l=[0,0],f.forEach(function(d){l[0]+=d[0],l[1]+=d[1]})):l=f[f.length-1],c<0?[l,h]:[h,l]}function s(c,f){for(var h in c){var l=c[h];delete f[l.start],delete l.start,delete l.end,l.forEach(function(d){e[d<0?~d:d]=1}),o.push(l)}}return s(i,r),s(r,i),n.forEach(function(c){e[c<0?~c:c]||o.push([c])}),o}function fk(t){return Vf(t,I6.apply(this,arguments))}function I6(t,n,e){var r,i,o;if(arguments.length>1)r=lk(t,n,e);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:k6(t,r)}}function lk(t,n,e){var r=[],i=[],o;function a(h){var l=h<0?~h:h;(i[l]||(i[l]=[])).push({i:h,g:o})}function u(h){h.forEach(a)}function s(h){h.forEach(u)}function c(h){h.forEach(s)}function f(h){switch(o=h,h.type){case"GeometryCollection":h.geometries.forEach(f);break;case"LineString":u(h.arcs);break;case"MultiLineString":case"Polygon":s(h.arcs);break;case"MultiPolygon":c(h.arcs);break}}return f(n),i.forEach(e==null?function(h){r.push(h[0].i)}:function(h){e(h[0].g,h[h.length-1].g)&&r.push(h[0].i)}),r}function hk(t){for(var n=-1,e=t.length,r,i=t[e-1],o=0;++n<e;)r=i,i=t[n],o+=r[0]*i[1]-r[1]*i[0];return Math.abs(o)}function dk(t){return Vf(t,z6.apply(this,arguments))}function z6(t,n){var e={},r=[],i=[];n.forEach(o);function o(s){switch(s.type){case"GeometryCollection":s.geometries.forEach(o);break;case"Polygon":a(s.arcs);break;case"MultiPolygon":s.arcs.forEach(a);break}}function a(s){s.forEach(function(c){c.forEach(function(f){(e[f=f<0?~f:f]||(e[f]=[])).push(s)})}),r.push(s)}function u(s){return hk(Vf(t,{type:"Polygon",arcs:[s]}).coordinates[0])}return r.forEach(function(s){if(!s._){var c=[],f=[s];for(s._=1,i.push(c);s=f.pop();)c.push(s),s.forEach(function(h){h.forEach(function(l){e[l<0?~l:l].forEach(function(d){d._||(d._=1,f.push(d))})})})}}),r.forEach(function(s){delete s._}),{type:"MultiPolygon",arcs:i.map(function(s){var c=[],f;if(s.forEach(function(p){p.forEach(function(v){v.forEach(function(m){e[m<0?~m:m].length<2&&c.push(m)})})}),c=k6(t,c),(f=c.length)>1)for(var h=1,l=u(c[0]),d,g;h<f;++h)(d=u(c[h]))>l&&(g=c[0],c[0]=c[h],c[h]=g,l=d);return c}).filter(function(s){return s.length>0})}}function vv(t,n){for(var e=0,r=t.length;e<r;){var i=e+r>>>1;t[i]<n?e=i+1:r=i}return e}function gk(t){var n={},e=t.map(function(){return[]});function r(p,v){p.forEach(function(m){m<0&&(m=~m);var w=n[m];w?w.push(v):n[m]=[v]})}function i(p,v){p.forEach(function(m){r(m,v)})}function o(p,v){p.type==="GeometryCollection"?p.geometries.forEach(function(m){o(m,v)}):p.type in a&&a[p.type](p.arcs,v)}var a={LineString:r,MultiLineString:i,Polygon:i,MultiPolygon:function(p,v){p.forEach(function(m){i(m,v)})}};t.forEach(o);for(var u in n)for(var s=n[u],c=s.length,f=0;f<c;++f)for(var h=f+1;h<c;++h){var l=s[f],d=s[h],g;(g=e[l])[u=vv(g,d)]!==d&&g.splice(u,0,d),(g=e[d])[u=vv(g,l)]!==l&&g.splice(u,0,l)}return e}function D6(t){if(t==null)return N6;var n,e,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(u,s){s||(n=e=0);var c=2,f=u.length,h=new Array(f),l=Math.round((u[0]-o)/r),d=Math.round((u[1]-a)/i);for(h[0]=l-n,n=l,h[1]=d-e,e=d;c<f;)h[c]=u[c],++c;return h}}function pk(t,n){if(t.transform)throw new Error("already quantized");if(!n||!n.scale){if(!((a=Math.floor(n))>=2))throw new Error("n must be 2");s=t.bbox||C6(t);var e=s[0],r=s[1],i=s[2],o=s[3],a;n={scale:[i-e?(i-e)/(a-1):1,o-r?(o-r)/(a-1):1],translate:[e,r]}}else s=t.bbox;var u=D6(n),s,c,f=t.objects,h={};function l(p){return u(p)}function d(p){var v;switch(p.type){case"GeometryCollection":v={type:"GeometryCollection",geometries:p.geometries.map(d)};break;case"Point":v={type:"Point",coordinates:l(p.coordinates)};break;case"MultiPoint":v={type:"MultiPoint",coordinates:p.coordinates.map(l)};break;default:return p}return p.id!=null&&(v.id=p.id),p.bbox!=null&&(v.bbox=p.bbox),p.properties!=null&&(v.properties=p.properties),v}function g(p){var v=0,m=1,w=p.length,_,y=new Array(w);for(y[0]=u(p[0],0);++v<w;)((_=u(p[v],v))[0]||_[1])&&(y[m++]=_);return m===1&&(y[m++]=[0,0]),y.length=m,y}for(c in f)h[c]=d(f[c]);return{type:"Topology",bbox:s,transform:n,objects:h,arcs:t.arcs.map(g)}}const vk=Object.freeze(Object.defineProperty({__proto__:null,bbox:C6,feature:sk,merge:dk,mergeArcs:z6,mesh:fk,meshArcs:I6,neighbors:gk,quantize:pk,transform:Fd,untransform:D6},Symbol.toStringTag,{value:"Module"}));var V=Math.abs,on=Math.atan,Ct=Math.atan2,q=Math.cos,er=Math.exp,Io=Math.floor,pn=Math.log,wr=Math.max,Zn=Math.min,Ka=Math.pow,ys=Math.round,xt=Math.sign||function(t){return t>0?1:t<0?-1:0},L=Math.sin,$t=Math.tan,Q=1e-6,Gi=1e-12,U=Math.PI,tt=U/2,se=U/4,xe=Math.SQRT1_2,Ut=G(2),Ne=G(U),ze=U*2,kt=180/U,Tt=U/180;function mk(t){return t?t/Math.sin(t):1}function st(t){return t>1?tt:t<-1?-tt:Math.asin(t)}function xn(t){return t>1?0:t<-1?U:Math.acos(t)}function G(t){return t>0?Math.sqrt(t):0}function yk(t){return t=er(2*t),(t-1)/(t+1)}function Ld(t){return(er(t)-er(-t))/2}function O6(t){return(er(t)+er(-t))/2}function wk(t){return pn(t+G(t*t+1))}function _k(t){return pn(t+G(t*t-1))}function F6(t){var n=$t(t/2),e=2*pn(q(t/2))/(n*n);function r(i,o){var a=q(i),u=q(o),s=L(o),c=u*a,f=-((1-c?pn((1+c)/2)/(1-c):-.5)+e/(1+c));return[f*u*L(i),f*s]}return r.invert=function(i,o){var a=G(i*i+o*o),u=-t/2,s=50,c;if(!a)return[0,0];do{var f=u/2,h=q(f),l=L(f),d=l/h,g=-pn(V(h));u-=c=(2/d*g-e*d-a)/(-g/(l*l)+1-e/(2*h*h))*(h<0?.7:1)}while(V(c)>Q&&--s>0);var p=L(u);return[Ct(i*p,a*q(u)),st(o*p/a)]},r}function bk(){var t=tt,n=mn(F6),e=n(t);return e.radius=function(r){return arguments.length?n(t=r*Tt):t*kt},e.scale(179.976).clipAngle(147)}function Wf(t,n){var e=q(n),r=mk(xn(e*q(t/=2)));return[2*e*L(t)*r,L(n)*r]}Wf.invert=function(t,n){if(!(t*t+4*n*n>U*U+Q)){var e=t,r=n,i=25;do{var o=L(e),a=L(e/2),u=q(e/2),s=L(r),c=q(r),f=L(2*r),h=s*s,l=c*c,d=a*a,g=1-l*u*u,p=g?xn(c*u)*G(v=1/g):v=0,v,m=2*p*c*a-t,w=p*s-n,_=v*(l*d+p*c*u*h),y=v*(.5*o*f-p*2*s*a),M=v*.25*(f*a-p*s*l*o),x=v*(h*u+p*d*c),T=y*M-x*_;if(!T)break;var N=(w*y-m*x)/T,C=(m*M-w*_)/T;e-=N,r-=C}while((V(N)>Q||V(C)>Q)&&--i>0);return[e,r]}};function Mk(){return ot(Wf).scale(152.63)}function L6(t){var n=L(t),e=q(t),r=t>=0?1:-1,i=$t(r*t),o=(1+n-e)/2;function a(u,s){var c=q(s),f=q(u/=2);return[(1+c)*L(u),(r*s>-Ct(f,i)-.001?0:-r*10)+o+L(s)*e-(1+c)*n*f]}return a.invert=function(u,s){var c=0,f=0,h=50;do{var l=q(c),d=L(c),g=q(f),p=L(f),v=1+g,m=v*d-u,w=o+p*e-v*n*l-s,_=v*l/2,y=-d*p,M=n*v*d/2,x=e*g+n*l*p,T=y*M-x*_,N=(w*y-m*x)/T/2,C=(m*M-w*_)/T;V(C)>2&&(C/=2),c-=N,f-=C}while((V(N)>Q||V(C)>Q)&&--h>0);return r*f>-Ct(q(c),i)-.001?[c*2,f]:null},a}function xk(){var t=20*Tt,n=t>=0?1:-1,e=$t(n*t),r=mn(L6),i=r(t),o=i.stream;return i.parallel=function(a){return arguments.length?(e=$t((n=(t=a*Tt)>=0?1:-1)*t),r(t)):t*kt},i.stream=function(a){var u=i.rotate(),s=o(a),c=(i.rotate([0,0]),o(a)),f=i.precision();return i.rotate(u),s.sphere=function(){c.polygonStart(),c.lineStart();for(var h=n*-180;n*h<180;h+=n*90)c.point(h,n*90);if(t)for(;n*(h-=3*n*f)>=-180;)c.point(h,n*-Ct(q(h*Tt/2),e)*kt);c.lineEnd(),c.polygonEnd()},s},i.scale(218.695).center([0,28.0974])}function Xf(t,n){var e=$t(n/2),r=G(1-e*e),i=1+r*q(t/=2),o=L(t)*r/i,a=e/i,u=o*o,s=a*a;return[4/3*o*(3+u-3*s),4/3*a*(3+3*u-s)]}Xf.invert=function(t,n){if(t*=3/8,n*=3/8,!t&&V(n)>1)return null;var e=t*t,r=n*n,i=1+e+r,o=G((i-G(i*i-4*n*n))/2),a=st(o)/3,u=o?_k(V(n/o))/3:wk(V(t))/3,s=q(a),c=O6(u),f=c*c-s*s;return[xt(t)*2*Ct(Ld(u)*s,.25-f),xt(n)*2*Ct(c*L(a),.25+f)]};function Sk(){return ot(Xf).scale(66.1603)}var Vl=G(8),Ek=pn(1+Ut);function qd(t,n){var e=V(n);return e<se?[t,pn($t(se+n/2))]:[t*q(e)*(2*Ut-1/L(e)),xt(n)*(2*Ut*(e-se)-pn($t(e/2)))]}qd.invert=function(t,n){if((o=V(n))<Ek)return[t,2*on(er(n))-tt];var e=se,r=25,i,o;do{var a=q(e/2),u=$t(e/2);e-=i=(Vl*(e-se)-pn(u)-o)/(Vl-a*a/(2*u))}while(V(i)>Gi&&--r>0);return[t/(q(e)*(Vl-1/L(e))),xt(n)*e]};function $k(){return ot(qd).scale(112.314)}function q6(t){var n=2*U/t;function e(r,i){var o=Wr(r,i);if(V(r)>tt){var a=Ct(o[1],o[0]),u=G(o[0]*o[0]+o[1]*o[1]),s=n*ys((a-tt)/n)+tt,c=Ct(L(a-=s),2-q(a));a=s+st(U/u*L(c))-c,o[0]=u*q(a),o[1]=u*L(a)}return o}return e.invert=function(r,i){var o=G(r*r+i*i);if(o>tt){var a=Ct(i,r),u=n*ys((a-tt)/n)+tt,s=a>u?-1:1,c=o*q(u-a),f=1/$t(s*xn((c-U)/G(U*(U-2*c)+o*o)));a=u+2*on((f+s*G(f*f-3))/3),r=o*q(a),i=o*L(a)}return Wr.invert(r,i)},e}function Ak(){var t=5,n=mn(q6),e=n(t),r=e.stream,i=.01,o=-q(i*Tt),a=L(i*Tt);return e.lobes=function(u){return arguments.length?n(t=+u):t},e.stream=function(u){var s=e.rotate(),c=r(u),f=(e.rotate([0,0]),r(u));return e.rotate(s),c.sphere=function(){f.polygonStart(),f.lineStart();for(var h=0,l=360/t,d=2*U/t,g=90-180/t,p=tt;h<t;++h,g-=l,p-=d)f.point(Ct(a*q(p),o)*kt,st(a*L(p))*kt),g<-90?(f.point(-90,-180-g-i),f.point(-90,-180-g+i)):(f.point(90,g+i),f.point(90,g-i));f.lineEnd(),f.polygonEnd()},c},e.scale(87.8076).center([0,17.1875]).clipAngle(180-.001)}function Zf(t,n){if(arguments.length<2&&(n=t),n===1)return so;if(n===1/0)return U6;function e(r,i){var o=so(r/n,i);return o[0]*=t,o}return e.invert=function(r,i){var o=so.invert(r/t,i);return o[0]*=n,o},e}function U6(t,n){return[t*q(n)/q(n/=2),2*L(n)]}U6.invert=function(t,n){var e=2*st(n/2);return[t*q(e/2)/q(e),e]};function Pk(){var t=2,n=mn(Zf),e=n(t);return e.coefficient=function(r){return arguments.length?n(t=+r):t},e.scale(169.529)}function ws(t,n,e){var r=100,i,o,a;e=e===void 0?0:+e,n=+n;do o=t(e),a=t(e+Q),o===a&&(a=o+Q),e-=i=-1*Q*(o-n)/(o-a);while(r-- >0&&V(i)>Q);return r<0?NaN:e}function Ud(t,n,e){return n===void 0&&(n=40),e===void 0&&(e=Gi),function(r,i,o,a){var u,s,c;o=o===void 0?0:+o,a=a===void 0?0:+a;for(var f=0;f<n;f++){var h=t(o,a),l=h[0]-r,d=h[1]-i;if(V(l)<e&&V(d)<e)break;var g=l*l+d*d;if(g>u){o-=s/=2,a-=c/=2;continue}u=g;var p=(o>0?-1:1)*e,v=(a>0?-1:1)*e,m=t(o+p,a),w=t(o,a+v),_=(m[0]-h[0])/p,y=(m[1]-h[1])/p,M=(w[0]-h[0])/v,x=(w[1]-h[1])/v,T=x*_-y*M,N=(V(T)<.5?.5:1)/T;if(s=(d*M-l*x)*N,c=(l*y-d*_)*N,o+=s,a+=c,V(s)<e&&V(c)<e)break}return[o,a]}}function G6(){var t=Zf(1.68,2),n=1.4,e=12;function r(i,o){if(i+o<-1.4){var a=(i-o+1.6)*(i+o+n)/8;i+=a,o-=.8*a*L(o+U/2)}var u=t(i,o),s=(1-q(i*o))/e;return u[1]<0&&(u[0]*=1+s),u[1]>0&&(u[1]*=1+s/1.5*u[0]*u[0]),u}return r.invert=Ud(r),r}function Tk(){return ot(G6()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function H6(t,n){var e=t*L(n),r=30,i;do n-=i=(n+L(n)-e)/(1+q(n));while(V(i)>Q&&--r>0);return n/2}function Gd(t,n,e){function r(i,o){return[t*i*q(o=H6(e,o)),n*L(o)]}return r.invert=function(i,o){return o=st(o/n),[i/(t*q(o)),st((2*o+L(2*o))/e)]},r}var ri=Gd(Ut/tt,Ut,U);function B6(){return ot(ri).scale(169.529)}var _s=2.00276,Y6=1.11072;function Kf(t,n){var e=H6(U,n);return[_s*t/(1/q(n)+Y6/q(e)),(n+Ut*L(e))/_s]}Kf.invert=function(t,n){var e=_s*n,r=n<0?-se:se,i=25,o,a;do a=e-Ut*L(r),r-=o=(L(2*r)+2*r-U*L(a))/(2*q(2*r)+2+U*q(a)*Ut*q(r));while(V(o)>Q&&--i>0);return a=e-Ut*L(r),[t*(1/q(a)+Y6/q(r))/_s,a]};function Rk(){return ot(Kf).scale(160.857)}function Yo(t){var n=0,e=mn(t),r=e(n);return r.parallel=function(i){return arguments.length?e(n=i*Tt):n*kt},r}function Tr(t,n){return[t*q(n),n]}Tr.invert=function(t,n){return[t/q(n),n]};function Nk(){return ot(Tr).scale(152.63)}function V6(t){if(!t)return Tr;var n=1/$t(t);function e(r,i){var o=n+t-i,a=o&&r*q(i)/o;return[o*L(a),n-o*q(a)]}return e.invert=function(r,i){var o=G(r*r+(i=n-i)*i),a=n+t-o;return[o/q(a)*Ct(r,i),a]},e}function Ck(){return Yo(V6).scale(123.082).center([0,26.1441]).parallel(45)}function W6(t){function n(e,r){var i=tt-r,o=i&&e*t*L(i)/i;return[i*L(o)/t,tt-i*q(o)]}return n.invert=function(e,r){var i=e*t,o=tt-r,a=G(i*i+o*o),u=Ct(i,o);return[(a?a/L(a):1)*u/t,tt-a]},n}function kk(){var t=.5,n=mn(W6),e=n(t);return e.fraction=function(r){return arguments.length?n(t=+r):t},e.scale(158.837)}var X6=Gd(1,4/U,U);function Ik(){return ot(X6).scale(152.63)}function mv(t,n,e,r,i,o){var a=q(o),u;if(V(t)>1||V(o)>1)u=xn(e*i+n*r*a);else{var s=L(t/2),c=L(o/2);u=2*st(G(s*s+n*r*c*c))}return V(u)>Q?[u,Ct(r*L(o),n*i-e*r*a)]:[0,0]}function Wl(t,n,e){return xn((t*t+n*n-e*e)/(2*t*n))}function zk(t){return t-2*U*Io((t+U)/(2*U))}function Z6(t,n,e){for(var r=[[t[0],t[1],L(t[1]),q(t[1])],[n[0],n[1],L(n[1]),q(n[1])],[e[0],e[1],L(e[1]),q(e[1])]],i=r[2],o,a=0;a<3;++a,i=o)o=r[a],i.v=mv(o[1]-i[1],i[3],i[2],o[3],o[2],o[0]-i[0]),i.point=[0,0];var u=Wl(r[0].v[0],r[2].v[0],r[1].v[0]),s=Wl(r[0].v[0],r[1].v[0],r[2].v[0]),c=U-u;r[2].point[1]=0,r[0].point[0]=-(r[1].point[0]=r[0].v[0]/2);var f=[r[2].point[0]=r[0].point[0]+r[2].v[0]*q(u),2*(r[0].point[1]=r[1].point[1]=r[2].v[0]*L(u))];function h(l,d){var g=L(d),p=q(d),v=new Array(3),m;for(m=0;m<3;++m){var w=r[m];if(v[m]=mv(d-w[1],w[3],w[2],p,g,l-w[0]),!v[m][0])return w.point;v[m][1]=zk(v[m][1]-w.v[1])}var _=f.slice();for(m=0;m<3;++m){var y=m==2?0:m+1,M=Wl(r[m].v[0],v[m][0],v[y][0]);v[m][1]<0&&(M=-M),m?m==1?(M=s-M,_[0]-=v[m][0]*q(M),_[1]-=v[m][0]*L(M)):(M=c-M,_[0]+=v[m][0]*q(M),_[1]+=v[m][0]*L(M)):(_[0]+=v[m][0]*q(M),_[1]-=v[m][0]*L(M))}return _[0]/=3,_[1]/=3,_}return h}function Xl(t){return t[0]*=Tt,t[1]*=Tt,t}function Dk(){return K6([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function K6(t,n,e){var r=Ho({type:"MultiPoint",coordinates:[t,n,e]}),i=[-r[0],-r[1]],o=$o(i),a=Z6(Xl(o(t)),Xl(o(n)),Xl(o(e)));a.invert=Ud(a);var u=ot(a).rotate(i),s=u.center;return delete u.rotate,u.center=function(c){return arguments.length?s(o(c)):o.invert(s())},u.clipAngle(90)}function We(t,n){var e=G(1-L(n));return[2/Ne*t*e,Ne*(1-e)]}We.invert=function(t,n){var e=(e=n/Ne-1)*e;return[e>0?t*G(U/e)/2:0,st(1-e)]};function Ok(){return ot(We).scale(95.6464).center([0,30])}function Q6(t){var n=$t(t);function e(r,i){return[r,(r?r/L(r):1)*(L(i)*q(r)-n*q(i))]}return e.invert=n?function(r,i){r&&(i*=L(r)/r);var o=q(r);return[r,2*Ct(G(o*o+n*n-i*i)-o,n-i)]}:function(r,i){return[r,st(r?i*$t(r)/r:i)]},e}function Fk(){return Yo(Q6).scale(249.828).clipAngle(90)}var bs=G(3);function Hd(t,n){return[bs*t*(2*q(2*n/3)-1)/Ne,bs*Ne*L(n/3)]}Hd.invert=function(t,n){var e=3*st(n/(bs*Ne));return[Ne*t/(bs*(2*q(2*e/3)-1)),e]};function Lk(){return ot(Hd).scale(156.19)}function Bd(t){var n=q(t);function e(r,i){return[r*n,L(i)/n]}return e.invert=function(r,i){return[r/n,st(i*n)]},e}function qk(){return Yo(Bd).parallel(38.58).scale(195.044)}function J6(t){var n=q(t);function e(r,i){return[r*n,(1+n)*$t(i/2)]}return e.invert=function(r,i){return[r/n,on(i/(1+n))*2]},e}function Uk(){return Yo(J6).scale(124.75)}function Yd(t,n){var e=G(8/(3*U));return[e*t*(1-V(n)/U),e*n]}Yd.invert=function(t,n){var e=G(8/(3*U)),r=n/e;return[t/(e*(1-V(r)/U)),r]};function Gk(){return ot(Yd).scale(165.664)}function Vd(t,n){var e=G(4-3*L(V(n)));return[2/G(6*U)*t*e,xt(n)*G(2*U/3)*(2-e)]}Vd.invert=function(t,n){var e=2-V(n)/G(2*U/3);return[t*G(6*U)/(2*e),xt(n)*st((4-e*e)/3)]};function Hk(){return ot(Vd).scale(165.664)}function Wd(t,n){var e=G(U*(4+U));return[2/e*t*(1+G(1-4*n*n/(U*U))),4/e*n]}Wd.invert=function(t,n){var e=G(U*(4+U))/2;return[t*e/(1+G(1-n*n*(4+U)/(4*U))),n*e/2]};function Bk(){return ot(Wd).scale(180.739)}function Xd(t,n){var e=(2+tt)*L(n);n/=2;for(var r=0,i=1/0;r<10&&V(i)>Q;r++){var o=q(n);n-=i=(n+L(n)*(o+2)-e)/(2*o*(1+o))}return[2/G(U*(4+U))*t*(1+q(n)),2*G(U/(4+U))*L(n)]}Xd.invert=function(t,n){var e=n*G((4+U)/U)/2,r=st(e),i=q(r);return[t/(2/G(U*(4+U))*(1+i)),st((r+e*(i+2))/(2+tt))]};function Yk(){return ot(Xd).scale(180.739)}function Zd(t,n){return[t*(1+q(n))/G(2+U),2*n/G(2+U)]}Zd.invert=function(t,n){var e=G(2+U),r=n*e/2;return[e*t/(1+q(r)),r]};function Vk(){return ot(Zd).scale(173.044)}function Kd(t,n){for(var e=(1+tt)*L(n),r=0,i=1/0;r<10&&V(i)>Q;r++)n-=i=(n+L(n)-e)/(1+q(n));return e=G(2+U),[t*(1+q(n))/e,2*n/e]}Kd.invert=function(t,n){var e=1+tt,r=G(e/2);return[t*2*r/(1+q(n*=r)),st((n+L(n))/e)]};function Wk(){return ot(Kd).scale(173.044)}var Ms=3+2*Ut;function Qd(t,n){var e=L(t/=2),r=q(t),i=G(q(n)),o=q(n/=2),a=L(n)/(o+Ut*r*i),u=G(2/(1+a*a)),s=G((Ut*o+(r+e)*i)/(Ut*o+(r-e)*i));return[Ms*(u*(s-1/s)-2*pn(s)),Ms*(u*a*(s+1/s)-2*on(a))]}Qd.invert=function(t,n){if(!(o=Xf.invert(t/1.2,n*1.065)))return null;var e=o[0],r=o[1],i=20,o;t/=Ms,n/=Ms;do{var a=e/2,u=r/2,s=L(a),c=q(a),f=L(u),h=q(u),l=q(r),d=G(l),g=f/(h+Ut*c*d),p=g*g,v=G(2/(1+p)),m=Ut*h+(c+s)*d,w=Ut*h+(c-s)*d,_=m/w,y=G(_),M=y-1/y,x=y+1/y,T=v*M-2*pn(y)-t,N=v*g*x-2*on(g)-n,C=f&&xe*d*s*p/f,I=(Ut*c*h+d)/(2*(h+Ut*c*d)*(h+Ut*c*d)*d),P=-.5*g*v*v*v,B=P*C,F=P*I,A=(A=2*h+Ut*d*(c-s))*A*y,$=(Ut*c*h*d+l)/A,k=-(Ut*s*f)/(d*A),E=M*B-2*$/y+v*($+$/_),O=M*F-2*k/y+v*(k+k/_),z=g*x*B-2*C/(1+p)+v*x*C+v*g*($-$/_),H=g*x*F-2*I/(1+p)+v*x*I+v*g*(k-k/_),Y=O*z-H*E;if(!Y)break;var X=(N*O-T*H)/Y,j=(T*z-N*E)/Y;e-=X,r=wr(-tt,Zn(tt,r-j))}while((V(X)>Q||V(j)>Q)&&--i>0);return V(V(r)-tt)<Q?[0,r]:i&&[e,r]};function Xk(){return ot(Qd).scale(62.5271)}var xs=q(35*Tt);function Jd(t,n){var e=$t(n/2);return[t*xs*G(1-e*e),(1+xs)*e]}Jd.invert=function(t,n){var e=n/(1+xs);return[t&&t/(xs*G(1-e*e)),2*on(e)]};function Zk(){return ot(Jd).scale(137.152)}function jd(t,n){var e=n/2,r=q(e);return[2*t/Ne*q(n)*r*r,Ne*$t(e)]}jd.invert=function(t,n){var e=on(n/Ne),r=q(e),i=2*e;return[t*Ne/2/(q(i)*r*r),i]};function Kk(){return ot(jd).scale(135.264)}function j6(t){var n=1-t,e=o(U,0)[0]-o(-U,0)[0],r=o(0,tt)[1]-o(0,-tt)[1],i=G(2*r/e);function o(s,c){var f=q(c),h=L(c);return[f/(n+t*f)*s,n*c+t*h]}function a(s,c){var f=o(s,c);return[f[0]*i,f[1]/i]}function u(s){return a(0,s)[1]}return a.invert=function(s,c){var f=ws(u,c),h=s/i*(t+n/q(f));return[h,f]},a}function Qk(){var t=.5,n=mn(j6),e=n(t);return e.alpha=function(r){return arguments.length?n(t=+r):t},e.scale(168.725)}function yv(t){return[t[0]/2,st($t(t[1]/2*Tt))*kt]}function wv(t){return[t[0]*2,2*on(L(t[1]*Tt))*kt]}function Jk(t){t==null&&(t=sd);var n=t(),e=id().scale(kt).precision(0).clipAngle(null).translate([0,0]);function r(o){return n(yv(o))}n.invert&&(r.invert=function(o){return wv(n.invert(o))}),r.stream=function(o){var a=n.stream(o),u=e.stream({point:function(s,c){a.point(s/2,st($t(-c/2*Tt))*kt)},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}});return u.sphere=a.sphere,u};function i(o){r[o]=function(){return arguments.length?(n[o].apply(n,arguments),r):n[o]()}}return r.rotate=function(o){return arguments.length?(e.rotate(o),r):e.rotate()},r.center=function(o){return arguments.length?(n.center(yv(o)),r):wv(n.center())},i("angle"),i("clipAngle"),i("clipExtent"),i("fitExtent"),i("fitHeight"),i("fitSize"),i("fitWidth"),i("scale"),i("translate"),i("precision"),r.scale(249.5)}function t8(t,n){var e=2*U/n,r=t*t;function i(o,a){var u=Wr(o,a),s=u[0],c=u[1],f=s*s+c*c;if(f>r){var h=G(f),l=Ct(c,s),d=e*ys(l/e),g=l-d,p=t*q(g),v=(t*L(g)-g*L(p))/(tt-p),m=_v(g,v),w=(U-t)/Yu(m,p,U);s=h;var _=50,y;do s-=y=(t+Yu(m,p,s)*w-h)/(m(s)*w);while(V(y)>Q&&--_>0);c=g*L(s),s<tt&&(c-=v*(s-tt));var M=L(d),x=q(d);u[0]=s*x-c*M,u[1]=s*M+c*x}return u}return i.invert=function(o,a){var u=o*o+a*a;if(u>r){var s=G(u),c=Ct(a,o),f=e*ys(c/e),h=c-f;o=s*q(h),a=s*L(h);for(var l=o-tt,d=L(o),g=a/d,p=o<tt?1/0:0,v=10;;){var m=t*L(g),w=t*q(g),_=L(w),y=tt-w,M=(m-g*_)/y,x=_v(g,M);if(V(p)<Gi||!--v)break;g-=p=(g*d-M*l-a)/(d-l*2*(y*(w+g*m*q(w)-_)-m*(m-g*_))/(y*y))}s=t+Yu(x,w,o)*(U-t)/Yu(x,w,U),c=f+g,o=s*q(c),a=s*L(c)}return Wr.invert(o,a)},i}function _v(t,n){return function(e){var r=t*q(e);return e<tt&&(r-=n),G(1+r*r)}}function Yu(t,n,e){for(var r=50,i=(e-n)/r,o=t(n)+t(e),a=1,u=n;a<r;++a)o+=2*t(u+=i);return o*.5*i}function jk(){var t=6,n=30*Tt,e=q(n),r=L(n),i=mn(t8),o=i(n,t),a=o.stream,u=.01,s=-q(u*Tt),c=L(u*Tt);return o.radius=function(f){return arguments.length?(e=q(n=f*Tt),r=L(n),i(n,t)):n*kt},o.lobes=function(f){return arguments.length?i(n,t=+f):t},o.stream=function(f){var h=o.rotate(),l=a(f),d=(o.rotate([0,0]),a(f));return o.rotate(h),l.sphere=function(){d.polygonStart(),d.lineStart();for(var g=0,p=2*U/t,v=0;g<t;++g,v-=p)d.point(Ct(c*q(v),s)*kt,st(c*L(v))*kt),d.point(Ct(r*q(v-p/2),e)*kt,st(r*L(v-p/2))*kt);d.lineEnd(),d.polygonEnd()},l},o.rotate([90,-40]).scale(91.7095).clipAngle(180-.001)}function Qf(t,n,e,r,i,o,a,u){arguments.length<8&&(u=0);function s(c,f){if(!f)return[t*c/U,0];var h=f*f,l=t+h*(n+h*(e+h*r)),d=f*(i-1+h*(o-u+h*a)),g=(l*l+d*d)/(2*d),p=c*st(l/g)/U;return[g*L(p),f*(1+h*u)+g*(1-q(p))]}return s.invert=function(c,f){var h=U*c/t,l=f,d,g,p=50;do{var v=l*l,m=t+v*(n+v*(e+v*r)),w=l*(i-1+v*(o-u+v*a)),_=m*m+w*w,y=2*w,M=_/y,x=M*M,T=st(m/M)/U,N=h*T,C=m*m,I=(2*n+v*(4*e+v*6*r))*l,P=i+v*(3*o+v*5*a),B=2*(m*I+w*(P-1)),F=2*(P-1),A=(B*y-_*F)/(y*y),$=q(N),k=L(N),E=M*$,O=M*k,z=h/U*(1/G(1-C/x))*(I*M-m*A)/x,H=O-c,Y=l*(1+v*u)+M-E-f,X=A*k+E*z,j=E*T,et=1+A-(A*$-O*z),it=O*T,yt=X*it-et*j;if(!yt)break;h-=d=(Y*X-H*et)/yt,l-=g=(H*it-Y*j)/yt}while((V(d)>Q||V(g)>Q)&&--p>0);return[h,l]},s}var n8=Qf(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function tI(){return ot(n8).scale(149.995)}var e8=Qf(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function nI(){return ot(e8).scale(153.93)}var r8=Qf(5/6*U,-.62636,-.0344,0,1.3493,-.05524,0,.045);function eI(){return ot(r8).scale(130.945)}function tg(t,n){var e=t*t,r=n*n;return[t*(1-.162388*r)*(.87-952426e-9*e*e),n*(1+r/12)]}tg.invert=function(t,n){var e=t,r=n,i=50,o;do{var a=r*r;r-=o=(r*(1+a/12)-n)/(1+a/4)}while(V(o)>Q&&--i>0);i=50,t/=1-.162388*a;do{var u=(u=e*e)*u;e-=o=(e*(.87-952426e-9*u)-t)/(.87-.00476213*u)}while(V(o)>Q&&--i>0);return[e,r]};function rI(){return ot(tg).scale(131.747)}var i8=Qf(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function iI(){return ot(i8).scale(131.087)}function o8(t){var n=t(tt,0)[0]-t(-tt,0)[0];function e(r,i){var o=r>0?-.5:.5,a=t(r+o*U,i);return a[0]-=o*n,a}return t.invert&&(e.invert=function(r,i){var o=r>0?-.5:.5,a=t.invert(r+o*n,i),u=a[0]-o*U;return u<-U?u+=2*U:u>U&&(u-=2*U),a[0]=u,a}),e}function Jf(t,n){var e=xt(t),r=xt(n),i=q(n),o=q(t)*i,a=L(t)*i,u=L(r*n);t=V(Ct(a,u)),n=st(o),V(t-tt)>Q&&(t%=tt);var s=oI(t>U/4?tt-t:t,n);return t>U/4&&(u=s[0],s[0]=-s[1],s[1]=-u),s[0]*=e,s[1]*=-r,s}Jf.invert=function(t,n){V(t)>1&&(t=xt(t)*2-t),V(n)>1&&(n=xt(n)*2-n);var e=xt(t),r=xt(n),i=-e*t,o=-r*n,a=o/i<1,u=aI(a?o:i,a?i:o),s=u[0],c=u[1],f=q(c);return a&&(s=-tt-s),[e*(Ct(L(s)*f,-L(c))+U),r*st(q(s)*f)]};function oI(t,n){if(n===tt)return[0,0];var e=L(n),r=e*e,i=r*r,o=1+i,a=1+3*i,u=1-i,s=st(1/G(o)),c=u+r*o*s,f=(1-e)/c,h=G(f),l=f*o,d=G(l),g=h*u,p,v;if(t===0)return[0,-(g+r*d)];var m=q(n),w=1/m,_=2*e*m,y=(-3*r+s*a)*_,M=(-c*m-(1-e)*y)/(c*c),x=.5*M/h,T=u*x-2*r*h*_,N=r*o*M+f*a*_,C=-w*_,I=-w*N,P=-2*w*T,B=4*t/U,F;if(t>.222*U||n<U/4&&t>.175*U){if(p=(g+r*G(l*(1+i)-g*g))/(1+i),t>U/4)return[p,p];var A=p,$=.5*p;p=.5*($+A),v=50;do{var k=G(l-p*p),E=p*(P+C*k)+I*st(p/d)-B;if(!E)break;E<0?$=p:A=p,p=.5*($+A)}while(V(A-$)>Q&&--v>0)}else{p=Q,v=25;do{var O=p*p,z=G(l-O),H=P+C*z,Y=p*H+I*st(p/d)-B,X=H+(I-C*O)/z;p-=F=z?Y/X:0}while(V(F)>Q&&--v>0)}return[p,-g-r*G(l-p*p)]}function aI(t,n){for(var e=0,r=1,i=.5,o=50;;){var a=i*i,u=G(i),s=st(1/G(1+a)),c=1-a+i*(1+a)*s,f=(1-u)/c,h=G(f),l=f*(1+a),d=h*(1-a),g=l-t*t,p=G(g),v=n+d+i*p;if(V(r-e)<Gi||--o===0||v===0)break;v>0?e=i:r=i,i=.5*(e+r)}if(!o)return null;var m=st(u),w=q(m),_=1/w,y=2*u*w,M=(-3*i+s*(1+3*a))*y,x=(-c*w-(1-u)*M)/(c*c),T=.5*x/h,N=(1-a)*T-2*i*h*y,C=-2*_*N,I=-_*y,P=-_*(i*(1+a)*x+f*(1+3*a)*y);return[U/4*(t*(C+I*p)+P*st(t/G(l))),m]}function uI(){return ot(o8(Jf)).scale(239.75)}function cI(t,n,e){var r,i,o;return t?(r=Zl(t,e),n?(i=Zl(n,1-e),o=i[1]*i[1]+e*r[0]*r[0]*i[0]*i[0],[[r[0]*i[2]/o,r[1]*r[2]*i[0]*i[1]/o],[r[1]*i[1]/o,-r[0]*r[2]*i[0]*i[2]/o],[r[2]*i[1]*i[2]/o,-e*r[0]*r[1]*i[0]/o]]):[[r[0],0],[r[1],0],[r[2],0]]):(i=Zl(n,1-e),[[0,i[0]/i[1]],[1/i[1],0],[i[2]/i[1],0]])}function Zl(t,n){var e,r,i,o,a;if(n<Q)return o=L(t),r=q(t),e=n*(t-o*r)/4,[o-e*r,r+e*o,1-n*o*o/2,t-e];if(n>=1-Q)return e=(1-n)/4,r=O6(t),o=yk(t),i=1/r,a=r*Ld(t),[o+e*(a-t)/(r*r),i-e*o*i*(a-t),i+e*o*i*(a+t),2*on(er(t))-tt+e*(a-t)/r];var u=[1,0,0,0,0,0,0,0,0],s=[G(n),0,0,0,0,0,0,0,0],c=0;for(r=G(1-n),a=1;V(s[c]/u[c])>Q&&c<8;)e=u[c++],s[c]=(e-r)/2,u[c]=(e+r)/2,r=G(e*r),a*=2;i=a*u[c]*t;do o=s[c]*L(r=i)/u[c],i=(st(o)+i)/2;while(--c);return[L(i),o=q(i),o/q(i-r),i]}function sI(t,n,e){var r=V(t),i=V(n),o=Ld(i);if(r){var a=1/L(r),u=1/($t(r)*$t(r)),s=-(u+e*(o*o*a*a)-1+e),c=(e-1)*u,f=(-s+G(s*s-4*c))/2;return[xa(on(1/G(f)),e)*xt(t),xa(on(G((f/u-1)/e)),1-e)*xt(n)]}return[0,xa(on(o),1-e)*xt(n)]}function xa(t,n){if(!n)return t;if(n===1)return pn($t(t/2+se));for(var e=1,r=G(1-n),i=G(n),o=0;V(i)>Q;o++){if(t%U){var a=on(r*$t(t)/e);a<0&&(a+=U),t+=a+~~(t/U)*U}else t+=t;i=(e+r)/2,r=G(e*r),i=((e=i)-r)/2}return t/(Ka(2,o)*e)}function jf(t,n){var e=(Ut-1)/(Ut+1),r=G(1-e*e),i=xa(tt,r*r),o=-1,a=pn($t(U/4+V(n)/2)),u=er(o*a)/G(e),s=fI(u*q(o*t),u*L(o*t)),c=sI(s[0],s[1],r*r);return[-c[1],(n>=0?1:-1)*(.5*i-c[0])]}function fI(t,n){var e=t*t,r=n+1,i=1-e-n*n;return[.5*((t>=0?tt:-tt)-Ct(i,2*t)),-.25*pn(i*i+4*e)+.5*pn(r*r+e)]}function lI(t,n){var e=n[0]*n[0]+n[1]*n[1];return[(t[0]*n[0]+t[1]*n[1])/e,(t[1]*n[0]-t[0]*n[1])/e]}jf.invert=function(t,n){var e=(Ut-1)/(Ut+1),r=G(1-e*e),i=xa(tt,r*r),o=-1,a=cI(.5*i-n,-t,r*r),u=lI(a[0],a[1]),s=Ct(u[1],u[0])/o;return[s,2*on(er(.5/o*pn(e*u[0]*u[0]+e*u[1]*u[1])))-tt]};function hI(){return ot(o8(jf)).scale(151.496)}function a8(t){var n=L(t),e=q(t),r=bv(t);r.invert=bv(-t);function i(o,a){var u=r(o,a);o=u[0],a=u[1];var s=L(a),c=q(a),f=q(o),h=xn(n*s+e*c*f),l=L(h),d=V(l)>Q?h/l:1;return[d*e*L(o),(V(o)>tt?d:-d)*(n*c-e*s*f)]}return i.invert=function(o,a){var u=G(o*o+a*a),s=-L(u),c=q(u),f=u*c,h=-a*s,l=u*n,d=G(f*f+h*h-l*l),g=Ct(f*l+h*d,h*l-f*d),p=(u>tt?-1:1)*Ct(o*s,u*q(g)*c+a*L(g)*s);return r.invert(p,g)},i}function bv(t){var n=L(t),e=q(t);return function(r,i){var o=q(i),a=q(r)*o,u=L(r)*o,s=L(i);return[Ct(u,a*e-s*n),st(s*e+a*n)]}}function dI(){var t=0,n=mn(a8),e=n(t),r=e.rotate,i=e.stream,o=Kw();return e.parallel=function(a){if(!arguments.length)return t*kt;var u=e.rotate();return n(t=a*Tt).rotate(u)},e.rotate=function(a){return arguments.length?(r.call(e,[a[0],a[1]-t*kt]),o.center([-a[0],-a[1]]),e):(a=r.call(e),a[1]+=t*kt,a)},e.stream=function(a){return a=i(a),a.sphere=function(){a.polygonStart();var u=.01,s=o.radius(90-u)().coordinates[0],c=s.length-1,f=-1,h;for(a.lineStart();++f<c;)a.point((h=s[f])[0],h[1]);for(a.lineEnd(),s=o.radius(90+u)().coordinates[0],c=s.length-1,a.lineStart();--f>=0;)a.point((h=s[f])[0],h[1]);a.lineEnd(),a.polygonEnd()},a},e.scale(79.4187).parallel(45).clipAngle(180-.001)}var gI=3,ng=st(1-1/gI)*kt,Kl=Bd(0);function u8(t){var n=ng*Tt,e=We(U,n)[0]-We(-U,n)[0],r=Kl(0,n)[1],i=We(0,n)[1],o=Ne-i,a=ze/t,u=4/ze,s=r+o*o*4/ze;function c(f,h){var l,d=V(h);if(d>n){var g=Zn(t-1,wr(0,Io((f+U)/a)));f+=U*(t-1)/t-g*a,l=We(f,d),l[0]=l[0]*ze/e-ze*(t-1)/(2*t)+g*ze/t,l[1]=r+(l[1]-i)*4*o/ze,h<0&&(l[1]=-l[1])}else l=Kl(f,h);return l[0]*=u,l[1]/=s,l}return c.invert=function(f,h){f/=u,h*=s;var l=V(h);if(l>r){var d=Zn(t-1,wr(0,Io((f+U)/a)));f=(f+U*(t-1)/t-d*a)*e/ze;var g=We.invert(f,.25*(l-r)*ze/o+i);return g[0]-=U*(t-1)/t-d*a,h<0&&(g[1]=-g[1]),g}return Kl.invert(f,h)},c}function pI(t,n){return[t,n&1?90-Q:ng]}function vI(t,n){return[t,n&1?-90+Q:-ng]}function mI(t){return[t[0]*(1-Q),t[1]]}function yI(t){var n=[].concat(Xe(-180,180+t/2,t).map(pI),Xe(180,-180-t/2,-t).map(vI));return{type:"Polygon",coordinates:[t===180?n.map(mI):n]}}function wI(){var t=4,n=mn(u8),e=n(t),r=e.stream;return e.lobes=function(i){return arguments.length?n(t=+i):t},e.stream=function(i){var o=e.rotate(),a=r(i),u=(e.rotate([0,0]),r(i));return e.rotate(o),a.sphere=function(){ce(yI(180/t),u)},a},e.scale(239.75)}function c8(t){var n=1+t,e=L(1/n),r=st(e),i=2*G(U/(o=U+4*r*n)),o,a=.5*i*(n+G(t*(2+t))),u=t*t,s=n*n;function c(f,h){var l=1-L(h),d,g;if(l&&l<2){var p=tt-h,v=25,m;do{var w=L(p),_=q(p),y=r+Ct(w,n-_),M=1+s-2*n*_;p-=m=(p-u*r-n*w+M*y-.5*l*o)/(2*n*w*y)}while(V(m)>Gi&&--v>0);d=i*G(M),g=f*y/U}else d=i*(t+l),g=f*r/U;return[d*L(g),a-d*q(g)]}return c.invert=function(f,h){var l=f*f+(h-=a)*h,d=(1+s-l/(i*i))/(2*n),g=xn(d),p=L(g),v=r+Ct(p,n-d);return[st(f/G(l))*U/v,st(1-2*(g-u*r-n*p+(1+s-2*n*d)*v)/o)]},c}function _I(){var t=1,n=mn(c8),e=n(t);return e.ratio=function(r){return arguments.length?n(t=+r):t},e.scale(167.774).center([0,18.67])}var s8=.7109889596207567,tl=.0528035274542;function nl(t,n){return n>-.7109889596207567?(t=ri(t,n),t[1]+=tl,t):Tr(t,n)}nl.invert=function(t,n){return n>-.7109889596207567?ri.invert(t,n-tl):Tr.invert(t,n)};function bI(){return ot(nl).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function el(t,n){return V(n)>s8?(t=ri(t,n),t[1]-=n>0?tl:-.0528035274542,t):Tr(t,n)}el.invert=function(t,n){return V(n)>s8?ri.invert(t,n+(n>0?tl:-.0528035274542)):Tr.invert(t,n)};function MI(){return ot(el).scale(152.63)}function f8(t,n,e,r){var i=G(4*U/(2*e+(1+t-n/2)*L(2*e)+(t+n)/2*L(4*e)+n/2*L(6*e))),o=G(r*L(e)*G((1+t*q(2*e)+n*q(4*e))/(1+t+n))),a=e*s(1);function u(h){return G(1+t*q(2*h)+n*q(4*h))}function s(h){var l=h*e;return(2*l+(1+t-n/2)*L(2*l)+(t+n)/2*L(4*l)+n/2*L(6*l))/e}function c(h){return u(h)*L(h)}var f=function(h,l){var d=e*ws(s,a*L(l)/e,l/U);isNaN(d)&&(d=e*xt(l));var g=i*u(d);return[g*o*h/U*q(d),g/o*L(d)]};return f.invert=function(h,l){var d=ws(c,l*o/i);return[h*U/(q(d)*i*o*u(d)),st(e*s(d/e)/a)]},e===0&&(i=G(r/U),f=function(h,l){return[h*i,L(l)/i]},f.invert=function(h,l){return[h/i,st(l*i)]}),f}function xI(){var t=1,n=0,e=45*Tt,r=2,i=mn(f8),o=i(t,n,e,r);return o.a=function(a){return arguments.length?i(t=+a,n,e,r):t},o.b=function(a){return arguments.length?i(t,n=+a,e,r):n},o.psiMax=function(a){return arguments.length?i(t,n,e=+a*Tt,r):e*kt},o.ratio=function(a){return arguments.length?i(t,n,e,r=+a):r},o.scale(180.739)}function sh(t,n,e,r,i,o,a,u,s,c,f){if(f.nanEncountered)return NaN;var h,l,d,g,p,v,m,w,_,y;if(h=e-n,l=t(n+h*.25),d=t(e-h*.25),isNaN(l)){f.nanEncountered=!0;return}if(isNaN(d)){f.nanEncountered=!0;return}return g=h*(r+4*l+i)/12,p=h*(i+4*d+o)/12,v=g+p,y=(v-a)/15,c>s?(f.maxDepthCount++,v+y):Math.abs(y)<u?v+y:(m=n+h*.5,w=sh(t,n,m,r,l,i,g,u*.5,s,c+1,f),isNaN(w)?(f.nanEncountered=!0,NaN):(_=sh(t,m,e,i,d,o,p,u*.5,s,c+1,f),isNaN(_)?(f.nanEncountered=!0,NaN):w+_))}function SI(t,n,e,r,i){var o={maxDepthCount:0,nanEncountered:!1};i===void 0&&(i=20);var a=t(n),u=t(.5*(n+e)),s=t(e),c=(a+4*u+s)*(e-n)/6,f=sh(t,n,e,a,u,s,c,r,i,1,o);return f}function l8(t,n,e){function r(d){return t+(1-t)*Ka(1-Ka(d,n),1/n)}function i(d){return SI(r,0,d,1e-4)}for(var o=1/i(1),a=1e3,u=(1+1e-8)*o,s=[],c=0;c<=a;c++)s.push(i(c/a)*u);function f(d){var g=0,p=a,v=a>>1;do s[v]>d?p=v:g=v,v=g+p>>1;while(v>g);var m=s[v+1]-s[v];return m&&(m=(d-s[v+1])/m),(v+1+m)/a}var h=2*f(1)/U*o/e,l=function(d,g){var p=f(V(L(g))),v=r(p)*d;return p/=h,[v,g>=0?p:-p]};return l.invert=function(d,g){var p;return g*=h,V(g)<1&&(p=xt(g)*st(i(V(g))*o)),[d/r(V(g)),p]},l}function EI(){var t=0,n=2.5,e=1.183136,r=mn(l8),i=r(t,n,e);return i.alpha=function(o){return arguments.length?r(t=+o,n,e):t},i.k=function(o){return arguments.length?r(t,n=+o,e):n},i.gamma=function(o){return arguments.length?r(t,n,e=+o):e},i.scale(152.63)}function $I(t,n){return V(t[0]-n[0])<Q&&V(t[1]-n[1])<Q}function Mv(t,n){for(var e=-1,r=t.length,i=t[0],o,a,u,s=[];++e<r;){o=t[e],a=(o[0]-i[0])/n,u=(o[1]-i[1])/n;for(var c=0;c<n;++c)s.push([i[0]+c*a,i[1]+c*u]);i=o}return s.push(o),s}function AI(t){var n=[],e,r,i,o,a,u,s,c=t[0].length;for(s=0;s<c;++s)e=t[0][s],r=e[0][0],i=e[0][1],o=e[1][1],a=e[2][0],u=e[2][1],n.push(Mv([[r+Q,i+Q],[r+Q,o-Q],[a-Q,o-Q],[a-Q,u+Q]],30));for(s=t[1].length-1;s>=0;--s)e=t[1][s],r=e[0][0],i=e[0][1],o=e[1][1],a=e[2][0],u=e[2][1],n.push(Mv([[a-Q,u-Q],[a-Q,o+Q],[r+Q,o+Q],[r+Q,i-Q]],30));return{type:"Polygon",coordinates:[af(n)]}}function ii(t,n,e){var r,i;function o(s,c){for(var f=c<0?-1:1,h=n[+(c<0)],l=0,d=h.length-1;l<d&&s>h[l][2][0];++l);var g=t(s-h[l][1][0],c);return g[0]+=t(h[l][1][0],f*c>f*h[l][0][1]?h[l][0][1]:c)[0],g}e?o.invert=e(o):t.invert&&(o.invert=function(s,c){for(var f=i[+(c<0)],h=n[+(c<0)],l=0,d=f.length;l<d;++l){var g=f[l];if(g[0][0]<=s&&s<g[1][0]&&g[0][1]<=c&&c<g[1][1]){var p=t.invert(s-t(h[l][1][0],0)[0],c);return p[0]+=h[l][1][0],$I(o(p[0],p[1]),[s,c])?p:null}}});var a=ot(o),u=a.stream;return a.stream=function(s){var c=a.rotate(),f=u(s),h=(a.rotate([0,0]),u(s));return a.rotate(c),f.sphere=function(){ce(r,h)},f},a.lobes=function(s){return arguments.length?(r=AI(s),n=s.map(function(c){return c.map(function(f){return[[f[0][0]*Tt,f[0][1]*Tt],[f[1][0]*Tt,f[1][1]*Tt],[f[2][0]*Tt,f[2][1]*Tt]]})}),i=n.map(function(c){return c.map(function(f){var h=t(f[0][0],f[0][1])[0],l=t(f[2][0],f[2][1])[0],d=t(f[1][0],f[0][1])[1],g=t(f[1][0],f[1][1])[1],p;return d>g&&(p=d,d=g,g=p),[[h,d],[l,g]]})}),a):n.map(function(c){return c.map(function(f){return[[f[0][0]*kt,f[0][1]*kt],[f[1][0]*kt,f[1][1]*kt],[f[2][0]*kt,f[2][1]*kt]]})})},n!=null&&a.lobes(n),a}var PI=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function TI(){return ii(Kf,PI).scale(160.857)}var RI=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function NI(){return ii(el,RI).scale(152.63)}var CI=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function kI(){return ii(ri,CI).scale(169.529)}var II=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function zI(){return ii(ri,II).scale(169.529).rotate([20,0])}var DI=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function OI(){return ii(nl,DI,Ud).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var FI=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function LI(){return ii(Tr,FI).scale(152.63).rotate([-20,0])}function eg(t,n){return[3/ze*t*G(U*U/3-n*n),n]}eg.invert=function(t,n){return[ze/3*t/G(U*U/3-n*n),n]};function qI(){return ot(eg).scale(158.837)}function h8(t){function n(e,r){if(V(V(r)-tt)<Q)return[0,r<0?-2:2];var i=L(r),o=Ka((1+i)/(1-i),t/2),a=.5*(o+1/o)+q(e*=t);return[2*L(e)/a,(o-1/o)/a]}return n.invert=function(e,r){var i=V(r);if(V(i-2)<Q)return e?null:[0,xt(r)*tt];if(i>2)return null;e/=2,r/=2;var o=e*e,a=r*r,u=2*r/(1+o+a);return u=Ka((1+u)/(1-u),1/t),[Ct(2*e,1-o-a)/t,st((u-1)/(u+1))]},n}function UI(){var t=.5,n=mn(h8),e=n(t);return e.spacing=function(r){return arguments.length?n(t=+r):t},e.scale(124.75)}var Ql=U/Ut;function rg(t,n){return[t*(1+G(q(n)))/2,n/(q(n/2)*q(t/6))]}rg.invert=function(t,n){var e=V(t),r=V(n),i=Q,o=tt;r<Ql?o*=r/Ql:i+=6*xn(Ql/r);for(var a=0;a<25;a++){var u=L(o),s=G(q(o)),c=L(o/2),f=q(o/2),h=L(i/6),l=q(i/6),d=.5*i*(1+s)-e,g=o/(f*l)-r,p=s?-.25*i*u/s:0,v=.5*(1+s),m=(1+.5*o*c/f)/(f*l),w=o/f*(h/6)/(l*l),_=p*w-m*v,y=(d*w-g*v)/_,M=(g*p-d*m)/_;if(o-=y,i-=M,V(y)<Q&&V(M)<Q)break}return[t<0?-i:i,n<0?-o:o]};function GI(){return ot(rg).scale(97.2672)}function ig(t,n){var e=t*t,r=n*n;return[t*(.975534+r*(-.119161+e*-.0143059+r*-.0547009)),n*(1.00384+e*(.0802894+r*-.02855+e*199025e-9)+r*(.0998909+r*-.0491032))]}ig.invert=function(t,n){var e=xt(t)*U,r=n/2,i=50;do{var o=e*e,a=r*r,u=e*r,s=e*(.975534+a*(-.119161+o*-.0143059+a*-.0547009))-t,c=r*(1.00384+o*(.0802894+a*-.02855+o*199025e-9)+a*(.0998909+a*-.0491032))-n,f=.975534-a*(.119161+3*o*.0143059+a*.0547009),h=-u*(2*.119161+4*.0547009*a+2*.0143059*o),l=u*(2*.0802894+4*199025e-9*o+2*-.02855*a),d=1.00384+o*(.0802894+199025e-9*o)+a*(3*(.0998909-.02855*o)-5*.0491032*a),g=h*l-d*f,p=(c*h-s*d)/g,v=(s*l-c*f)/g;e-=p,r-=v}while((V(p)>Q||V(v)>Q)&&--i>0);return i&&[e,r]};function HI(){return ot(ig).scale(139.98)}function og(t,n){return[L(t)/q(n),$t(n)*q(t)]}og.invert=function(t,n){var e=t*t,r=n*n,i=r+1,o=e+i,a=t?xe*G((o-G(o*o-4*e))/e):1/G(i);return[st(t*a),xt(n)*xn(a)]};function BI(){return ot(og).scale(144.049).clipAngle(90-.001)}function d8(t){var n=q(t),e=$t(se+t/2);function r(i,o){var a=o-t,u=V(a)<Q?i*n:V(u=se+o/2)<Q||V(V(u)-tt)<Q?0:i*a/pn($t(u)/e);return[u,a]}return r.invert=function(i,o){var a,u=o+t;return[V(o)<Q?i/n:V(a=se+u/2)<Q||V(V(a)-tt)<Q?0:i*pn($t(a)/e)/o,u]},r}function YI(){return Yo(d8).parallel(40).scale(158.837)}function ag(t,n){return[t,1.25*pn($t(se+.4*n))]}ag.invert=function(t,n){return[t,2.5*on(er(.8*n))-.625*U]};function VI(){return ot(ag).scale(108.318)}function g8(t){var n=t.length-1;function e(r,i){for(var o=q(i),a=2/(1+o*q(r)),u=a*o*L(r),s=a*L(i),c=n,f=t[c],h=f[0],l=f[1],d;--c>=0;)f=t[c],h=f[0]+u*(d=h)-s*l,l=f[1]+u*l+s*d;return h=u*(d=h)-s*l,l=u*l+s*d,[h,l]}return e.invert=function(r,i){var o=20,a=r,u=i;do{for(var s=n,c=t[s],f=c[0],h=c[1],l=0,d=0,g;--s>=0;)c=t[s],l=f+a*(g=l)-u*d,d=h+a*d+u*g,f=c[0]+a*(g=f)-u*h,h=c[1]+a*h+u*g;l=f+a*(g=l)-u*d,d=h+a*d+u*g,f=a*(g=f)-u*h-r,h=a*h+u*g-i;var p=l*l+d*d,v,m;a-=v=(f*l+h*d)/p,u-=m=(h*l-f*d)/p}while(V(v)+V(m)>Q*Q&&--o>0);if(o){var w=G(a*a+u*u),_=2*on(w*.5),y=L(_);return[Ct(a*y,w*q(_)),w?st(u*y/w):0]}},e}var WI=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],XI=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],ZI=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],KI=[[.9245,0],[0,0],[.01943,0]],QI=[[.721316,0],[0,0],[-.00881625,-.00617325]];function JI(){return Vo(WI,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function jI(){return Vo(XI,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function tz(){return Vo(ZI,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function nz(){return Vo(KI,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function ez(){return Vo(QI,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Vo(t,n){var e=ot(g8(t)).rotate(n).clipAngle(90),r=$o(n),i=e.center;return delete e.rotate,e.center=function(o){return arguments.length?i(r(o)):r.invert(i())},e}var Ss=G(6),Es=G(7);function ug(t,n){var e=st(7*L(n)/(3*Ss));return[Ss*t*(2*q(2*e/3)-1)/Es,9*L(e/3)/Es]}ug.invert=function(t,n){var e=3*st(n*Es/9);return[t*Es/(Ss*(2*q(2*e/3)-1)),st(L(e)*3*Ss/7)]};function rz(){return ot(ug).scale(164.859)}function cg(t,n){for(var e=(1+xe)*L(n),r=n,i=0,o;i<25&&(r-=o=(L(r/2)+L(r)-e)/(.5*q(r/2)+q(r)),!(V(o)<Q));i++);return[t*(1+2*q(r)/q(r/2))/(3*Ut),2*G(3)*L(r/2)/G(2+Ut)]}cg.invert=function(t,n){var e=n*G(2+Ut)/(2*G(3)),r=2*st(e);return[3*Ut*t/(1+2*q(r)/q(r/2)),st((e+L(r))/(1+xe))]};function iz(){return ot(cg).scale(188.209)}function sg(t,n){for(var e=G(6/(4+U)),r=(1+U/4)*L(n),i=n/2,o=0,a;o<25&&(i-=a=(i/2+L(i)-r)/(.5+q(i)),!(V(a)<Q));o++);return[e*(.5+q(i))*t/1.5,e*i]}sg.invert=function(t,n){var e=G(6/(4+U)),r=n/e;return V(V(r)-tt)<Q&&(r=r<0?-tt:tt),[1.5*t/(e*(.5+q(r))),st((r/2+L(r))/(1+U/4))]};function oz(){return ot(sg).scale(166.518)}function fg(t,n){var e=n*n,r=e*e,i=e*r;return[t*(.84719-.13063*e+i*i*(-.04515+.05494*e-.02326*r+.00331*i)),n*(1.01183+r*r*(-.02625+.01926*e-.00396*r))]}fg.invert=function(t,n){var e=n,r=25,i,o,a,u;do o=e*e,a=o*o,e-=i=(e*(1.01183+a*a*(-.02625+.01926*o-.00396*a))-n)/(1.01183+a*a*(9*-.02625+11*.01926*o+13*-.00396*a));while(V(i)>Gi&&--r>0);return o=e*e,a=o*o,u=o*a,[t/(.84719-.13063*o+u*u*(-.04515+.05494*o-.02326*a+.00331*u)),e]};function az(){return ot(fg).scale(175.295)}function lg(t,n){return[t*(1+q(n))/2,2*(n-$t(n/2))]}lg.invert=function(t,n){for(var e=n/2,r=0,i=1/0;r<10&&V(i)>Q;++r){var o=q(n/2);n-=i=(n-$t(n/2)-e)/(1-.5/(o*o))}return[2*t/(1+q(n)),n]};function uz(){return ot(lg).scale(152.63)}var cz=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function sz(){return ii(Zf(1/0),cz).rotate([20,0]).scale(152.63)}function hg(t,n){var e=L(n),r=q(n),i=xt(t);if(t===0||V(n)===tt)return[0,n];if(n===0)return[t,0];if(V(t)===tt)return[t*r,tt*e];var o=U/(2*t)-2*t/U,a=2*n/U,u=(1-a*a)/(e-a),s=o*o,c=u*u,f=1+s/c,h=1+c/s,l=(o*e/u-o/2)/f,d=(c*e/s+u/2)/h,g=l*l+r*r/f,p=d*d-(c*e*e/s+u*e-1)/h;return[tt*(l+G(g)*i),tt*(d+G(p<0?0:p)*xt(-n*o)*i)]}hg.invert=function(t,n){t/=tt,n/=tt;var e=t*t,r=n*n,i=e+r,o=U*U;return[t?(i-1+G((1-i)*(1-i)+4*e))/(2*t)*tt:0,ws(function(a){return i*(U*L(a)-2*a)*U+4*a*a*(n-L(a))+2*U*a-o*n},0)]};function fz(){return ot(hg).scale(127.267)}var dg=1.0148,gg=.23185,pg=-.14499,vg=.02406,lz=dg,hz=5*gg,dz=7*pg,gz=9*vg,xv=1.790857183;function mg(t,n){var e=n*n;return[t,n*(dg+e*e*(gg+e*(pg+vg*e)))]}mg.invert=function(t,n){n>xv?n=xv:n<-1.790857183&&(n=-1.790857183);var e=n,r;do{var i=e*e;e-=r=(e*(dg+i*i*(gg+i*(pg+vg*i)))-n)/(lz+i*i*(hz+i*(dz+gz*i)))}while(V(r)>Q);return[t,e]};function pz(){return ot(mg).scale(139.319)}function yg(t,n){if(V(n)<Q)return[t,0];var e=$t(n),r=t*L(n);return[L(r)/e,n+(1-q(r))/e]}yg.invert=function(t,n){if(V(n)<Q)return[t,0];var e=t*t+n*n,r=n*.5,i=10,o;do{var a=$t(r),u=1/q(r),s=e-2*n*r+r*r;r-=o=(a*s+2*(r-n))/(2+s*u*u+2*(r-n)*a)}while(V(o)>Q&&--i>0);return a=$t(r),[(V(n)<V(r+1/a)?st(t*a):xt(n)*xt(t)*(xn(V(t*a))+tt))/L(r),r]};function vz(){return ot(yg).scale(103.74)}function mz(t,n){var e=Sv(t[1],t[0]),r=Sv(n[1],n[0]),i=wz(e,r),o=Ev(e)/Ev(r);return pc([1,0,t[0][0],0,1,t[0][1]],pc([o,0,0,0,o,0],pc([q(i),L(i),0,-L(i),q(i),0],[1,0,-n[0][0],0,1,-n[0][1]])))}function yz(t){var n=1/(t[0]*t[4]-t[1]*t[3]);return[n*t[4],-n*t[1],n*(t[1]*t[5]-t[2]*t[4]),-n*t[3],n*t[0],n*(t[2]*t[3]-t[0]*t[5])]}function pc(t,n){return[t[0]*n[0]+t[1]*n[3],t[0]*n[1]+t[1]*n[4],t[0]*n[2]+t[1]*n[5]+t[2],t[3]*n[0]+t[4]*n[3],t[3]*n[1]+t[4]*n[4],t[3]*n[2]+t[4]*n[5]+t[5]]}function Sv(t,n){return[t[0]-n[0],t[1]-n[1]]}function Ev(t){return G(t[0]*t[0]+t[1]*t[1])}function wz(t,n){return Ct(t[0]*n[1]-t[1]*n[0],t[0]*n[0]+t[1]*n[1])}function rl(t,n){e(t,{transform:null});function e(s,c){if(s.edges=bz(s.face),c.face){var f=s.shared=_z(s.face,c.face),h=mz(f.map(c.project),f.map(s.project));s.transform=c.transform?pc(c.transform,h):h;for(var l=c.edges,d=0,g=l.length;d<g;++d)Nr(f[0],l[d][1])&&Nr(f[1],l[d][0])&&(l[d]=s),Nr(f[0],l[d][0])&&Nr(f[1],l[d][1])&&(l[d]=s);for(l=s.edges,d=0,g=l.length;d<g;++d)Nr(f[0],l[d][0])&&Nr(f[1],l[d][1])&&(l[d]=c),Nr(f[0],l[d][1])&&Nr(f[1],l[d][0])&&(l[d]=c)}else s.transform=c.transform;return s.children&&s.children.forEach(function(p){e(p,s)}),s}function r(s,c){var f=n(s,c),h=f.project([s*kt,c*kt]),l;return(l=f.transform)?[l[0]*h[0]+l[1]*h[1]+l[2],-(l[3]*h[0]+l[4]*h[1]+l[5])]:(h[1]=-h[1],h)}v8(t)&&(r.invert=function(s,c){var f=i(t,[s,-c]);return f&&(f[0]*=Tt,f[1]*=Tt,f)});function i(s,c){var f=s.project.invert,h=s.transform,l=c;if(h&&(h=yz(h),l=[h[0]*l[0]+h[1]*l[1]+h[2],h[3]*l[0]+h[4]*l[1]+h[5]]),f&&s===o(d=f(l)))return d;for(var d,g=s.children,p=0,v=g&&g.length;p<v;++p)if(d=i(g[p],c))return d}function o(s){return n(s[0]*Tt,s[1]*Tt)}var a=ot(r),u=a.stream;return a.stream=function(s){var c=a.rotate(),f=u(s),h=(a.rotate([0,0]),u(s));return a.rotate(c),f.sphere=function(){h.polygonStart(),h.lineStart(),p8(h,t),h.lineEnd(),h.polygonEnd()},f},a.angle(-30)}function p8(t,n,e){var r,i=n.edges,o=i.length,a,u={type:"MultiPoint",coordinates:n.face},s=n.face.filter(function(p){return V(p[1])!==90}),c=Yw({type:"MultiPoint",coordinates:s}),f=!1,h=-1,l=c[1][0]-c[0][0],d=l===180||l===360?[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2]:Ho(u);if(e)for(;++h<o&&i[h]!==e;);++h;for(var g=0;g<o;++g)a=i[(g+h)%o],Array.isArray(a)?(f||(t.point((r=is(a[0],d)(Q))[0],r[1]),f=!0),t.point((r=is(a[1],d)(Q))[0],r[1])):(f=!1,a!==e&&p8(t,a,n))}function Nr(t,n){return t&&n&&t[0]===n[0]&&t[1]===n[1]}function _z(t,n){for(var e,r,i=t.length,o=null,a=0;a<i;++a){e=t[a];for(var u=n.length;--u>=0;)if(r=n[u],e[0]===r[0]&&e[1]===r[1]){if(o)return[o,e];o=e}}}function bz(t){for(var n=t.length,e=[],r=t[n-1],i=0;i<n;++i)e.push([r,r=t[i]]);return e}function v8(t){return t.project.invert||t.children&&t.children.some(v8)}var Mz=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]];const $s=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(t){return t.map(function(n){return Mz[n]})});function xz(t){t=t||function(e){var r=Ho({type:"MultiPoint",coordinates:e});return ad().scale(1).translate([0,0]).rotate([-r[0],-r[1]])};var n=$s.map(function(e){return{face:e,project:t(e)}});return[-1,0,0,1,0,1,4,5].forEach(function(e,r){var i=n[e];i&&(i.children||(i.children=[])).push(n[r])}),rl(n[0],function(e,r){return n[e<-U/2?r<0?6:4:e<0?r<0?2:0:e<U/2?r<0?3:1:r<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var m8=2/G(3);function y8(t,n){var e=We(t,n);return[e[0]*m8,e[1]]}y8.invert=function(t,n){return We.invert(t/m8,n)};function Sz(t){t=t||function(e){var r=Ho({type:"MultiPoint",coordinates:e});return ot(y8).translate([0,0]).scale(1).rotate(r[1]>0?[-r[0],0]:[180-r[0],180])};var n=$s.map(function(e){return{face:e,project:t(e)}});return[-1,0,0,1,0,1,4,5].forEach(function(e,r){var i=n[e];i&&(i.children||(i.children=[])).push(n[r])}),rl(n[0],function(e,r){return n[e<-U/2?r<0?6:4:e<0?r<0?2:0:e<U/2?r<0?3:1:r<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function w8(t){t=t||function(a){var u=a.length===6?Ho({type:"MultiPoint",coordinates:a}):a[0];return ad().scale(1).translate([0,0]).rotate([-u[0],-u[1]])};var n=$s.map(function(a){for(var u=a.map(jl),s=u.length,c=u[s-1],f,h=[],l=0;l<s;++l)f=u[l],h.push($v([c[0]*.9486832980505138+f[0]*.31622776601683794,c[1]*.9486832980505138+f[1]*.31622776601683794,c[2]*.9486832980505138+f[2]*.31622776601683794]),$v([f[0]*.9486832980505138+c[0]*.31622776601683794,f[1]*.9486832980505138+c[1]*.31622776601683794,f[2]*.9486832980505138+c[2]*.31622776601683794])),c=f;return h}),e=[],r=[-1,0,0,1,0,1,4,5];n.forEach(function(a,u){for(var s=$s[u],c=s.length,f=e[u]=[],h=0;h<c;++h)n.push([s[h],a[(h*2+2)%(2*c)],a[(h*2+1)%(2*c)]]),r.push(u),f.push(Ez(jl(a[(h*2+2)%(2*c)]),jl(a[(h*2+1)%(2*c)])))});var i=n.map(function(a){return{project:t(a),face:a}});r.forEach(function(a,u){var s=i[a];s&&(s.children||(s.children=[])).push(i[u])});function o(a,u){var s=q(u),c=[s*q(a),s*L(a),L(u)],f=a<-U/2?u<0?6:4:a<0?u<0?2:0:a<U/2?u<0?3:1:u<0?7:5,h=e[f];return i[Jl(h[0],c)<0?8+3*f:Jl(h[1],c)<0?8+3*f+1:Jl(h[2],c)<0?8+3*f+2:f]}return rl(i[0],o).angle(-30).scale(110.625).center([0,45])}function Jl(t,n){for(var e=0,r=t.length,i=0;e<r;++e)i+=t[e]*n[e];return i}function Ez(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function $v(t){return[Ct(t[1],t[0])*kt,st(wr(-1,Zn(1,t[2])))*kt]}function jl(t){var n=t[0]*Tt,e=t[1]*Tt,r=q(e);return[r*q(n),r*L(n),L(e)]}const vc=()=>{};function $z(t){if((e=t.length)<4)return!1;for(var n=0,e,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r<=0}function Az(t,n){for(var e=n[0],r=n[1],i=!1,o=0,a=t.length,u=a-1;o<a;u=o++){var s=t[o],c=s[0],f=s[1],h=t[u],l=h[0],d=h[1];f>r^d>r&&e<(l-c)*(r-f)/(d-f)+c&&(i=!i)}return i}function Pz(t,n){var e=n.stream,r;if(!e)throw new Error("invalid projection");switch(t&&t.type){case"Feature":r=_8;break;case"FeatureCollection":r=Tz;break;default:r=wg;break}return r(t,e)}function Tz(t,n){return{type:"FeatureCollection",features:t.features.map(function(e){return _8(e,n)})}}function _8(t,n){return{type:"Feature",id:t.id,properties:t.properties,geometry:wg(t.geometry,n)}}function Rz(t,n){return{type:"GeometryCollection",geometries:t.geometries.map(function(e){return wg(e,n)})}}function wg(t,n){if(!t)return null;if(t.type==="GeometryCollection")return Rz(t,n);var e;switch(t.type){case"Point":e=Av;break;case"MultiPoint":e=Av;break;case"LineString":e=Pv;break;case"MultiLineString":e=Pv;break;case"Polygon":e=t0;break;case"MultiPolygon":e=t0;break;case"Sphere":e=t0;break;default:return null}return ce(t,n(e)),e.result()}var In=[],Be=[],Av={point:function(t,n){In.push([t,n])},result:function(){var t=In.length?In.length<2?{type:"Point",coordinates:In[0]}:{type:"MultiPoint",coordinates:In}:null;return In=[],t}},Pv={lineStart:vc,point:function(t,n){In.push([t,n])},lineEnd:function(){In.length&&(Be.push(In),In=[])},result:function(){var t=Be.length?Be.length<2?{type:"LineString",coordinates:Be[0]}:{type:"MultiLineString",coordinates:Be}:null;return Be=[],t}},t0={polygonStart:vc,lineStart:vc,point:function(t,n){In.push([t,n])},lineEnd:function(){var t=In.length;if(t){do In.push(In[0].slice());while(++t<4);Be.push(In),In=[]}},polygonEnd:vc,result:function(){if(!Be.length)return null;var t=[],n=[];return Be.forEach(function(e){$z(e)?t.push([e]):n.push(e)}),n.forEach(function(e){var r=e[0];t.some(function(i){if(Az(i[0],r))return i.push(e),!0})||t.push([e])}),Be=[],t.length?t.length>1?{type:"MultiPolygon",coordinates:t}:{type:"Polygon",coordinates:t[0]}:null}};function _g(t){var n=t(tt,0)[0]-t(-tt,0)[0];function e(r,i){var o=V(r)<tt,a=t(o?r:r>0?r-U:r+U,i),u=(a[0]-a[1])*xe,s=(a[0]+a[1])*xe;if(o)return[u,s];var c=n*xe,f=u>0^s>0?-1:1;return[f*u-xt(s)*c,f*s-xt(u)*c]}return t.invert&&(e.invert=function(r,i){var o=(r+i)*xe,a=(i-r)*xe,u=V(o)<.5*n&&V(a)<.5*n;if(!u){var s=n*xe,c=o>0^a>0?-1:1,f=-c*r+(a>0?1:-1)*s,h=-c*i+(o>0?1:-1)*s;o=(-f-h)*xe,a=(f-h)*xe}var l=t.invert(o,a);return u||(l[0]+=o>0?U:-U),l}),ot(e).rotate([-90,-90,45]).clipAngle(180-.001)}function Nz(){return _g(Jf).scale(176.423)}function Cz(){return _g(jf).scale(111.48)}function kz(t,n){if(!(0<=(n=+n)&&n<=20))throw new Error("invalid digits");function e(c){var f=c.length,h=2,l=new Array(f);for(l[0]=+c[0].toFixed(n),l[1]=+c[1].toFixed(n);h<f;)l[h]=c[h],++h;return l}function r(c){return c.map(e)}function i(c){for(var f=e(c[0]),h=[f],l=1;l<c.length;l++){var d=e(c[l]);(d.length>2||d[0]!=f[0]||d[1]!=f[1])&&(h.push(d),f=d)}return h.length===1&&c.length>1&&h.push(e(c[c.length-1])),h}function o(c){return c.map(i)}function a(c){if(c==null)return c;var f;switch(c.type){case"GeometryCollection":f={type:"GeometryCollection",geometries:c.geometries.map(a)};break;case"Point":f={type:"Point",coordinates:e(c.coordinates)};break;case"MultiPoint":f={type:c.type,coordinates:r(c.coordinates)};break;case"LineString":f={type:c.type,coordinates:i(c.coordinates)};break;case"MultiLineString":case"Polygon":f={type:c.type,coordinates:o(c.coordinates)};break;case"MultiPolygon":f={type:"MultiPolygon",coordinates:c.coordinates.map(o)};break;default:return c}return c.bbox!=null&&(f.bbox=c.bbox),f}function u(c){var f={type:"Feature",properties:c.properties,geometry:a(c.geometry)};return c.id!=null&&(f.id=c.id),c.bbox!=null&&(f.bbox=c.bbox),f}if(t!=null)switch(t.type){case"Feature":return u(t);case"FeatureCollection":{var s={type:"FeatureCollection",features:t.features.map(u)};return t.bbox!=null&&(s.bbox=t.bbox),s}default:return a(t)}return t}function b8(t){var n=L(t);function e(r,i){var o=n?$t(r*n/2)/n:r/2;if(!i)return[2*o,-t];var a=2*on(o*L(i)),u=1/$t(i);return[L(a)*u,i+(1-q(a))*u-t]}return e.invert=function(r,i){if(V(i+=t)<Q)return[n?2*on(n*r/2)/n:r,0];var o=r*r+i*i,a=0,u=10,s;do{var c=$t(a),f=1/q(a),h=o-2*i*a+a*a;a-=s=(c*h+2*(a-i))/(2+h*f*f+2*(a-i)*c)}while(V(s)>Q&&--u>0);var l=r*(c=$t(a)),d=$t(V(i)<V(a+1/c)?st(l)*.5:xn(l)*.5+U/4)/L(a);return[n?2*on(n*d)/n:2*d,a]},e}function Iz(){return Yo(b8).scale(131.215)}var he=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];he.forEach(function(t){t[1]*=1.593415793900743});function bg(t,n){var e=Zn(18,V(n)*36/U),r=Io(e),i=e-r,o=(h=he[r])[0],a=h[1],u=(h=he[++r])[0],s=h[1],c=(h=he[Zn(19,++r)])[0],f=h[1],h;return[t*(u+i*(c-o)/2+i*i*(c-2*u+o)/2),xt(n)*(s+i*(f-a)/2+i*i*(f-2*s+a)/2)]}bg.invert=function(t,n){var e=n*90,r=Zn(18,V(e/5)),i=wr(0,Io(r));do{var o=he[i][1],a=he[i+1][1],u=he[Zn(19,i+2)][1],s=u-o,c=u-2*a+o,f=2*(V(n)-a)/s,h=c/s,l=f*(1-h*f*(1-2*h*f));if(l>=0||i===1){e=(n>=0?5:-5)*(l+r);var d=50,g;do r=Zn(18,V(e)/5),i=Io(r),l=r-i,o=he[i][1],a=he[i+1][1],u=he[Zn(19,i+2)][1],e-=(g=xt(n)*(a+l*(u-o)/2+l*l*(u-2*a+o)/2)-n)*kt;while(V(g)>Gi&&--d>0);break}}while(--i>=0);var p=he[i][0],v=he[i+1][0],m=he[Zn(19,i+2)][0];return[t/(v+l*(m-p)/2+l*l*(m-2*v+p)/2),e*Tt]};function zz(){return ot(bg).scale(152.63)}function Dz(t){function n(e,r){var i=q(r),o=(t-1)/(t-i*q(e));return[o*i*L(e),o*L(r)]}return n.invert=function(e,r){var i=e*e+r*r,o=G(i),a=(t-G(1-i*(t+1)/(t-1)))/((t-1)/o+o/(t-1));return[Ct(e*a,o*G(1-a*a)),o?st(r*a/o):0]},n}function M8(t,n){var e=Dz(t);if(!n)return e;var r=q(n),i=L(n);function o(a,u){var s=e(a,u),c=s[1],f=c*i/(t-1)+r;return[s[0]*r/f,c/f]}return o.invert=function(a,u){var s=(t-1)/(t-1-u*i);return e.invert(s*a,s*u*r)},o}function Oz(){var t=2,n=0,e=mn(M8),r=e(t,n);return r.distance=function(i){return arguments.length?e(t=+i,n):t},r.tilt=function(i){return arguments.length?e(t,n=i*Tt):n*kt},r.scale(432.147).clipAngle(xn(1/t)*kt-1e-6)}var il=1e-4,Tv=1e4,Mg=-180,fh=Mg+il,x8=180,lh=x8-il,xg=-90,hh=xg+il,Sg=90,dh=Sg-il;function Fz(t){return t.length>0}function Lz(t){return Math.floor(t*Tv)/Tv}function Rv(t){return t===xg||t===Sg?[0,t]:[Mg,Lz(t)]}function Eg(t){var n=t[0],e=t[1],r=!1;return n<=fh?(n=Mg,r=!0):n>=lh&&(n=x8,r=!0),e<=hh?(e=xg,r=!0):e>=dh&&(e=Sg,r=!0),r?[n,e]:t}function Nv(t){return t.map(Eg)}function Cv(t,n,e){for(var r=0,i=t.length;r<i;++r){var o=t[r].slice();e.push({index:-1,polygon:n,ring:o});for(var a=0,u=o.length;a<u;++a){var s=o[a],c=s[0],f=s[1];if(c<=fh||c>=lh||f<=hh||f>=dh){o[a]=Eg(s);for(var h=a+1;h<u;++h){var l=o[h],d=l[0],g=l[1];if(d>fh&&d<lh&&g>hh&&g<dh)break}if(h===a+1)continue;if(a){var p={index:-1,polygon:n,ring:o.slice(0,a+1)};p.ring[p.ring.length-1]=Rv(f),e[e.length-1]=p}else e.pop();if(h>=u)break;e.push({index:-1,polygon:n,ring:o=o.slice(h-1)}),o[0]=Rv(o[0][1]),a=-1,u=o.length}}}}function kv(t){var n,e=t.length,r={},i={},o,a,u,s,c;for(n=0;n<e;++n){if(o=t[n],a=o.ring[0],s=o.ring[o.ring.length-1],a[0]===s[0]&&a[1]===s[1]){o.polygon.push(o.ring),t[n]=null;continue}o.index=n,r[a]=i[s]=o}for(n=0;n<e;++n)if(o=t[n],o){if(a=o.ring[0],s=o.ring[o.ring.length-1],u=i[a],c=r[s],delete r[a],delete i[s],a[0]===s[0]&&a[1]===s[1]){o.polygon.push(o.ring);continue}u?(delete i[a],delete r[u.ring[0]],u.ring.pop(),t[u.index]=null,o={index:-1,polygon:u.polygon,ring:u.ring.concat(o.ring)},u===c?o.polygon.push(o.ring):(o.index=e++,t.push(r[o.ring[0]]=i[o.ring[o.ring.length-1]]=o))):c?(delete r[s],delete i[c.ring[c.ring.length-1]],o.ring.pop(),o={index:e++,polygon:c.polygon,ring:o.ring.concat(c.ring)},t[c.index]=null,t.push(r[o.ring[0]]=i[o.ring[o.ring.length-1]]=o)):(o.ring.push(o.ring[0]),o.polygon.push(o.ring))}}function Iv(t){var n={type:"Feature",geometry:$g(t.geometry)};return t.id!=null&&(n.id=t.id),t.bbox!=null&&(n.bbox=t.bbox),t.properties!=null&&(n.properties=t.properties),n}function $g(t){if(t==null)return t;var n,e,r,i;switch(t.type){case"GeometryCollection":n={type:"GeometryCollection",geometries:t.geometries.map($g)};break;case"Point":n={type:"Point",coordinates:Eg(t.coordinates)};break;case"MultiPoint":case"LineString":n={type:t.type,coordinates:Nv(t.coordinates)};break;case"MultiLineString":n={type:"MultiLineString",coordinates:t.coordinates.map(Nv)};break;case"Polygon":{var o=[];Cv(t.coordinates,o,e=[]),kv(e),n={type:"Polygon",coordinates:o};break}case"MultiPolygon":{e=[],r=-1,i=t.coordinates.length;for(var a=new Array(i);++r<i;)Cv(t.coordinates[r],a[r]=[],e);kv(e),n={type:"MultiPolygon",coordinates:a.filter(Fz)};break}default:return t}return t.bbox!=null&&(n.bbox=t.bbox),n}function qz(t){if(t==null)return t;switch(t.type){case"Feature":return Iv(t);case"FeatureCollection":{var n={type:"FeatureCollection",features:t.features.map(Iv)};return t.bbox!=null&&(n.bbox=t.bbox),n}default:return $g(t)}}function Ag(t,n){var e=$t(n/2),r=L(se*e);return[t*(.74482-.34588*r*r),1.70711*e]}Ag.invert=function(t,n){var e=n/1.70711,r=L(se*e);return[t/(.74482-.34588*r*r),2*on(e)]};function Uz(){return ot(Ag).scale(146.153)}function S8(t,n,e){var r=is(n,e),i=r(.5),o=$o([-i[0],-i[1]])(n),a=r.distance/2,u=-st(L(o[1]*Tt)/L(a)),s=[-i[0],-i[1],-(o[0]>0?U-u:u)*kt],c=ot(t(a)).rotate(s),f=$o(s),h=c.center;return delete c.rotate,c.center=function(l){return arguments.length?h(f(l)):f.invert(h())},c.clipAngle(90)}function E8(t){var n=q(t);function e(r,i){var o=Wa(r,i);return o[0]*=n,o}return e.invert=function(r,i){return Wa.invert(r/n,i)},e}function Gz(){return $8([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function $8(t,n){return S8(E8,t,n)}function A8(t){if(!(t*=2))return Wr;var n=-t/2,e=-n,r=t*t,i=$t(e),o=.5/L(e);function a(u,s){var c=xn(q(s)*q(u-n)),f=xn(q(s)*q(u-e)),h=s<0?-1:1;return c*=c,f*=f,[(c-f)/(2*t),h*G(4*r*f-(r-c+f)*(r-c+f))/(2*t)]}return a.invert=function(u,s){var c=s*s,f=q(G(c+(l=u+n)*l)),h=q(G(c+(l=u+e)*l)),l,d;return[Ct(d=f-h,l=(f+h)*i),(s<0?-1:1)*xn(G(l*l+d*d)*o)]},a}function Hz(){return P8([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function P8(t,n){return S8(A8,t,n)}function Pg(t,n){if(V(n)<Q)return[t,0];var e=V(n/tt),r=st(e);if(V(t)<Q||V(V(n)-tt)<Q)return[0,xt(n)*U*$t(r/2)];var i=q(r),o=V(U/t-t/U)/2,a=o*o,u=i/(e+i-1),s=u*(2/e-1),c=s*s,f=c+a,h=u-c,l=a+u;return[xt(t)*U*(o*h+G(a*h*h-f*(u*u-c)))/f,xt(n)*U*(s*l-o*G((a+1)*f-l*l))/f]}Pg.invert=function(t,n){if(V(n)<Q)return[t,0];if(V(t)<Q)return[0,tt*L(2*on(n/U))];var e=(t/=U)*t,r=(n/=U)*n,i=e+r,o=i*i,a=-V(n)*(1+i),u=a-2*r+e,s=-2*a+1+2*r+o,c=r/s+(2*u*u*u/(s*s*s)-9*a*u/(s*s))/27,f=(a-u*u/(3*s))/s,h=2*G(-f/3),l=xn(3*c/(f*h))/3;return[U*(i-1+G(1+2*(e-r)+o))/(2*t),xt(n)*U*(-h*q(l+U/3)-u/(3*s))]};function Bz(){return ot(Pg).scale(79.4183)}function Tg(t,n){if(V(n)<Q)return[t,0];var e=V(n/tt),r=st(e);if(V(t)<Q||V(V(n)-tt)<Q)return[0,xt(n)*U*$t(r/2)];var i=q(r),o=V(U/t-t/U)/2,a=o*o,u=i*(G(1+a)-o*i)/(1+a*e*e);return[xt(t)*U*u,xt(n)*U*G(1-u*(2*o+u))]}Tg.invert=function(t,n){if(!t)return[0,tt*L(2*on(n/U))];var e=V(t/U),r=(1-e*e-(n/=U)*n)/(2*e),i=r*r,o=G(i+1);return[xt(t)*U*(o-r),xt(n)*tt*L(2*Ct(G((1-2*r*e)*(r+o)-e),G(o+r+e)))]};function Yz(){return ot(Tg).scale(79.4183)}function Rg(t,n){if(V(n)<Q)return[t,0];var e=n/tt,r=st(e);if(V(t)<Q||V(V(n)-tt)<Q)return[0,U*$t(r/2)];var i=(U/t-t/U)/2,o=e/(1+q(r));return[U*(xt(t)*G(i*i+1-o*o)-i),U*o]}Rg.invert=function(t,n){if(!n)return[t,0];var e=n/U,r=(U*U*(1-e*e)-t*t)/(2*U*t);return[t?U*(xt(t)*G(r*r+1)-r):0,tt*L(2*on(e))]};function Vz(){return ot(Rg).scale(79.4183)}function Ng(t,n){if(!n)return[t,0];var e=V(n);if(!t||e===tt)return[0,n];var r=e/tt,i=r*r,o=(8*r-i*(i+2)-5)/(2*i*(r-1)),a=o*o,u=r*o,s=i+a+2*u,c=r+3*o,f=t/tt,h=f+1/f,l=xt(V(t)-tt)*G(h*h-4),d=l*l,g=s*(i+a*d-1)+(1-i)*(i*(c*c+4*a)+12*u*a+4*a*a),p=(l*(s+a-1)+2*G(g))/(4*s+d);return[xt(t)*tt*p,xt(n)*tt*G(1+l*V(p)-p*p)]}Ng.invert=function(t,n){var e;if(!t||!n)return[t,n];var r=xt(n);n=V(n)/U;var i=xt(t)*t/tt,o=(i*i-1+4*n*n)/V(i),a=o*o,u=n*(2-(n>.5?Zn(n,V(t)):0)),s=t*t+n*n,c=50;do{var f=u*u,h=(8*u-f*(f+2)-5)/(2*f*(u-1)),l=(3*u-f*u-10)/(2*f*u),d=h*h,g=u*h,p=u+h,v=p*p,m=u+3*h,w=v*(f+d*a-1)+(1-f)*(f*(m*m+4*d)+d*(12*g+4*d)),_=-2*p*(4*g*d+(1-4*f+3*f*f)*(1+l)+d*(-6+14*f-a+(-8+8*f-2*a)*l)+g*(-8+12*f+(-10+10*f-a)*l)),y=G(w),M=o*(v+d-1)+2*y-i*(4*v+a),x=o*(2*h*l+2*p*(1+l))+_/y-8*p*(o*(-1+d+v)+2*y)*(1+l)/(a+4*v);u-=e=M/x}while(e*s*s>Q&&--c>0);return[xt(t)*(G(o*o+4)+o)*U/4,r*tt*u]};function Wz(){return ot(Ng).scale(127.16)}function Xz(t,n,e,r,i){function o(a,u){var s=e*L(r*u),c=G(1-s*s),f=G(2/(1+c*q(a*=i)));return[t*c*f*L(a),n*s*f]}return o.invert=function(a,u){var s=a/t,c=u/n,f=G(s*s+c*c),h=2*st(f/2);return[Ct(a*$t(h),t*f)/i,f&&st(u*L(h)/(n*e*f))/r]},o}function T8(t,n,e,r){var i=U/3;t=wr(t,Q),n=wr(n,Q),t=Zn(t,tt),n=Zn(n,U-Q),e=wr(e,0),e=Zn(e,100-Q),r=wr(r,Q);var o=e/100+1,a=r/100,u=xn(o*q(i))/i,s=L(t)/L(u*tt),c=n/U,f=G(a*L(t/2)/L(n/2)),h=f/G(c*s*u),l=1/(f*G(c*s*u));return Xz(h,l,s,u,c)}function R8(){var t=65*Tt,n=60*Tt,e=20,r=200,i=mn(T8),o=i(t,n,e,r);return o.poleline=function(a){return arguments.length?i(t=+a*Tt,n,e,r):t*kt},o.parallels=function(a){return arguments.length?i(t,n=+a*Tt,e,r):n*kt},o.inflation=function(a){return arguments.length?i(t,n,e=+a,r):e},o.ratio=function(a){return arguments.length?i(t,n,e,r=+a):r},o.scale(163.775)}function Zz(){return R8().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var N8=4*U+3*G(3),zv=2*G(2*U*G(3)/N8),C8=Gd(zv*G(3)/U,zv,N8/6);function Kz(){return ot(C8).scale(176.84)}function Cg(t,n){return[t*G(1-3*n*n/(U*U)),n]}Cg.invert=function(t,n){return[t/G(1-3*n*n/(U*U)),n]};function Qz(){return ot(Cg).scale(152.63)}function kg(t,n){var e=q(n),r=q(t)*e,i=1-r,o=q(t=Ct(L(t)*e,-L(n))),a=L(t);return e=G(1-r*r),[a*e-o*i,-o*e-a*i]}kg.invert=function(t,n){var e=(t*t+n*n)/-2,r=G(-e*(2+e)),i=n*e+t*r,o=t*e-n*r,a=G(o*o+i*i);return[Ct(r*i,a*(1+e)),a?-st(r*o/a):0]};function Jz(){return ot(kg).rotate([0,-90,45]).scale(124.75).clipAngle(180-.001)}function Ig(t,n){var e=Wf(t,n);return[(e[0]+t/tt)/2,(e[1]+n)/2]}Ig.invert=function(t,n){var e=t,r=n,i=25;do{var o=q(r),a=L(r),u=L(2*r),s=a*a,c=o*o,f=L(e),h=q(e/2),l=L(e/2),d=l*l,g=1-c*h*h,p=g?xn(o*h)*G(v=1/g):v=0,v,m=.5*(2*p*o*l+e/tt)-t,w=.5*(p*a+r)-n,_=.5*v*(c*d+p*o*h*s)+.5/tt,y=v*(f*u/4-p*a*l),M=.125*v*(u*l-p*a*c*f),x=.5*v*(s*h+p*d*o)+.5,T=y*M-x*_,N=(w*y-m*x)/T,C=(m*M-w*_)/T;e-=N,r-=C}while((V(N)>Q||V(C)>Q)&&--i>0);return[e,r]};function k8(){return ot(Ig).scale(158.837)}const jz=Object.freeze(Object.defineProperty({__proto__:null,geoAiry:bk,geoAiryRaw:F6,geoAitoff:Mk,geoAitoffRaw:Wf,geoArmadillo:xk,geoArmadilloRaw:L6,geoAugust:Sk,geoAugustRaw:Xf,geoBaker:$k,geoBakerRaw:qd,geoBerghaus:Ak,geoBerghausRaw:q6,geoBertin1953:Tk,geoBertin1953Raw:G6,geoBoggs:Rk,geoBoggsRaw:Kf,geoBonne:Ck,geoBonneRaw:V6,geoBottomley:kk,geoBottomleyRaw:W6,geoBromley:Ik,geoBromleyRaw:X6,geoChamberlin:K6,geoChamberlinAfrica:Dk,geoChamberlinRaw:Z6,geoCollignon:Ok,geoCollignonRaw:We,geoCraig:Fk,geoCraigRaw:Q6,geoCraster:Lk,geoCrasterRaw:Hd,geoCylindricalEqualArea:qk,geoCylindricalEqualAreaRaw:Bd,geoCylindricalStereographic:Uk,geoCylindricalStereographicRaw:J6,geoEckert1:Gk,geoEckert1Raw:Yd,geoEckert2:Hk,geoEckert2Raw:Vd,geoEckert3:Bk,geoEckert3Raw:Wd,geoEckert4:Yk,geoEckert4Raw:Xd,geoEckert5:Vk,geoEckert5Raw:Zd,geoEckert6:Wk,geoEckert6Raw:Kd,geoEisenlohr:Xk,geoEisenlohrRaw:Qd,geoFahey:Zk,geoFaheyRaw:Jd,geoFoucaut:Kk,geoFoucautRaw:jd,geoFoucautSinusoidal:Qk,geoFoucautSinusoidalRaw:j6,geoGilbert:Jk,geoGingery:jk,geoGingeryRaw:t8,geoGinzburg4:tI,geoGinzburg4Raw:n8,geoGinzburg5:nI,geoGinzburg5Raw:e8,geoGinzburg6:eI,geoGinzburg6Raw:r8,geoGinzburg8:rI,geoGinzburg8Raw:tg,geoGinzburg9:iI,geoGinzburg9Raw:i8,geoGringorten:uI,geoGringortenQuincuncial:Nz,geoGringortenRaw:Jf,geoGuyou:hI,geoGuyouRaw:jf,geoHammer:Pk,geoHammerRaw:Zf,geoHammerRetroazimuthal:dI,geoHammerRetroazimuthalRaw:a8,geoHealpix:wI,geoHealpixRaw:u8,geoHill:_I,geoHillRaw:c8,geoHomolosine:MI,geoHomolosineRaw:el,geoHufnagel:xI,geoHufnagelRaw:f8,geoHyperelliptical:EI,geoHyperellipticalRaw:l8,geoInterrupt:ii,geoInterruptedBoggs:TI,geoInterruptedHomolosine:NI,geoInterruptedMollweide:kI,geoInterruptedMollweideHemispheres:zI,geoInterruptedQuarticAuthalic:sz,geoInterruptedSinuMollweide:OI,geoInterruptedSinusoidal:LI,geoKavrayskiy7:qI,geoKavrayskiy7Raw:eg,geoLagrange:UI,geoLagrangeRaw:h8,geoLarrivee:GI,geoLarriveeRaw:rg,geoLaskowski:HI,geoLaskowskiRaw:ig,geoLittrow:BI,geoLittrowRaw:og,geoLoximuthal:YI,geoLoximuthalRaw:d8,geoMiller:VI,geoMillerRaw:ag,geoModifiedStereographic:Vo,geoModifiedStereographicAlaska:JI,geoModifiedStereographicGs48:jI,geoModifiedStereographicGs50:tz,geoModifiedStereographicLee:ez,geoModifiedStereographicMiller:nz,geoModifiedStereographicRaw:g8,geoMollweide:B6,geoMollweideRaw:ri,geoMtFlatPolarParabolic:rz,geoMtFlatPolarParabolicRaw:ug,geoMtFlatPolarQuartic:iz,geoMtFlatPolarQuarticRaw:cg,geoMtFlatPolarSinusoidal:oz,geoMtFlatPolarSinusoidalRaw:sg,geoNaturalEarth2:az,geoNaturalEarth2Raw:fg,geoNellHammer:uz,geoNellHammerRaw:lg,geoNicolosi:fz,geoNicolosiRaw:hg,geoPatterson:pz,geoPattersonRaw:mg,geoPeirceQuincuncial:Cz,geoPolyconic:vz,geoPolyconicRaw:yg,geoPolyhedral:rl,geoPolyhedralButterfly:xz,geoPolyhedralCollignon:Sz,geoPolyhedralWaterman:w8,geoProject:Pz,geoQuantize:kz,geoQuincuncial:_g,geoRectangularPolyconic:Iz,geoRectangularPolyconicRaw:b8,geoRobinson:zz,geoRobinsonRaw:bg,geoSatellite:Oz,geoSatelliteRaw:M8,geoSinuMollweide:bI,geoSinuMollweideRaw:nl,geoSinusoidal:Nk,geoSinusoidalRaw:Tr,geoStitch:qz,geoTimes:Uz,geoTimesRaw:Ag,geoTwoPointAzimuthal:$8,geoTwoPointAzimuthalRaw:E8,geoTwoPointAzimuthalUsa:Gz,geoTwoPointEquidistant:P8,geoTwoPointEquidistantRaw:A8,geoTwoPointEquidistantUsa:Hz,geoVanDerGrinten:Bz,geoVanDerGrinten2:Yz,geoVanDerGrinten2Raw:Tg,geoVanDerGrinten3:Vz,geoVanDerGrinten3Raw:Rg,geoVanDerGrinten4:Wz,geoVanDerGrinten4Raw:Ng,geoVanDerGrintenRaw:Pg,geoWagner:R8,geoWagner4:Kz,geoWagner4Raw:C8,geoWagner6:Qz,geoWagner6Raw:Cg,geoWagner7:Zz,geoWagnerRaw:T8,geoWiechel:Jz,geoWiechelRaw:kg,geoWinkel3:k8,geoWinkel3Raw:Ig},Symbol.toStringTag,{value:"Module"}));function tD(){}function nD(){var t=[],n;return{point:function(e,r,i,o){var a=[e,r];arguments.length>2&&(a.index=i,a.t=o),n.push(a)},lineStart:function(){t.push(n=[])},lineEnd:tD,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function fr(t,n){return t&&n&&t[0]===n[0]&&t[1]===n[1]}function Vu(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function eD(t,n,e,r,i){var o=[],a=[],u,s;if(t.forEach(function(g){if(!((p=g.length-1)<=0)){var p,v=g[0],m=g[p],w;if(fr(v,m)){for(i.lineStart(),u=0;u<p;++u)i.point((v=g[u])[0],v[1]);i.lineEnd();return}o.push(w=new Vu(v,g,null,!0)),a.push(w.o=new Vu(v,null,w,!1)),o.push(w=new Vu(m,g,null,!1)),a.push(w.o=new Vu(m,null,w,!0))}}),!!o.length){for(a.sort(n),Dv(o),Dv(a),u=0,s=a.length;u<s;++u)a[u].e=e=!e;for(var c=o[0],f,h;;){for(var l=c,d=!0;l.v;)if((l=l.n)===c)return;f=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(d)for(u=0,s=f.length;u<s;++u)i.point((h=f[u])[0],h[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(d)for(f=l.p.z,u=f.length-1;u>=0;--u)i.point((h=f[u])[0],h[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,f=l.z,d=!d}while(!l.v);i.lineEnd()}}}function Dv(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}var Zt=Math.abs,Lr=Math.atan,ye=Math.atan2,dt=Math.cos,gh=Math.exp,Ov=Math.floor,Wu=Math.log,ph=Math.max,vh=Math.min,pr=Math.pow,mu=Math.sign||function(t){return t>0?1:t<0?-1:0},Mt=Math.sin,Sa=Math.tan,Yt=1e-6,lo=1e-12,gt=Math.PI,_n=gt/2,Fv=gt/4,rD=Math.SQRT1_2,mh=St(gt),iD=gt*2,Xt=180/gt,Lt=gt/180;function me(t){return t>1?_n:t<-1?-_n:Math.asin(t)}function ho(t){return t>1?0:t<-1?gt:Math.acos(t)}function St(t){return t>0?Math.sqrt(t):0}function oD(){return new As}function As(){this.reset()}As.prototype={constructor:As,reset:function(){this.s=this.t=0},add:function(t){Lv(Xu,t,this.t),Lv(this,Xu.s,this.s),this.s?this.t+=Xu.t:this.s=Xu.t},valueOf:function(){return this.s}};var Xu=new As;function Lv(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}function Qa(t){return[ye(t[1],t[0]),me(t[2])]}function qv(t){var n=Qa(t);return[n[0]*Xt,n[1]*Xt]}function br(t){var n=t[0],e=t[1],r=dt(e);return[r*dt(n),r*Mt(n),Mt(e)]}function n0(t){return br([t[0]*Lt,t[1]*Lt])}function $n(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Gr(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function yh(t){var n=St(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function kn(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2];return e*e+r*r+i*i<lo*lo}var e0=oD();function I8(t,n){var e=n[0],r=n[1],i=[Mt(e),-dt(e),0],o=0,a=0;e0.reset();for(var u=0,s=t.length;u<s;++u)if(f=(c=t[u]).length)for(var c,f,h=c[f-1],l=h[0],d=h[1]/2+Fv,g=Mt(d),p=dt(d),v=0;v<f;++v,l=w,g=y,p=M,h=m){var m=c[v],w=m[0],_=m[1]/2+Fv,y=Mt(_),M=dt(_),x=w-l,T=x>=0?1:-1,N=T*x,C=N>gt,I=g*y;if(e0.add(ye(I*T*Mt(N),p*M+I*dt(N))),o+=C?x+T*iD:x,C^l>=e^w>=e){var P=Gr(br(h),br(m));yh(P);var B=Gr(i,P);yh(B);var F=(C^x>=0?-1:1)*me(B[2]);(r>F||r===F&&(P[0]||P[1]))&&(a+=C^x>=0?1:-1)}}return(o<-1e-6||o<Yt&&e0<-1e-6)^a&1}function aD(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}class Mr{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],a=n+o,u=Math.abs(n)<Math.abs(o)?n-(a-o):o-(a-n);u&&(e[r++]=u),n=a}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,o,a=0;if(e>0){for(a=n[--e];e>0&&(r=a,i=n[--e],a=r+i,o=i-(a-r),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}function*uD(t){for(const n of t)yield*n}function zg(t){return Array.from(uD(t))}function cD(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);return r}function sD(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}function fD(t,n=aD){if(n.length===1)return cD(t,n);let e,r=-1,i=-1;for(const o of t)++i,(r<0?n(o,o)===0:n(o,e)<0)&&(e=o,r=i);return r}function z8(t,n){const e=fD(t,n);return e<0?void 0:e}function lD(t,n,e,r,i){return typeof i>"u"&&(i=dD),function(o){var a=n(o),u=nD(),s=n(u),c=!1,f,h,l,d={point:g,lineStart:v,lineEnd:m,polygonStart:function(){d.point=w,d.lineStart=_,d.lineEnd=y,h=[],f=[]},polygonEnd:function(){d.point=g,d.lineStart=v,d.lineEnd=m,h=zg(h);var M=I8(f,r);h.length?(c||(o.polygonStart(),c=!0),eD(h,i,M,e,o)):M&&(c||(o.polygonStart(),c=!0),e(null,null,1,o)),c&&(o.polygonEnd(),c=!1),h=f=null},sphere:function(){e(null,null,1,o)}};function g(M,x){t(M,x)&&o.point(M,x)}function p(M,x){a.point(M,x)}function v(){d.point=p,a.lineStart()}function m(){d.point=g,a.lineEnd()}function w(M,x,T){l.push([M,x]),s.point(M,x,T)}function _(){s.lineStart(),l=[]}function y(){w(l[0][0],l[0][1],!0),s.lineEnd();var M=s.clean(),x=u.result(),T,N=x.length,C,I,P;if(l.pop(),f.push(l),l=null,!!N){if(M&1){if(I=x[0],(C=I.length-1)>0){for(c||(o.polygonStart(),c=!0),o.lineStart(),T=0;T<C;++T)o.point((P=I[T])[0],P[1]);o.lineEnd()}return}N>1&&M&2&&x.push(x.pop().concat(x.shift())),h.push(x.filter(hD))}}return d}}function hD(t){return t.length>1}function dD(t,n){return((t=t.x)[0]<0?t[1]-_n-Yt:_n-t[1])-((n=n.x)[0]<0?n[1]-_n-Yt:_n-n[1])}function Ja(t,n){this.from=t,this.to=n,this.normal=Gr(t,n),this.fromNormal=Gr(this.normal,t),this.toNormal=Gr(this.normal,n),this.l=ho($n(t,n))}function D8(t,n){if(kn(t.from,n.from)||kn(t.from,n.to))return t.from;if(kn(t.to,n.from)||kn(t.to,n.to))return t.to;var e=t.l+n.l<gt?dt(t.l+n.l)-Yt:-1;if(!($n(t.from,n.from)<e||$n(t.from,n.to)<e||$n(t.to,n.from)<e||$n(t.to,n.to)<e)){var r=Gr(t.normal,n.normal);yh(r);var i=$n(r,t.fromNormal),o=$n(r,t.toNormal),a=$n(r,n.fromNormal),u=$n(r,n.toNormal);if(i>0&&o<0&&a>0&&u<0||i>=0&&o<=0&&a>=0&&u<=0&&(kn(r,t.from)||kn(r,t.to)||kn(r,n.from)||kn(r,n.to))||(r[0]=-r[0],r[1]=-r[1],r[2]=-r[2],i=-i,o=-o,a=-a,u=-u,i>0&&o<0&&a>0&&u<0||i>=0&&o<=0&&a>=0&&u<=0&&(kn(r,t.from)||kn(r,t.to)||kn(r,n.from)||kn(r,n.to))))return r}}function gD(t,n){var e=$n(t,n.fromNormal),r=$n(t,n.toNormal);return t=$n(t,n.normal),Zt(t)<lo&&(e>-1e-12&&r<lo||e<lo&&r>-1e-12)}var pD={};function vD(t,n){var e=t.map(o=>br(o.map(a=>a*Lt))),r=n.map(o=>br(o.map(a=>a*Lt))),i=D8(new Ja(e[0],e[1]),new Ja(r[0],r[1]));return i&&Qa(i).map(o=>o*Xt)}var mD=function(t){return t};function yu(t){function n(e){var r;if(e.type==="MultiPolygon")r=e.coordinates;else if(e.type==="Polygon")r=[e.coordinates];else return mD;var i=r.map(function(a){a=a.map(yD);var u=MD(a),s=wD(a[0]);return lD(u,xD(s,u),bD(s,a),a[0][0],_D)}),o=function(a){var u=i.map(s=>s(a));return{point:function(s,c){u.forEach(f=>f.point(s,c))},lineStart:function(){u.forEach(s=>s.lineStart())},lineEnd:function(){u.forEach(s=>s.lineEnd())},polygonStart:function(){u.forEach(s=>s.polygonStart())},polygonEnd:function(){u.forEach(s=>s.polygonEnd())},sphere:function(){u.forEach(s=>s.sphere())}}};return o.polygon=function(a){return a?(e=a,n(e)):e},o}return n(t)}function yD(t){return t.map(function(n){return[n[0]*Lt,n[1]*Lt]})}function wD(t){var n,e,r=[];return t.forEach(function(i,o){return n=br(i),o&&r.push(new Ja(e,n)),e=n,i}),r}function _D(t,n){return t=t.x,n=n.x,t.index-n.index||t.t-n.t}function bD(t,n){return function(e,r,i,o){if(e==null)o.polygonStart(),n.forEach(function(c){o.lineStart(),c.forEach(function(f){o.point(f[0],f[1])}),o.lineEnd()}),o.polygonEnd();else if(e.index!==r.index&&e.index!=null&&r.index!=null)for(var a=e.index;a!==r.index;a=(a+i+t.length)%t.length){var u=t[a],s=Qa(i>0?u.to:u.from);o.point(s[0],s[1])}else if(e.index===r.index&&e.t>r.t&&e.index!=null&&r.index!=null)for(a=0;a<t.length;a++)u=t[(e.index+a*i+t.length)%t.length],s=Qa(i>0?u.to:u.from),o.point(s[0],s[1])}}function Uv(t,n){var e=Gr(t,n);return ye(St($n(e,e)),$n(t,n))}function MD(t){return function(n,e){return I8(t,[n,e])}}function Zu(t,n){return mu(Mt(100*t+n))}function xD(t,n){return function(e){var r,i,o,a,u,s,c,f=[];return{lineStart:function(){r=null,s=1,c=[]},lineEnd:function(){u&&f.push(c),f.forEach(function(h){e.lineStart(),h.forEach(function(l){e.point(...l)}),e.lineEnd()}),f=[]},point:function(h,l,d){dt(h)==-1&&(h-=mu(Mt(h))*1e-5),d&&(h=i,l=o);var g=br([h,l]),p=u,v,m,w,_,y;if(r){var M=new Ja(r,g),x=[];for(m=0,w=100;m<t.length&&w>0;++m)if(_=t[m],v=D8(M,_),v){if(v===pD||kn(v,r)||kn(v,g)||kn(v,_.from)||kn(v,_.to)){y=1e-4,h=(h+3*gt+Zu(m,w)*y)%(2*gt)-gt,l=vh(gt/2-1e-4,ph(1e-4-gt/2,l+Zu(m,w)*y)),M=new Ja(r,g=br([h,l])),m=-1,--w,x.length=0;continue}var T=Qa(v);v.distance=Uv(r,v),v.index=m,v.t=Uv(_.from,v),v[0]=T[0],v[1]=T[1],v.pop(),x.push(v)}if(x.length)for(s=0,x.sort(function(N,C){return N.distance-C.distance}),m=0;m<x.length;++m)v=x[m],p=!p,p?(c=[],c.push([v[0],v[1],v.index,v.t])):(c.push([v[0],v[1],v.index,v.t]),f.push(c));p&&c.push([h,l])}else{for(m=0,w=100;m<t.length&&w>0;++m)_=t[m],gD(g,_)&&(y=1e-4,h=(h+3*gt+Zu(m,w)*y)%(2*gt)-gt,l=vh(gt/2-1e-4,ph(1e-4-gt/2,l+Zu(m,w)*y)),g=br([h,l]),m=-1,--w);a=p=n(i=h,o=l),p&&(c=[],c.push([h,l]))}r=g,u=p},clean:function(){return s|(a&&u)<<1}}}}var Bt=1e-6,wh=1e-12,Dt=Math.PI,Te=Dt/2,Ps=Dt/4,we=Dt*2,wn=180/Dt,Rt=Dt/180,Qt=Math.abs,Dg=Math.atan,Ce=Math.atan2,wt=Math.cos,_h=Math.hypot,vt=Math.sin,SD=Math.sign||function(t){return t>0?1:t<0?-1:0},rr=Math.sqrt;function ED(t){return t>1?0:t<-1?Dt:Math.acos(t)}function ir(t){return t>1?Te:t<-1?-Te:Math.asin(t)}function Gv(t){return(t=vt(t/2))*t}function zn(){}function Ts(t,n){t&&Bv.hasOwnProperty(t.type)&&Bv[t.type](t,n)}var Hv={Feature:function(t,n){Ts(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Ts(e[r].geometry,n)}},Bv={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){bh(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)bh(e[r],n,0)},Polygon:function(t,n){Yv(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Yv(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Ts(e[r],n)}};function bh(t,n,e){var r=-1,i=t.length-e,o;for(n.lineStart();++r<i;)o=t[r],n.point(o[0],o[1],o[2]);n.lineEnd()}function Yv(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)bh(t[e],n,1);n.polygonEnd()}function wu(t,n){t&&Hv.hasOwnProperty(t.type)?Hv[t.type](t,n):Ts(t,n)}var Rs=new Mr,Vv=new Mr,O8,F8,Mh,xh,Sh,$r={point:zn,lineStart:zn,lineEnd:zn,polygonStart:function(){Rs=new Mr,$r.lineStart=$D,$r.lineEnd=AD},polygonEnd:function(){var t=+Rs;Vv.add(t<0?we+t:t),this.lineStart=this.lineEnd=this.point=zn},sphere:function(){Vv.add(we)}};function $D(){$r.point=PD}function AD(){L8(O8,F8)}function PD(t,n){$r.point=L8,O8=t,F8=n,t*=Rt,n*=Rt,Mh=t,xh=wt(n=n/2+Ps),Sh=vt(n)}function L8(t,n){t*=Rt,n*=Rt,n=n/2+Ps;var e=t-Mh,r=e>=0?1:-1,i=r*e,o=wt(n),a=vt(n),u=Sh*a,s=xh*o+u*wt(i),c=u*r*vt(i);Rs.add(Ce(c,s)),Mh=t,xh=o,Sh=a}function Ns(t){return[Ce(t[1],t[0]),ir(t[2])]}function Ci(t){var n=t[0],e=t[1],r=wt(e);return[r*wt(n),r*vt(n),vt(e)]}function Ku(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function zo(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function r0(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Qu(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Cs(t){var n=rr(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var tn,ue,cn,ve,fi,q8,U8,go,Ea,Or,Ar,dr={point:Eh,lineStart:Wv,lineEnd:Xv,polygonStart:function(){dr.point=H8,dr.lineStart=TD,dr.lineEnd=RD,Ea=new Mr,$r.polygonStart()},polygonEnd:function(){$r.polygonEnd(),dr.point=Eh,dr.lineStart=Wv,dr.lineEnd=Xv,Rs<0?(tn=-(cn=180),ue=-(ve=90)):Ea>Bt?ve=90:Ea<-1e-6&&(ue=-90),Ar[0]=tn,Ar[1]=cn},sphere:function(){tn=-(cn=180),ue=-(ve=90)}};function Eh(t,n){Or.push(Ar=[tn=t,cn=t]),n<ue&&(ue=n),n>ve&&(ve=n)}function G8(t,n){var e=Ci([t*Rt,n*Rt]);if(go){var r=zo(go,e),i=[r[1],-r[0],0],o=zo(i,r);Cs(o),o=Ns(o);var a=t-fi,u=a>0?1:-1,s=o[0]*wn*u,c,f=Qt(a)>180;f^(u*fi<s&&s<u*t)?(c=o[1]*wn,c>ve&&(ve=c)):(s=(s+360)%360-180,f^(u*fi<s&&s<u*t)?(c=-o[1]*wn,c<ue&&(ue=c)):(n<ue&&(ue=n),n>ve&&(ve=n))),f?t<fi?ge(tn,t)>ge(tn,cn)&&(cn=t):ge(t,cn)>ge(tn,cn)&&(tn=t):cn>=tn?(t<tn&&(tn=t),t>cn&&(cn=t)):t>fi?ge(tn,t)>ge(tn,cn)&&(cn=t):ge(t,cn)>ge(tn,cn)&&(tn=t)}else Or.push(Ar=[tn=t,cn=t]);n<ue&&(ue=n),n>ve&&(ve=n),go=e,fi=t}function Wv(){dr.point=G8}function Xv(){Ar[0]=tn,Ar[1]=cn,dr.point=Eh,go=null}function H8(t,n){if(go){var e=t-fi;Ea.add(Qt(e)>180?e+(e>0?360:-360):e)}else q8=t,U8=n;$r.point(t,n),G8(t,n)}function TD(){$r.lineStart()}function RD(){H8(q8,U8),$r.lineEnd(),Qt(Ea)>Bt&&(tn=-(cn=180)),Ar[0]=tn,Ar[1]=cn,go=null}function ge(t,n){return(n-=t)<0?n+360:n}function ND(t,n){return t[0]-n[0]}function Zv(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}function CD(t){var n,e,r,i,o,a,u;if(ve=cn=-(tn=ue=1/0),Or=[],wu(t,dr),e=Or.length){for(Or.sort(ND),n=1,r=Or[0],o=[r];n<e;++n)i=Or[n],Zv(r,i[0])||Zv(r,i[1])?(ge(r[0],i[1])>ge(r[0],r[1])&&(r[1]=i[1]),ge(i[0],r[1])>ge(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=o.length-1,n=0,r=o[e];n<=e;r=i,++n)i=o[n],(u=ge(r[1],i[0]))>a&&(a=u,tn=i[0],cn=r[1])}return Or=Ar=null,tn===1/0||ue===1/0?[[NaN,NaN],[NaN,NaN]]:[[tn,ue],[cn,ve]]}var va,ks,Is,zs,Ds,Os,Fs,Ls,$h,Ah,Ph,B8,Y8,Yn,Vn,Wn,Fe={sphere:zn,point:Og,lineStart:Kv,lineEnd:Qv,polygonStart:function(){Fe.lineStart=zD,Fe.lineEnd=DD},polygonEnd:function(){Fe.lineStart=Kv,Fe.lineEnd=Qv}};function Og(t,n){t*=Rt,n*=Rt;var e=wt(n);_u(e*wt(t),e*vt(t),vt(n))}function _u(t,n,e){++va,Is+=(t-Is)/va,zs+=(n-zs)/va,Ds+=(e-Ds)/va}function Kv(){Fe.point=kD}function kD(t,n){t*=Rt,n*=Rt;var e=wt(n);Yn=e*wt(t),Vn=e*vt(t),Wn=vt(n),Fe.point=ID,_u(Yn,Vn,Wn)}function ID(t,n){t*=Rt,n*=Rt;var e=wt(n),r=e*wt(t),i=e*vt(t),o=vt(n),a=Ce(rr((a=Vn*o-Wn*i)*a+(a=Wn*r-Yn*o)*a+(a=Yn*i-Vn*r)*a),Yn*r+Vn*i+Wn*o);ks+=a,Os+=a*(Yn+(Yn=r)),Fs+=a*(Vn+(Vn=i)),Ls+=a*(Wn+(Wn=o)),_u(Yn,Vn,Wn)}function Qv(){Fe.point=Og}function zD(){Fe.point=OD}function DD(){V8(B8,Y8),Fe.point=Og}function OD(t,n){B8=t,Y8=n,t*=Rt,n*=Rt,Fe.point=V8;var e=wt(n);Yn=e*wt(t),Vn=e*vt(t),Wn=vt(n),_u(Yn,Vn,Wn)}function V8(t,n){t*=Rt,n*=Rt;var e=wt(n),r=e*wt(t),i=e*vt(t),o=vt(n),a=Vn*o-Wn*i,u=Wn*r-Yn*o,s=Yn*i-Vn*r,c=_h(a,u,s),f=ir(c),h=c&&-f/c;$h.add(h*a),Ah.add(h*u),Ph.add(h*s),ks+=f,Os+=f*(Yn+(Yn=r)),Fs+=f*(Vn+(Vn=i)),Ls+=f*(Wn+(Wn=o)),_u(Yn,Vn,Wn)}function Hi(t){va=ks=Is=zs=Ds=Os=Fs=Ls=0,$h=new Mr,Ah=new Mr,Ph=new Mr,wu(t,Fe);var n=+$h,e=+Ah,r=+Ph,i=_h(n,e,r);return i<wh&&(n=Os,e=Fs,r=Ls,ks<Bt&&(n=Is,e=zs,r=Ds),i=_h(n,e,r),i<wh)?[NaN,NaN]:[Ce(e,n)*wn,ir(r/i)*wn]}function Th(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function Rh(t,n){return[Qt(t)>Dt?t+Math.round(-t/we)*we:t,n]}Rh.invert=Rh;function FD(t,n,e){return(t%=we)?n||e?Th(jv(t),tm(n,e)):jv(t):n||e?tm(n,e):Rh}function Jv(t){return function(n,e){return n+=t,[n>Dt?n-we:n<-Dt?n+we:n,e]}}function jv(t){var n=Jv(t);return n.invert=Jv(-t),n}function tm(t,n){var e=wt(t),r=vt(t),i=wt(n),o=vt(n);function a(u,s){var c=wt(s),f=wt(u)*c,h=vt(u)*c,l=vt(s),d=l*e+f*r;return[Ce(h*i-d*o,f*e-l*r),ir(d*i+h*o)]}return a.invert=function(u,s){var c=wt(s),f=wt(u)*c,h=vt(u)*c,l=vt(s),d=l*i-h*o;return[Ce(h*i+l*o,f*e+d*r),ir(d*e-f*r)]},a}function LD(t,n,e,r,i,o){if(e){var a=wt(n),u=vt(n),s=r*e;i==null?(i=n+r*we,o=n-s/2):(i=nm(a,i),o=nm(a,o),(r>0?i<o:i>o)&&(i+=r*we));for(var c,f=i;r>0?f>o:f<o;f-=s)c=Ns([a,-u*wt(f),-u*vt(f)]),t.point(c[0],c[1])}}function nm(t,n){n=Ci(n),n[0]-=t,Cs(n);var e=ED(-n[1]);return((-n[2]<0?-e:e)+we-Bt)%we}function W8(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:zn,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function mc(t,n){return Qt(t[0]-n[0])<Bt&&Qt(t[1]-n[1])<Bt}function Ju(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function X8(t,n,e,r,i){var o=[],a=[],u,s;if(t.forEach(function(g){if(!((p=g.length-1)<=0)){var p,v=g[0],m=g[p],w;if(mc(v,m)){if(!v[2]&&!m[2]){for(i.lineStart(),u=0;u<p;++u)i.point((v=g[u])[0],v[1]);i.lineEnd();return}m[0]+=2*Bt}o.push(w=new Ju(v,g,null,!0)),a.push(w.o=new Ju(v,null,w,!1)),o.push(w=new Ju(m,g,null,!1)),a.push(w.o=new Ju(m,null,w,!0))}}),!!o.length){for(a.sort(n),em(o),em(a),u=0,s=a.length;u<s;++u)a[u].e=e=!e;for(var c=o[0],f,h;;){for(var l=c,d=!0;l.v;)if((l=l.n)===c)return;f=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(d)for(u=0,s=f.length;u<s;++u)i.point((h=f[u])[0],h[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(d)for(f=l.p.z,u=f.length-1;u>=0;--u)i.point((h=f[u])[0],h[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,f=l.z,d=!d}while(!l.v);i.lineEnd()}}}function em(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function i0(t){return Qt(t[0])<=Dt?t[0]:SD(t[0])*((Qt(t[0])+Dt)%we-Dt)}function Z8(t,n){var e=i0(n),r=n[1],i=vt(r),o=[vt(e),-wt(e),0],a=0,u=0,s=new Mr;i===1?r=Te+Bt:i===-1&&(r=-Te-Bt);for(var c=0,f=t.length;c<f;++c)if(l=(h=t[c]).length)for(var h,l,d=h[l-1],g=i0(d),p=d[1]/2+Ps,v=vt(p),m=wt(p),w=0;w<l;++w,g=y,v=x,m=T,d=_){var _=h[w],y=i0(_),M=_[1]/2+Ps,x=vt(M),T=wt(M),N=y-g,C=N>=0?1:-1,I=C*N,P=I>Dt,B=v*x;if(s.add(Ce(B*C*vt(I),m*T+B*wt(I))),a+=P?N+C*we:N,P^g>=e^y>=e){var F=zo(Ci(d),Ci(_));Cs(F);var A=zo(o,F);Cs(A);var $=(P^N>=0?-1:1)*ir(A[2]);(r>$||r===$&&(F[0]||F[1]))&&(u+=P^N>=0?1:-1)}}return(a<-1e-6||a<Bt&&s<-1e-12)^u&1}function K8(t,n,e,r){return function(i){var o=n(i),a=W8(),u=n(a),s=!1,c,f,h,l={point:d,lineStart:p,lineEnd:v,polygonStart:function(){l.point=m,l.lineStart=w,l.lineEnd=_,f=[],c=[]},polygonEnd:function(){l.point=d,l.lineStart=p,l.lineEnd=v,f=zg(f);var y=Z8(c,r);f.length?(s||(i.polygonStart(),s=!0),X8(f,UD,y,e,i)):y&&(s||(i.polygonStart(),s=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),s&&(i.polygonEnd(),s=!1),f=c=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(y,M){t(y,M)&&i.point(y,M)}function g(y,M){o.point(y,M)}function p(){l.point=g,o.lineStart()}function v(){l.point=d,o.lineEnd()}function m(y,M){h.push([y,M]),u.point(y,M)}function w(){u.lineStart(),h=[]}function _(){m(h[0][0],h[0][1]),u.lineEnd();var y=u.clean(),M=a.result(),x,T=M.length,N,C,I;if(h.pop(),c.push(h),h=null,!!T){if(y&1){if(C=M[0],(N=C.length-1)>0){for(s||(i.polygonStart(),s=!0),i.lineStart(),x=0;x<N;++x)i.point((I=C[x])[0],I[1]);i.lineEnd()}return}T>1&&y&2&&M.push(M.pop().concat(M.shift())),f.push(M.filter(qD))}}return l}}function qD(t){return t.length>1}function UD(t,n){return((t=t.x)[0]<0?t[1]-Te-Bt:Te-t[1])-((n=n.x)[0]<0?n[1]-Te-Bt:Te-n[1])}const rm=K8(function(){return!0},GD,BD,[-Dt,-Te]);function GD(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var u=o>0?Dt:-Dt,s=Qt(o-n);Qt(s-Dt)<Bt?(t.point(n,e=(e+a)/2>0?Te:-Te),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(u,e),t.point(o,e),i=0):r!==u&&s>=Dt&&(Qt(n-r)<Bt&&(n-=r*Bt),Qt(o-u)<Bt&&(o-=u*Bt),e=HD(n,e,o,a),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(u,e),i=0),t.point(n=o,e=a),r=u},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function HD(t,n,e,r){var i,o,a=vt(t-e);return Qt(a)>Bt?Dg((vt(n)*(o=wt(r))*vt(e)-vt(r)*(i=wt(n))*vt(t))/(i*o*a)):(n+r)/2}function BD(t,n,e,r){var i;if(t==null)i=e*Te,r.point(-Dt,i),r.point(0,i),r.point(Dt,i),r.point(Dt,0),r.point(Dt,-i),r.point(0,-i),r.point(-Dt,-i),r.point(-Dt,0),r.point(-Dt,i);else if(Qt(t[0]-n[0])>Bt){var o=t[0]<n[0]?Dt:-Dt;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function YD(t){var n=wt(t),e=6*Rt,r=n>0,i=Qt(n)>Bt;function o(f,h,l,d){LD(d,t,e,l,f,h)}function a(f,h){return wt(f)*wt(h)>n}function u(f){var h,l,d,g,p;return{lineStart:function(){g=d=!1,p=1},point:function(v,m){var w=[v,m],_,y=a(v,m),M=r?y?0:c(v,m):y?c(v+(v<0?Dt:-Dt),m):0;if(!h&&(g=d=y)&&f.lineStart(),y!==d&&(_=s(h,w),(!_||mc(h,_)||mc(w,_))&&(w[2]=1)),y!==d)p=0,y?(f.lineStart(),_=s(w,h),f.point(_[0],_[1])):(_=s(h,w),f.point(_[0],_[1],2),f.lineEnd()),h=_;else if(i&&h&&r^y){var x;!(M&l)&&(x=s(w,h,!0))&&(p=0,r?(f.lineStart(),f.point(x[0][0],x[0][1]),f.point(x[1][0],x[1][1]),f.lineEnd()):(f.point(x[1][0],x[1][1]),f.lineEnd(),f.lineStart(),f.point(x[0][0],x[0][1],3)))}y&&(!h||!mc(h,w))&&f.point(w[0],w[1]),h=w,d=y,l=M},lineEnd:function(){d&&f.lineEnd(),h=null},clean:function(){return p|(g&&d)<<1}}}function s(f,h,l){var d=Ci(f),g=Ci(h),p=[1,0,0],v=zo(d,g),m=Ku(v,v),w=v[0],_=m-w*w;if(!_)return!l&&f;var y=n*m/_,M=-n*w/_,x=zo(p,v),T=Qu(p,y),N=Qu(v,M);r0(T,N);var C=x,I=Ku(T,C),P=Ku(C,C),B=I*I-P*(Ku(T,T)-1);if(!(B<0)){var F=rr(B),A=Qu(C,(-I-F)/P);if(r0(A,T),A=Ns(A),!l)return A;var $=f[0],k=h[0],E=f[1],O=h[1],z;k<$&&(z=$,$=k,k=z);var H=k-$,Y=Qt(H-Dt)<Bt,X=Y||H<Bt;if(!Y&&O<E&&(z=E,E=O,O=z),X?Y?E+O>0^A[1]<(Qt(A[0]-$)<Bt?E:O):E<=A[1]&&A[1]<=O:H>Dt^($<=A[0]&&A[0]<=k)){var j=Qu(C,(-I+F)/P);return r0(j,T),[A,Ns(j)]}}}function c(f,h){var l=r?t:Dt-t,d=0;return f<-l?d|=1:f>l&&(d|=2),h<-l?d|=4:h>l&&(d|=8),d}return K8(a,u,o,r?[0,-t]:[-Dt,t-Dt])}function VD(t,n,e,r,i,o){var a=t[0],u=t[1],s=n[0],c=n[1],f=0,h=1,l=s-a,d=c-u,g;if(g=e-a,!(!l&&g>0)){if(g/=l,l<0){if(g<f)return;g<h&&(h=g)}else if(l>0){if(g>h)return;g>f&&(f=g)}if(g=i-a,!(!l&&g<0)){if(g/=l,l<0){if(g>h)return;g>f&&(f=g)}else if(l>0){if(g<f)return;g<h&&(h=g)}if(g=r-u,!(!d&&g>0)){if(g/=d,d<0){if(g<f)return;g<h&&(h=g)}else if(d>0){if(g>h)return;g>f&&(f=g)}if(g=o-u,!(!d&&g<0)){if(g/=d,d<0){if(g>h)return;g>f&&(f=g)}else if(d>0){if(g<f)return;g<h&&(h=g)}return f>0&&(t[0]=a+f*l,t[1]=u+f*d),h<1&&(n[0]=a+h*l,n[1]=u+h*d),!0}}}}}var ju=1e9,tc=-1e9;function WD(t,n,e,r){function i(c,f){return t<=c&&c<=e&&n<=f&&f<=r}function o(c,f,h,l){var d=0,g=0;if(c==null||(d=a(c,h))!==(g=a(f,h))||s(c,f)<0^h>0)do l.point(d===0||d===3?t:e,d>1?r:n);while((d=(d+h+4)%4)!==g);else l.point(f[0],f[1])}function a(c,f){return Qt(c[0]-t)<Bt?f>0?0:3:Qt(c[0]-e)<Bt?f>0?2:1:Qt(c[1]-n)<Bt?f>0?1:0:f>0?3:2}function u(c,f){return s(c.x,f.x)}function s(c,f){var h=a(c,1),l=a(f,1);return h!==l?h-l:h===0?f[1]-c[1]:h===1?c[0]-f[0]:h===2?c[1]-f[1]:f[0]-c[0]}return function(c){var f=c,h=W8(),l,d,g,p,v,m,w,_,y,M,x,T={point:N,lineStart:B,lineEnd:F,polygonStart:I,polygonEnd:P};function N($,k){i($,k)&&f.point($,k)}function C(){for(var $=0,k=0,E=d.length;k<E;++k)for(var O=d[k],z=1,H=O.length,Y=O[0],X,j,et=Y[0],it=Y[1];z<H;++z)X=et,j=it,Y=O[z],et=Y[0],it=Y[1],j<=r?it>r&&(et-X)*(r-j)>(it-j)*(t-X)&&++$:it<=r&&(et-X)*(r-j)<(it-j)*(t-X)&&--$;return $}function I(){f=h,l=[],d=[],x=!0}function P(){var $=C(),k=x&&$,E=(l=zg(l)).length;(k||E)&&(c.polygonStart(),k&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),E&&X8(l,u,$,o,c),c.polygonEnd()),f=c,l=d=g=null}function B(){T.point=A,d&&d.push(g=[]),M=!0,y=!1,w=_=NaN}function F(){l&&(A(p,v),m&&y&&h.rejoin(),l.push(h.result())),T.point=N,y&&f.lineEnd()}function A($,k){var E=i($,k);if(d&&g.push([$,k]),M)p=$,v=k,m=E,M=!1,E&&(f.lineStart(),f.point($,k));else if(E&&y)f.point($,k);else{var O=[w=Math.max(tc,Math.min(ju,w)),_=Math.max(tc,Math.min(ju,_))],z=[$=Math.max(tc,Math.min(ju,$)),k=Math.max(tc,Math.min(ju,k))];VD(O,z,t,n,e,r)?(y||(f.lineStart(),f.point(O[0],O[1])),f.point(z[0],z[1]),E||f.lineEnd(),x=!1):E&&(f.lineStart(),f.point($,k),x=!1)}w=$,_=k,y=E}return T}}var Nh,Ch,yc,wc,Do={sphere:zn,point:zn,lineStart:XD,lineEnd:zn,polygonStart:zn,polygonEnd:zn};function XD(){Do.point=KD,Do.lineEnd=ZD}function ZD(){Do.point=Do.lineEnd=zn}function KD(t,n){t*=Rt,n*=Rt,Ch=t,yc=vt(n),wc=wt(n),Do.point=QD}function QD(t,n){t*=Rt,n*=Rt;var e=vt(n),r=wt(n),i=Qt(t-Ch),o=wt(i),a=vt(i),u=r*a,s=wc*e-yc*r*o,c=yc*e+wc*r*o;Nh.add(Ce(rr(u*u+s*s),c)),Ch=t,yc=e,wc=r}function JD(t){return Nh=new Mr,wu(t,Do),+Nh}var kh=[null,null],jD={type:"LineString",coordinates:kh};function qs(t,n){return kh[0]=t,kh[1]=n,JD(jD)}var im={Feature:function(t,n){return Us(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(Us(e[r].geometry,n))return!0;return!1}},om={Sphere:function(){return!0},Point:function(t,n){return am(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(am(e[r],n))return!0;return!1},LineString:function(t,n){return um(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(um(e[r],n))return!0;return!1},Polygon:function(t,n){return cm(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(cm(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(Us(e[r],n))return!0;return!1}};function Us(t,n){return t&&om.hasOwnProperty(t.type)?om[t.type](t,n):!1}function am(t,n){return qs(t,n)===0}function um(t,n){for(var e,r,i,o=0,a=t.length;o<a;o++){if(r=qs(t[o],n),r===0||o>0&&(i=qs(t[o],t[o-1]),i>0&&e<=i&&r<=i&&(e+r-i)*(1-Math.pow((e-r)/i,2))<wh*i))return!0;e=r}return!1}function cm(t,n){return!!Z8(t.map(tO),Q8(n))}function tO(t){return t=t.map(Q8),t.pop(),t}function Q8(t){return[t[0]*Rt,t[1]*Rt]}function J8(t,n){return(t&&im.hasOwnProperty(t.type)?im[t.type]:Us)(t,n)}function sm(t,n){var e=t[0]*Rt,r=t[1]*Rt,i=n[0]*Rt,o=n[1]*Rt,a=wt(r),u=vt(r),s=wt(o),c=vt(o),f=a*wt(e),h=a*vt(e),l=s*wt(i),d=s*vt(i),g=2*ir(rr(Gv(o-r)+a*s*Gv(i-e))),p=vt(g),v=g?function(m){var w=vt(m*=g)/p,_=vt(g-m)/p,y=_*f+w*l,M=_*h+w*d,x=_*u+w*c;return[Ce(M,y)*wn,Ce(x,rr(y*y+M*M))*wn]}:function(){return[e*wn,r*wn]};return v.distance=g,v}const fm=t=>t;var Oo=1/0,Gs=Oo,ja=-Oo,Hs=ja,lm={point:nO,lineStart:zn,lineEnd:zn,polygonStart:zn,polygonEnd:zn,result:function(){var t=[[Oo,Gs],[ja,Hs]];return ja=Hs=-(Gs=Oo=1/0),t}};function nO(t,n){t<Oo&&(Oo=t),t>ja&&(ja=t),n<Gs&&(Gs=n),n>Hs&&(Hs=n)}function Fg(t){return function(n){var e=new Ih;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Ih(){}Ih.prototype={constructor:Ih,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Lg(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),wu(e,t.stream(lm)),n(lm.result()),r!=null&&t.clipExtent(r),t}function j8(t,n,e){return Lg(t,function(r){var i=n[1][0]-n[0][0],o=n[1][1]-n[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),u=+n[0][0]+(i-a*(r[1][0]+r[0][0]))/2,s=+n[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([u,s])},e)}function eO(t,n,e){return j8(t,[[0,0],n],e)}function rO(t,n,e){return Lg(t,function(r){var i=+n,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,u=-o*r[0][1];t.scale(150*o).translate([a,u])},e)}function iO(t,n,e){return Lg(t,function(r){var i=+n,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],u=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,u])},e)}var hm=16,oO=wt(30*Rt);function dm(t,n){return+n?uO(t,n):aO(t)}function aO(t){return Fg({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function uO(t,n){function e(r,i,o,a,u,s,c,f,h,l,d,g,p,v){var m=c-r,w=f-i,_=m*m+w*w;if(_>4*n&&p--){var y=a+l,M=u+d,x=s+g,T=rr(y*y+M*M+x*x),N=ir(x/=T),C=Qt(Qt(x)-1)<Bt||Qt(o-h)<Bt?(o+h)/2:Ce(M,y),I=t(C,N),P=I[0],B=I[1],F=P-r,A=B-i,$=w*F-m*A;($*$/_>n||Qt((m*F+w*A)/_-.5)>.3||a*l+u*d+s*g<oO)&&(e(r,i,o,a,u,s,P,B,C,y/=T,M/=T,x,p,v),v.point(P,B),e(P,B,C,y,M,x,c,f,h,l,d,g,p,v))}}return function(r){var i,o,a,u,s,c,f,h,l,d,g,p,v={point:m,lineStart:w,lineEnd:y,polygonStart:function(){r.polygonStart(),v.lineStart=M},polygonEnd:function(){r.polygonEnd(),v.lineStart=w}};function m(N,C){N=t(N,C),r.point(N[0],N[1])}function w(){h=NaN,v.point=_,r.lineStart()}function _(N,C){var I=Ci([N,C]),P=t(N,C);e(h,l,f,d,g,p,h=P[0],l=P[1],f=N,d=I[0],g=I[1],p=I[2],hm,r),r.point(h,l)}function y(){v.point=m,r.lineEnd()}function M(){w(),v.point=x,v.lineEnd=T}function x(N,C){_(i=N,C),o=h,a=l,u=d,s=g,c=p,v.point=_}function T(){e(h,l,f,d,g,p,o,a,i,u,s,c,hm,r),v.lineEnd=y,y()}return v}}var cO=Fg({point:function(t,n){this.stream.point(t*Rt,n*Rt)}});function sO(t){return Fg({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function fO(t,n,e,r,i){function o(a,u){return a*=r,u*=i,[n+t*a,e-t*u]}return o.invert=function(a,u){return[(a-n)/t*r,(e-u)/t*i]},o}function gm(t,n,e,r,i,o){if(!o)return fO(t,n,e,r,i);var a=wt(o),u=vt(o),s=a*t,c=u*t,f=a/t,h=u/t,l=(u*e-a*n)/t,d=(u*n+a*e)/t;function g(p,v){return p*=r,v*=i,[s*p-c*v+n,e-c*p-s*v]}return g.invert=function(p,v){return[r*(f*p-h*v+l),i*(d-h*p-f*v)]},g}function Wo(t){return bu(function(){return t})()}function bu(t){var n,e=150,r=480,i=250,o=0,a=0,u=0,s=0,c=0,f,h=0,l=1,d=1,g=null,p=rm,v=null,m,w,_,y=fm,M=.5,x,T,N,C,I;function P($){return N($[0]*Rt,$[1]*Rt)}function B($){return $=N.invert($[0],$[1]),$&&[$[0]*wn,$[1]*wn]}P.stream=function($){return C&&I===$?C:C=cO(sO(f)(p(x(y(I=$)))))},P.preclip=function($){return arguments.length?(p=$,g=void 0,A()):p},P.postclip=function($){return arguments.length?(y=$,v=m=w=_=null,A()):y},P.clipAngle=function($){return arguments.length?(p=+$?YD(g=$*Rt):(g=null,rm),A()):g*wn},P.clipExtent=function($){return arguments.length?(y=$==null?(v=m=w=_=null,fm):WD(v=+$[0][0],m=+$[0][1],w=+$[1][0],_=+$[1][1]),A()):v==null?null:[[v,m],[w,_]]},P.scale=function($){return arguments.length?(e=+$,F()):e},P.translate=function($){return arguments.length?(r=+$[0],i=+$[1],F()):[r,i]},P.center=function($){return arguments.length?(o=$[0]%360*Rt,a=$[1]%360*Rt,F()):[o*wn,a*wn]},P.rotate=function($){return arguments.length?(u=$[0]%360*Rt,s=$[1]%360*Rt,c=$.length>2?$[2]%360*Rt:0,F()):[u*wn,s*wn,c*wn]},P.angle=function($){return arguments.length?(h=$%360*Rt,F()):h*wn},P.reflectX=function($){return arguments.length?(l=$?-1:1,F()):l<0},P.reflectY=function($){return arguments.length?(d=$?-1:1,F()):d<0},P.precision=function($){return arguments.length?(x=dm(T,M=$*$),A()):rr(M)},P.fitExtent=function($,k){return j8(P,$,k)},P.fitSize=function($,k){return eO(P,$,k)},P.fitWidth=function($,k){return rO(P,$,k)},P.fitHeight=function($,k){return iO(P,$,k)};function F(){var $=gm(e,0,0,l,d,h).apply(null,n(o,a)),k=gm(e,r-$[0],i-$[1],l,d,h);return f=FD(u,s,c),T=Th(n,k),N=Th(f,T),x=dm(T,M),A()}function A(){return C=I=null,P}return function(){return n=t.apply(this,arguments),P.invert=n.invert&&B,F()}}function lO(t){return function(n,e){var r=wt(n),i=wt(e),o=t(r*i);return o===1/0?[2,0]:[o*i*vt(n),o*vt(e)]}}function qg(t){return function(n,e){var r=rr(n*n+e*e),i=t(r),o=vt(i),a=wt(i);return[Ce(n*o,r*a),ir(r&&e*o/r)]}}var t_=lO(function(t){return rr(2/(1+t))});t_.invert=qg(function(t){return 2*ir(t/2)});function Ug(t,n){var e=wt(n),r=wt(t)*e;return[e*vt(t)/r,vt(n)/r]}Ug.invert=qg(Dg);function Fo(){return Wo(Ug).scale(144.049).clipAngle(60)}function n_(t,n){var e=wt(n),r=1+wt(t)*e;return[e*vt(t)/r,vt(n)/r]}n_.invert=qg(function(t){return 2*Dg(t)});function hO(t,n){var e=pm(t[1],t[0]),r=pm(n[1],n[0]),i=gO(e,r),o=vm(e)/vm(r);return _c([1,0,t[0][0],0,1,t[0][1]],_c([o,0,0,0,o,0],_c([dt(i),Mt(i),0,-Mt(i),dt(i),0],[1,0,-n[0][0],0,1,-n[0][1]])))}function dO(t){var n=1/(t[0]*t[4]-t[1]*t[3]);return[n*t[4],-n*t[1],n*(t[1]*t[5]-t[2]*t[4]),-n*t[3],n*t[0],n*(t[2]*t[3]-t[0]*t[5])]}function _c(t,n){return[t[0]*n[0]+t[1]*n[3],t[0]*n[1]+t[1]*n[4],t[0]*n[2]+t[1]*n[5]+t[2],t[3]*n[0]+t[4]*n[3],t[3]*n[1]+t[4]*n[4],t[3]*n[2]+t[4]*n[5]+t[5]]}function pm(t,n){return[t[0]-n[0],t[1]-n[1]]}function vm(t){return St(t[0]*t[0]+t[1]*t[1])}function gO(t,n){return ye(t[0]*n[1]-t[1]*n[0],t[0]*n[0]+t[1]*n[1])}function oi(t,n){e(t,{transform:null});function e(s,c){if(s.edges=vO(s.face),c.face){var f=s.shared=pO(s.face,c.face),h=hO(f.map(c.project),f.map(s.project));s.transform=c.transform?_c(c.transform,h):h;for(var l=c.edges,d=0,g=l.length;d<g;++d)fr(f[0],l[d][1])&&fr(f[1],l[d][0])&&(l[d]=s),fr(f[0],l[d][0])&&fr(f[1],l[d][1])&&(l[d]=s);for(l=s.edges,d=0,g=l.length;d<g;++d)fr(f[0],l[d][0])&&fr(f[1],l[d][1])&&(l[d]=c),fr(f[0],l[d][1])&&fr(f[1],l[d][0])&&(l[d]=c)}else s.transform=c.transform;return s.children&&s.children.forEach(function(p){e(p,s)}),s}function r(s,c){var f=n(s,c),h=f.project([s*Xt,c*Xt]),l;return(l=f.transform)?[l[0]*h[0]+l[1]*h[1]+l[2],-(l[3]*h[0]+l[4]*h[1]+l[5])]:(h[1]=-h[1],h)}r_(t)&&(r.invert=function(s,c){var f=i(t,[s,-c]);return f&&(f[0]*=Lt,f[1]*=Lt,f)});function i(s,c){var f=s.project.invert,h=s.transform,l=c;if(h&&(h=dO(h),l=[h[0]*l[0]+h[1]*l[1]+h[2],h[3]*l[0]+h[4]*l[1]+h[5]]),f&&s===o(d=f(l)))return d;for(var d,g=s.children,p=0,v=g&&g.length;p<v;++p)if(d=i(g[p],c))return d}function o(s){return n(s[0]*Lt,s[1]*Lt)}var a=Wo(r),u=[];return e_({point:function(s,c){u.push([s,c])}},t),u.push(u[0]),a.preclip(yu({type:"Polygon",coordinates:[u]})),a.tree=function(){return t},a}function e_(t,n,e){var r,i=n.edges,o=i.length,a,u={type:"MultiPoint",coordinates:n.face},s=n.face.filter(function(g){return Zt(g[1])!==90}),c=CD({type:"MultiPoint",coordinates:s}),f=!1,h=-1,l=c[1][0]-c[0][0];if(n.centroid=l===180||l===360?[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2]:Hi(u),e)for(;++h<o&&i[h]!==e;);++h;for(var d=0;d<o;++d)a=i[(d+h)%o],Array.isArray(a)?(f||(t.point((r=sm(a[0],n.centroid)(Yt))[0],r[1]),f=!0),t.point((r=sm(a[1],n.centroid)(Yt))[0],r[1])):(f=!1,a!==e&&e_(t,a,n))}function pO(t,n){for(var e,r,i=t.length,o=null,a=0;a<i;++a){e=t[a];for(var u=n.length;--u>=0;)if(r=n[u],e[0]===r[0]&&e[1]===r[1]){if(o)return[o,e];o=e}}}function vO(t){for(var n=t.length,e=[],r=t[n-1],i=0;i<n;++i)e.push([r,r=t[i]]);return e}function r_(t){return t.project.invert||t.children&&t.children.some(r_)}var mO=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]];const Bs=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(t){return t.map(function(n){return mO[n]})});function yO(t){t=t||function(e){var r=Hi({type:"MultiPoint",coordinates:e});return Fo().scale(1).translate([0,0]).rotate([-r[0],-r[1]])};var n=Bs.map(function(e){return{face:e,project:t(e)}});return[-1,0,0,1,0,1,4,5].forEach(function(e,r){var i=n[e];i&&(i.children||(i.children=[])).push(n[r])}),oi(n[0],function(e,r){return n[e<-gt/2?r<0?6:4:e<0?r<0?2:0:e<gt/2?r<0?3:1:r<0?7:5]}).angle(-30).scale(101.858).center([0,45])}function Gg(t,n){var e=St(1-Mt(n));return[2/mh*t*e,mh*(1-e)]}Gg.invert=function(t,n){var e=(e=n/mh-1)*e;return[e>0?t*St(gt/e)/2:0,me(1-e)]};var i_=2/St(3);function o_(t,n){var e=Gg(t,n);return[e[0]*i_,e[1]]}o_.invert=function(t,n){return Gg.invert(t/i_,n)};function wO(t){t=t||function(e){var r=Hi({type:"MultiPoint",coordinates:e});return Wo(o_).translate([0,0]).scale(1).rotate(r[1]>0?[-r[0],0]:[180-r[0],180])};var n=Bs.map(function(e){return{face:e,project:t(e)}});return[-1,0,0,1,0,1,4,5].forEach(function(e,r){var i=n[e];i&&(i.children||(i.children=[])).push(n[r])}),oi(n[0],function(e,r){return n[e<-gt/2?r<0?6:4:e<0?r<0?2:0:e<gt/2?r<0?3:1:r<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function _O(t){t=t||function(a){var u=a.length===6?Hi({type:"MultiPoint",coordinates:a}):a[0];return Fo().scale(1).translate([0,0]).rotate([-u[0],-u[1]])};var n=Bs.map(function(a){for(var u=a.map(a0),s=u.length,c=u[s-1],f,h=[],l=0;l<s;++l)f=u[l],h.push(mm([c[0]*.9486832980505138+f[0]*.31622776601683794,c[1]*.9486832980505138+f[1]*.31622776601683794,c[2]*.9486832980505138+f[2]*.31622776601683794]),mm([f[0]*.9486832980505138+c[0]*.31622776601683794,f[1]*.9486832980505138+c[1]*.31622776601683794,f[2]*.9486832980505138+c[2]*.31622776601683794])),c=f;return h}),e=[],r=[-1,0,0,1,0,1,4,5];n.forEach(function(a,u){for(var s=Bs[u],c=s.length,f=e[u]=[],h=0;h<c;++h)n.push([s[h],a[(h*2+2)%(2*c)],a[(h*2+1)%(2*c)]]),r.push(u),f.push(bO(a0(a[(h*2+2)%(2*c)]),a0(a[(h*2+1)%(2*c)])))});var i=n.map(function(a){return{project:t(a),face:a}});r.forEach(function(a,u){var s=i[a];s&&(s.children||(s.children=[])).push(i[u])});function o(a,u){var s=dt(u),c=[s*dt(a),s*Mt(a),Mt(u)],f=a<-gt/2?u<0?6:4:a<0?u<0?2:0:a<gt/2?u<0?3:1:u<0?7:5,h=e[f];return i[o0(h[0],c)<0?8+3*f:o0(h[1],c)<0?8+3*f+1:o0(h[2],c)<0?8+3*f+2:f]}return oi(i[0],o).angle(-30).scale(110.625).center([0,45])}function o0(t,n){for(var e=0,r=t.length,i=0;e<r;++e)i+=t[e]*n[e];return i}function bO(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function mm(t){return[ye(t[1],t[0])*Xt,me(ph(-1,vh(1,t[2])))*Xt]}function a0(t){var n=t[0]*Lt,e=t[1]*Lt,r=dt(e);return[r*dt(n),r*Mt(n),Mt(e)]}function ol(t,n,e,r){t=t||[],n=n||{features:[]},r=r||a,e=e||function(f){return Fo().scale(1).translate([0,0]).rotate([-f.site[0],-f.site[1]])};var i=[];function o(){i=n.features.map(function(f,h){var l=f.geometry.coordinates[0],d=l.slice(0,-1);return d.site=f.properties&&f.properties.sitecoordinates?f.properties.sitecoordinates:Hi(f.geometry),{face:d,site:d.site,id:h,project:e(d)}}),t.forEach(function(f,h){var l=i[f];l&&(l.children||(l.children=[])).push(i[h])})}function a(f,h){for(var l=1/0,d=-1,g=0;g<i.length;g++){var p=qs(i[g].site,[f,h]);p<l&&(l=p,d=g)}return d}function u(f,h){return i[r(f*Xt,h*Xt)]}var s=Fo();function c(){var f=s.rotate(),h=s.translate(),l=s.center(),d=s.scale(),g=s.angle();return i.length&&(s=oi(i[0],u)),s.parents=function(p){return arguments.length?(t=p,o(),c()):t},s.polygons=function(p){return arguments.length?(n=p,o(),c()):n},s.faceProjection=function(p){return arguments.length?(e=p,o(),c()):e},s.faceFind=function(p){return arguments.length?(r=p,c()):r},s.rotate(f).translate(h).center(l).scale(d).angle(g)}return o(),c()}function MO(){var t=me(1/St(3))*Xt,n=ho((St(5)-1)/St(3)/2)*Xt,e=90-n,r=ho(-(1+St(5))/St(3)/2)*Xt,i=[[[45,t],[0,n],[180,n],[135,t],[90,e]],[[45,t],[e,0],[-e,0],[-45,t],[0,n]],[[45,t],[90,e],[90,-e],[45,-t],[e,0]],[[0,n],[-45,t],[-90,e],[-135,t],[180,n]],[[e,0],[45,-t],[0,-n],[-45,-t],[-e,0]],[[90,e],[135,t],[r,0],[135,-t],[90,-e]],[[45,-t],[90,-e],[135,-t],[180,-n],[0,-n]],[[135,t],[180,n],[-135,t],[-r,0],[r,0]],[[-45,t],[-e,0],[-45,-t],[-90,-e],[-90,e]],[[-45,-t],[0,-n],[180,-n],[-135,-t],[-90,-e]],[[135,-t],[r,0],[-r,0],[-135,-t],[180,-n]],[[-135,t],[-90,e],[-90,-e],[-135,-t],[-r,0]]],o={type:"FeatureCollection",features:i.map(function(a){return a.push(a[0]),{geometry:{type:"Polygon",coordinates:[a]}}})};return ol().parents([-1,0,4,8,1,2,2,3,1,8,6,3]).angle(72*1.5).polygons(o).scale(99.8).rotate([-8,0,-32])}function ym(t){function n(e,r){if(Zt(Zt(r)-_n)<Yt)return[0,r<0?-2:2];var i=Mt(r),o=pr((1+i)/(1-i),t/2),a=.5*(o+1/o)+dt(e*=t);return[2*Mt(e)/a,(o-1/o)/a]}return n.invert=function(e,r){var i=Zt(r);if(Zt(i-2)<Yt)return e?null:[0,mu(r)*_n];if(i>2)return null;e/=2,r/=2;var o=e*e,a=r*r,u=2*r/(1+o+a);return u=pr((1+u)/(1-u),1/t),[ye(2*e,1-o-a)/t,me((u-1)/(u+1))]},n}function nn(t,n){return[t[0]*n[0]-t[1]*n[1],t[1]*n[0]+t[0]*n[1]]}function pi(t,n){return[t[0]+n[0],t[1]+n[1]]}function wm(t,n){return[t[0]-n[0],t[1]-n[1]]}function a_(t){return t[0]*t[0]+t[1]*t[1]}function xO(t){return St(a_(t))}function u_(t,n){var e=Zt(t),r=Zt(n);return t===0?Wu(r):n===0?Wu(e):e<3e3&&r<3e3?Wu(t*t+n*n)*.5:Wu(t/dt(ye(n,t)))}function qr(t,n){var e=t[1],r,i;if(t=t[0],t===0&&e===0)return[0,0];if(typeof n=="number"&&(n=[n,0]),!n[1]){if(e===0&&t>=0)return[pr(t,n[0]),0];if(t===0)switch((n[1]%4+4)%4){case 0:return[pr(e,n[0]),0];case 1:return[0,pr(e,n[0])];case 2:return[-pr(e,n[0]),0];case 3:return[0,-pr(e,n[0])]}}return r=ye(e,t),i=u_(t,e),t=gh(n[0]*i-n[1]*r),e=n[1]*i+n[0]*r,[t*dt(e),t*Mt(e)]}var _m=[-1/2,St(3)/2],SO=[1.7666387502854533,0],u0=.3*.3;function EO(t){var n=[0,0],e=qr(_m,z8([0,1,2].map(function(h){return-nn(t,qr(_m,[h,0]))[0]}))),r=nn(e,t);r=[1-r[0],-r[1]];for(var i=[1.44224957030741,.240374928384568,.0686785509670194,.0178055502507087,.00228276285265497,-.00148379585422573,-.00164287728109203,-.00102583417082273,-.000483607537673571,-.000167030822094781,-245024395166263e-19,214092375450951e-19,255897270486771e-19,173086854400834e-19,872756299984649e-20,318304486798473e-20,479323894565283e-21,-458968389565456e-21,-562970586787826e-21,-392135372833465e-21],o=[0,0],a=i.length;a--;)o=pi([i[a],0],nn(o,r));n=nn(pi(SO,nn([-o[0],-o[1]],qr(r,1-2/3))),nn(e,e));var u=a_(t);if(u<u0){var s=[1,.3333333333333333,.18518518518518517,.12345679012345678,.09053497942386832],c=qr(t,[3,0]),f=[0,0];for(a=s.length;a--;)f=pi([s[a],0],nn(f,c));f=nn(f,t),n=pi(nn(n,[u/u0,0]),nn(f,[1-u/u0,0]))}return n}var $O=ym?ym(.5):null;function c_(t,n){var e=$O(t,n),r=EO([e[1]/2,e[0]/2]);return[r[1],r[0]]}function AO(){var t=2*me(1/St(5))*Xt;return{type:"Polygon",coordinates:[[[0,90],[-180,-t+Yt],[0,-90],[180,-t+Yt],[0,90]]]}}function PO(){var t=Wo(c_),n=t.stream;return t.stream=function(e){var r=t.rotate(),i=n(e),o=(t.rotate([0,0]),n(e));return t.rotate(r),i.sphere=function(){wu(AO(),o)},i},t.scale(188.305).translate([480,333.167])}function TO(t,n,e){var r=100,i,o,a;e=e===void 0?0:+e,n=+n;do o=t(e),a=t(e+Yt),o===a&&(a=o+Yt),e-=i=-1*Yt*(o-n)/(o-a);while(r-- >0&&Zt(i)>Yt);return r<0?NaN:e}function s_(t,n=40,e=lo){return function(r,i,o=0,a=0){for(var u,s,c,f=0;f<n;f++){var h=t(o,a),l=h[0]-r,d=h[1]-i;if(Zt(l)<e&&Zt(d)<e)break;var g=l*l+d*d;if(g>u){o-=s/=2,a-=c/=2;continue}u=g;var p=(o>0?-1:1)*e,v=(a>0?-1:1)*e,m=t(o+p,a),w=t(o,a+v),_=(m[0]-h[0])/p,y=(m[1]-h[1])/p,M=(w[0]-h[0])/v,x=(w[1]-h[1])/v,T=x*_-y*M,N=(Zt(T)<.5?.5:1)/T;if(s=(d*M-l*x)*N,c=(l*y-d*_)*N,o+=s,a+=c,Zt(s)<e&&Zt(c)<e)break}return[o,a]}}function tu(t,n){var e=[-.5,St(3)/2],r=[0,0],i=[0,0],o,a=nn(n_(t,n),[St(2),0]),u=z8([0,1,2].map(function(m){return-nn(a,qr(e,[m,0]))[0]})),s=qr(e,[u,0]),c=xO(a);if(c>.3){var f=wm([1,0],nn(s,a)),h=1.4021821053254548,l=[1.15470053837925,.192450089729875,.0481125224324687,.010309826235529,.000334114739114366,-.00150351632601465,-.0012304417796231,-.000675190201960282,-.000284084537293856,-821205120500051e-19,-159257630018706e-20,191691805888369e-19,173095888028726e-19,103865580818367e-19,470614523937179e-20,14413500104181e-19,192757960170179e-22,-382869799649063e-21,-357526015225576e-21,-22175964844211e-20],d=[0,0];for(o=l.length;o--;)d=pi([l[o],0],nn(d,f));r=wm([h,0],nn(qr(f,1/2),d)),r=nn(r,s),r=nn(r,s)}if(c<.5){var g=[1,.125,.05357142857142857,.03125,.021033653846153848,.015380859375,.011872944078947368],p=qr(a,[3,0]);for(o=g.length;o--;)i=pi([g[o],0],nn(i,p));i=nn(i,a)}if(c<.3)return i;if(c>.5)return r;var v=(c-.3)/(.5-.3);return pi(nn(r,[v,0]),nn(i,[1-v,0]))}var RO=s_(tu);tu.invert=function(t,n){if(t>1.5)return!1;var e=RO(t,n,t,n*.5),r=tu(e[0],e[1]);return r[0]-=t,r[1]-=n,r[0]*r[0]+r[1]*r[1]<1e-8?e:[-10,0]};var c0=me(1/3),NO=[[0,90],[-180,-c0*Xt],[-60,-c0*Xt],[60,-c0*Xt]],ea=[[1,2,3],[0,2,1],[0,3,2],[0,1,3]].map(function(t){return t.map(function(n){return NO[n]})});function CO(){var t=function(r){var i=Hi({type:"MultiPoint",coordinates:r}),o=[-i[0],-i[1],30];return Zt(i[1])==90&&(o=[0,-i[1],-30]),Wo(tu).scale(1).translate([0,0]).rotate(o)},n=ea.map(function(r){return{face:r,project:t(r)}});[-1,0,0,0].forEach(function(r,i){var o=n[r];o&&(o.children||(o.children=[])).push(n[i])});var e=oi(n[0],function(r,i){r*=Xt,i*=Xt;for(var o=0;o<n.length;o++)if(J8({type:"Polygon",coordinates:[[ea[o][0],ea[o][1],ea[o][2],ea[o][0]]]},[r,i]))return n[o]});return e.rotate([30,180]).angle(30).scale(118.662).translate([480,195.47])}function f_(){var t=St(3),n=St(5+2*St(5))/St(15),e=St(8)/St(5+St(5)),r=St(3+St(5))/St(5+St(5)),i=function(o,a){var u=dt(a),s=n/(u*dt(o)),c=u*Mt(o)*s,f=Mt(a)*s,h=ye(2*f/t+e/3-e/2,r),l=ye(c-f/t+e/3-e/2,r),d=ye(e/3-c-f/t-e/2,r);return[t*(l-d),2*h-l-d]};return i.invert=function(o,a){if(o*o+a*a>5)return[0,3];var u=2.9309936378128416,s=Ug.invert(o/u,a/u),c=0;do{var f=i(s[0],s[1]),h=o-f[0],l=a-f[1];s[0]+=.2*h,s[1]+=.2*l}while(c++<30&&Zt(h)+Zt(l)>Yt);return s},i}function kO(t){var n=Lr(.5)*Xt,e=[[0,90],[0,-90]].concat(sD(10).map(function(o){var a=(o*36+180)%360-180;return[a,o&1?n:-n]})),r=[[0,3,11],[0,5,3],[0,7,5],[0,9,7],[0,11,9],[2,11,3],[3,4,2],[4,3,5],[5,6,4],[6,5,7],[7,8,6],[8,7,9],[9,10,8],[10,9,11],[11,2,10],[1,2,4],[1,4,6],[1,6,8],[1,8,10],[1,10,2]].map(function(o){return o.map(function(a){return e[a]})});r.forEach(function(o){o.centroid=Hi({type:"MultiPoint",coordinates:o})}),function(){var o,a,u,s;o=r[15],s=o.centroid,a=o.slice(),o[0]=s,o=[a[0],s,a[2]],o.centroid=s,r.push(o),o=[a[0],a[1],s],o.centroid=s,r.push(o),o=r[14],s=o.centroid,a=o.slice();var c=Fo().scale(1).translate([0,0]).rotate([-s[0],-s[1]]),f=c(o[1]),h=c(o[2]);u=c.invert([(f[0]+h[0])/2,(f[1]+h[1])/2]),o[1]=u,o=[a[0],a[1],u],o.centroid=s,r.push(o),o=r[19],s=o.centroid,a=o.slice(),o[1]=u,o=[u,a[0],a[1]],o.centroid=s,r.push(o)}();var i=function(o){o=o||function(f){var h=f.centroid;return Fo().scale(1).translate([0,0]).rotate([-h[0],-h[1]])};var a=r.map(function(f,h){var l=f.slice();return l.push(l[0]),{face:f,site:f.centroid,id:h,contains:function(d,g){return J8({type:"Polygon",coordinates:[l]},[d*Xt,g*Xt])},project:o(f)}}),u=[-1,0,1,11,13,6,7,1,7,8,9,10,11,12,13,6,8,10,17,21,16,15,19,19];u.forEach(function(f,h){var l=a[f];l&&(l.children||(l.children=[])).push(a[h])});function s(f,h){for(var l=0;l<a.length;l++)if(a[l].contains(f,h))return a[l]}var c=oi(a[0],s);return c.faces=a,c};return i(t)}function IO(){var t=kO(function(n){var e=n.centroid;return n.direction=Math.abs(e[1]-52.62)<1||Math.abs(e[1]+10.81)<1?0:60,Wo(f_()).scale(1).translate([0,0]).rotate([-e[0],-e[1],n.direction||0])});return t.rotate([-83.65929,25.44458,-87.45184]).angle(-60).scale(45.4631).center([126,0])}function zO(){var t=Lr(.5)*Xt,n=[[0,90],[0,-90]].concat([0,1,2,3,4,5,6,7,8,9].map(function(o){var a=(o*36+180)%360-180;return[a,o&1?t:-t]})),e=[[0,3,11],[0,5,3],[0,7,5],[0,9,7],[0,11,9],[2,11,3],[3,4,2],[4,3,5],[5,6,4],[6,5,7],[7,8,6],[8,7,9],[9,10,8],[10,9,11],[11,2,10],[1,2,4],[1,4,6],[1,6,8],[1,8,10],[1,10,2]].map(function(o){return o.map(function(a){return n[a]})}),r={type:"FeatureCollection",features:e.map(function(o){return o.push(o[0]),{geometry:{type:"Polygon",coordinates:[o]}}})},i=[-1,7,9,11,13,0,5,6,7,8,9,10,11,12,13,6,8,10,12,14];return ol().parents(i).angle(0).polygons(r).rotate([108,0]).scale(131.777).center([162,0])}var bm=Math.hypot,s0=me(1/3),zh=[[_n,0,0,-_n,0,St(3)],[-s0,0,gt,_n,0,-St(3)],[-s0,2*gt/3,gt,5*gt/6,3,0],[-s0,-2*gt/3,gt,gt/6,-3,0]],DO={sphereSym:3,planarSym:6,width:6,height:2*St(3),centrums:zh,rotateOOB:function(t,n,e,r){return Zt(t)>this.width/2?[2*e-t,-n]:[-t,this.height*mu(n)-n]},inBounds:()=>!0},Se=DO;function Hg(t){function n(u,s){const c=Lr((u-me(Mt(u)/St(3)))/gt*St(12)),f=(_n-s)/Lr(St(2)/dt(u));return[pr(f,t)*St(3)/dt(c),c]}function e(u,s){const c=TO(h=>Lr((h-me(Mt(h)/St(3)))/gt*St(12)),s,s/2),f=u/(St(3)/dt(s));return[_n-pr(f,1/t)*Lr(St(2)/dt(c)),c]}function r(u,s,c){if(c==null)return[u,s];const f=c[0],h=c[1],l=c[2];let d,g;return f==_n?d=u:d=me(Mt(f)*Mt(u)+dt(f)*dt(u)*dt(h-s)),f==_n?g=s-h:f==-_n?g=h-s-gt:(g=ho((dt(f)*Mt(u)-Mt(f)*dt(u)*dt(h-s))/dt(d))-gt,isNaN(g)?dt(h-s)>=0&&u<f||dt(h-s)<0&&u<-f?g=0:g=-gt:Mt(s-h)>0&&(g=-g)),g=g-l,[d,g]}function i(u,s){if(s==null)return u;let c=u[0],f=u[1];const h=s[0],l=s[1],d=s[2];f+=d;let g=me(Mt(h)*Mt(c)-dt(h)*dt(f)*dt(c)),p,v=Mt(c)/dt(h)/dt(g)-Sa(h)*Sa(g);h==_n?p=f+l:h==-_n?p=-f+l+gt:Zt(v)>1?f==0&&c<-h||f!=0&&c<h?p=l+gt:p=l:Mt(f)>0?p=l+ho(v):p=l-ho(v);let m=s[2];return[g,p,m]}function o(u,s){const c=Se.width,f=Se.height,h=Se.sphereSym;let l=-1/0,d=-1/0,g=null;for(const x of zh){const T=r(s,u,x);T[0]>l&&(l=T[0],d=T[1],g=x)}const p=Ov((d+gt/h)/(2*gt/h))*(2*gt/h),v=n(d-p,l),m=v[0],w=v[1]+g[3]+p*h/Se.planarSym,_=g[4],y=g[5];let M=[m*dt(w)+_,m*Mt(w)+y];return(Zt(M[0])>c/2||Zt(M[1])>f/2)&&(M=Se.rotateOOB(M[0],M[1],_,y)),M}function a(u,s){if(isNaN(u)||isNaN(s))return null;const c=Se.planarSym;let f=1/0,h=null;for(const y of zh){const M=bm(u-y[4],s-y[5]);M<f&&(f=M,h=y)}const l=h[3],d=h[4],g=h[5],p=bm(u-d,s-g),v=ye(s-g,u-d)-l,m=Ov((v+gt/c)/(2*gt/c))*(2*gt/c);let w=e(p,v-m);if(w==null)return null;w[1]=m*c/Se.sphereSym+w[1];let _=i(w,h);return[_[1],_[0]]}return o.invert=a,o}function OO(){var t=.68,n=bu(Hg),e=n(t);e.k=function(o){return arguments.length?n(t=+o):t};var r=-Lr(1/St(2))*Xt,i=[[-180+Yt,r+Yt],[0,90],[180-Yt,r+Yt],[180-Yt,r-Yt],[-180+Yt,r-Yt],[-180+Yt,r+Yt]];return e.preclip(yu({type:"Polygon",coordinates:[i]})).scale(144.04).rotate([18,-12.5,3.5]).center([0,35.2644])}function FO(t,n){var e=Hg(t);const r=Se.height;function i(a,u){const s=e(a,u),c=[s[1],-s[0]];return c[1]>0&&(c[0]=r-c[0],c[1]*=-1),c[0]+=n,c[0]<0&&(c[0]+=r*2),c}function o(a,u){return a=(a-n)/r,a>1.5&&(a-=2),a>.5&&(a=1-a,u*=-1),e.invert(-u,a*r)}return i.invert=o,i}function LO(){var t=.59,n=1.16,e=bu(FO),r=e(t,n);r.shift=function(o){return arguments.length?i(e(t,n=+o)):n},r.k=function(o){return arguments.length?i(e(t=+o,n)):t};function i(o){const a=100+2*Yt,u=[],s=.003,c=o.scale(),f=o.center(),h=o.translate(),l=o.rotate();o.scale(1).center([0,90]).rotate([0,0]).translate([n,0]);for(let d=a-Yt;d>0;d--)u.unshift(o.invert([1.5*Se.height-s,Se.width/2*d/a])),u.push(o.invert([-.5*Se.height+s,Se.width/2*d/a]));return u.push(u[0]),o.scale(c).center(f).translate(h).rotate(l).preclip(yu({type:"Polygon",coordinates:[u]}))}return i(r).rotate([18,-12.5,3.5]).scale(138.42).translate([480,250]).center([-139.405,40.5844])}var Cr=Lr(rD)*Xt,qO=[[0,Cr],[90,Cr],[180,Cr],[-90,Cr],[0,-Cr],[90,-Cr],[180,-Cr],[-90,-Cr]];const UO=[[0,3,2,1],[0,1,5,4],[1,2,6,5],[2,3,7,6],[3,0,4,7],[4,5,6,7]].map(function(t){return t.map(function(n){return qO[n]})});function GO(){var t={type:"FeatureCollection",features:UO.map(function(e){return e=e.slice(),e.push(e[0]),{geometry:{type:"Polygon",coordinates:[e]}}})},n=[-1,0,1,5,3,2];return ol().polygons(t).parents(n).angle(0).scale(96.8737).center([135,-45]).rotate([120,0])}function HO(t){t=t||function(){return BO().scale(1)};var n=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]];n=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(u){return u.map(function(s){return n[s]})});var e=n.map(function(u){for(var s=u.map(n0),c=s.length,f=s[c-1],h,l=17*Lt,d=dt(l),g=Mt(l),p=[],v=0;v<c;++v)h=s[v],p.push(qv([f[0]*d+h[0]*g,f[1]*d+h[1]*g,f[2]*d+h[2]*g]),qv([h[0]*d+f[0]*g,h[1]*d+f[1]*g,h[2]*d+f[2]*g])),f=h;return p}),r=[],i=[-1,3,0,2,0,1,4,5];e.forEach(function(u,s){for(var c=n[s],f=c.length,h=r[s]=[],l=0;l<f;++l)e.push([c[l],u[(l*2+2)%(2*f)],u[(l*2+1)%(2*f)]]),i.push(s),h.push(Gr(n0(u[(l*2+2)%(2*f)]),n0(u[(l*2+1)%(2*f)])))});var o=e.map(function(u){return{project:t(u),face:u}});return i.forEach(function(u,s){var c=o[u];c&&(c.children||(c.children=[])).push(o[s])}),oi(o[0],a).scale(.023975).rotate([20,0]).center([0,-17]);function a(u,s){var c=dt(s),f=[c*dt(u),c*Mt(u),Mt(s)],h=u<-gt/2?s<0?6:4:u<0?s<0?2:0:u<gt/2?s<0?3:1:s<0?7:5,l=r[h];return o[$n(l[0],f)<0?8+3*h:$n(l[1],f)<0?8+3*h+1:$n(l[2],f)<0?8+3*h+2:h]}}function l_(t){var n={lengthMG:t};e();function e(){var E,O,z,H,Y,X=29,j=15,et,it,yt,ht,Ot,nt,ft=St(3);return n.lengthMA=940/1e4*n.lengthMG,n.lengthParallel0to73At0=n.lengthMG/100,n.lengthParallel73to90At0=(n.lengthMG-n.lengthMA-n.lengthParallel0to73At0*73)/17,n.sin60=ft/2,n.cos60=.5,n.pointM=[0,0],n.pointG=[n.lengthMG,0],E=[n.lengthMG,n.lengthMG*Sa(30*Lt)],n.pointA=[n.lengthMA,0],n.pointB=o(n.pointM,30,n.pointA,45),n.lengthAG=r(n.pointA,n.pointG),n.lengthAB=r(n.pointA,n.pointB),O=r(n.pointM,n.pointB),z=r(n.pointM,E),H=r(E,n.pointG),n.pointD=i(O,z,E,n.pointM),n.pointF=[n.lengthMG,H-O],n.pointE=[E[0]-n.lengthMA*Mt(30*Lt),E[1]-n.lengthMA*dt(30*Lt)],n.lengthGF=r(n.pointG,n.pointF),n.lengthBD=r(n.pointB,n.pointD),n.lengthBDE=n.lengthBD+n.lengthAB,n.lengthGFE=n.lengthGF+n.lengthAB,n.deltaMEq=n.lengthGFE/45,n.lengthAP75=15*n.lengthParallel73to90At0,n.lengthAP73=n.lengthMG-n.lengthMA-n.lengthParallel0to73At0*73,Y=[n.pointA[0]+n.lengthAP73*dt(30*Lt),n.pointA[1]+n.lengthAP73*Mt(30*Lt)],n.pointT=o(Y,-60,n.pointB,30),et=p(X),it=et.lengthParallel73,yt=d(X),ht=g(X),Ot=j*(yt+ht+it)/73,nt=[0,0],n.pointC=[0,0],n.radius=0,Ot=Ot-yt,nt=i(Ot,ht,h(X),l(X)),n.pointC[1]=(nt[0]*nt[0]+nt[1]*nt[1]-n.pointD[0]*n.pointD[0]-n.pointD[1]*n.pointD[1])/(2*(ft*nt[0]+nt[1]-ft*n.pointD[0]-n.pointD[1])),n.pointC[0]=ft*n.pointC[1],n.radius=r(n.pointC,n.pointD),n}function r(E,O){var z=E[0]-O[0],H=E[1]-O[1];return St(z*z+H*H)}function i(E,O,z,H){var Y=[z[0]+(H[0]-z[0])*E/O,z[1]+(H[1]-z[1])*E/O];return Y}function o(E,O,z,H){var Y=Sa(O*Lt),X=Sa(H*Lt),j=[0,0];return j[0]=(Y*E[0]-X*z[0]-E[1]+z[1])/(Y-X),j[1]=Y*(j[0]-E[0])+E[1],j}function a(E,O,z,H){var Y=z[0],X=z[1],j=H[0],et=H[1],it=E[0],yt=E[1],ht=(j-Y)*(j-Y)+(et-X)*(et-X),Ot=2*((j-Y)*(Y-it)+(et-X)*(X-yt)),nt=it*it+yt*yt+Y*Y+X*X-2*(it*Y+yt*X)-O*O,ft=Ot*Ot-4*ht*nt,bt=0,K=0,Ft=0,b=0;return ht===0?[0,[0,0]]:ft<0?[0,[0,0]]:(bt=(-Ot+St(ft))/(2*ht),K=(-Ot-St(ft))/(2*ht),0<=bt&&bt<=1?(Ft=Y+bt*(j-Y),b=X+bt*(et-X),[1,[Ft,b]]):0<=K&&K<=1?(Ft=Y+K*(j-Y),b=X+K*(et-X),[1,[Ft,b]]):[0,[0,0]])}function u(E,O){var z=[0,0];return O===-60?(z[0]=E[0]*n.cos60+E[1]*n.sin60,z[1]=-E[0]*n.sin60+E[1]*n.cos60):O===-120?(z[0]=-E[0]*n.cos60+E[1]*n.sin60,z[1]=-E[0]*n.sin60-E[1]*n.cos60):(z[0]=E[0]*dt(O*Lt)-E[1]*Mt(O*Lt),z[1]=E[0]*Mt(O*Lt)+E[1]*dt(O*Lt)),z}function s(E){return Math[E>0?"floor":"ceil"](E)}function c(E){var O=n.deltaMEq*E,z=[0,0];return O<=n.lengthGF?z=[n.pointG[0],O]:(O=O-n.lengthGF,z=i(O,n.lengthAB,n.pointF,n.pointE)),z}function f(E){return c(E)}function h(E){return o(n.pointM,2*E/3,f(E),E/3)}function l(E){if(E===0)return[n.pointA+n.lengthAB,0];var O=o(n.pointA,E,n.pointM,2*E/3);return O}function d(E){return r(f(E),h(E))}function g(E){return r(h(E),l(E))}function p(E){var O=[0,0],z=l(E),H=0,Y=[0,0];return E<=30?(O[0]=n.pointA[0]+n.lengthAP73*dt(E*Lt),O[1]=n.pointA[1]+n.lengthAP73*Mt(E*Lt),H=r(z,O)):(O=o(n.pointT,-60,z,E),H=r(z,O),E>44&&(Y=o(n.pointT,-60,z,2/3*E),Y[0]>O[0]&&(O=Y,H=-r(z,O)))),{parallel73:O,lengthParallel73:H}}function v(E){return[n.pointA[0]+n.lengthAP75*dt(E*Lt),n.pointA[1]+n.lengthAP75*Mt(E*Lt)]}function m(E,O){var z=[0,6,7,8,5],H=s((E+180)/90+1),Y,X=(E+720)%90-45,j=mu(X);return X=Zt(X),H===5&&(H=1),O<0&&(H=z[H]),Y=Zt(O),[X,Y,j,H]}function w(E,O){return[n.pointA[0]+(90-O)*104,0]}function _(E,O){return[n.pointG[0]-O*100,0]}function y(E,O){var z=104*(90-O);return[n.pointA[0]+z*dt(E*Lt),n.pointA[1]+z*Mt(E*Lt)]}function M(E){return c(E)}function x(E,O){var z=1560+(75-O)*100;return[n.pointA[0]+z*dt(E*Lt),n.pointA[1]+z*Mt(E*Lt)]}function T(E,O){return i(O,15,n.pointE,n.pointD)}function N(E,O){var z=O-15;return i(z,58,n.pointD,n.pointT)}function C(E,O){var z=v(45),H=p(E),Y=H.parallel73,X=r(n.pointT,n.pointB),j=r(n.pointB,z),et=(75-O)*(j+X)/2,it=[0,0];return et<=j?it=i(et,j,z,n.pointB):(et=et-j,it=i(et,X,n.pointB,Y)),it}function I(E,O){var z=p(E),H=d(E),Y=g(E),X=O*(H+Y+z.lengthParallel73)/73,j;return X<=H?j=i(X,H,f(E),h(E)):X<=H+Y?(X=X-H,j=i(X,Y,h(E),l(E))):(X=X-H-Y,j=i(X,z.lengthParallel73,l(E),z.parallel73)),j}function P(E,O){var z=v(E),H=r(l(E),z),Y=p(E),X=Y.parallel73,j=Y.lengthParallel73,et=(75-O)*(H-j)/2,it=[0,0];return et<=H?it=i(et,H,z,l(E)):(et=et-H,it=i(et,-j,l(E),X)),it}function B(E,O,z){var H=O*z/15,Y=d(E),X=g(E),j=[0,0];return H<=Y?j=i(H,Y,f(E),h(E)):(H=H-Y,j=i(H,X,h(E),l(E))),j}function F(E,O,z){var H=p(E),Y=H.parallel73,X=d(E),j=g(E),et,it=H.lengthParallel73,yt=z+(O-15)*(X+j+it-z)/58;return yt<=X?et=i(yt,X,f(E),l(E)):yt<=X+j?(yt=yt-X,et=i(yt,j,h(E),l(E))):(yt=yt-X-j,et=i(yt,it,l(E),Y)),et}function A(E,O){var z=[0,0],H,Y,X,j,et;return E===0?O>=75?z=w(E,O):z=_(E,O):O>=75?z=y(E,O):O===0?z=M(E):O>=73&&E<=30?z=x(E,O):E===45?O<=15?z=T(E,O):O<=73?z=N(E,O):z=C(E,O):E<=29?z=I(E,O):O>=73?z=P(E,O):(Y=a(n.pointC,n.radius,h(E),l(E)),j=Y[0],X=Y[1],H=d(E),j===1?et=H+r(h(E),X):(Y=a(n.pointC,n.radius,f(E),h(E)),j=Y[0],X=Y[1],et=H-r(h(E),X)),O<=15?z=B(E,O,et):z=F(E,O,et)),z}function $(E,O){var z=[0,0];if(O===0)z=u(E,-60);else if(O===1)z=u(E,-120),z[0]-=n.lengthMG;else if(O===2)z=u(E,-60),z[0]-=n.lengthMG;else if(O===3)z=u(E,-120),z[0]+=n.lengthMG;else if(O===4)z=u(E,-60),z[0]+=n.lengthMG;else if(O===5)z=u([2*n.lengthMG-E[0],E[1]],-60),z[0]+=n.lengthMG;else if(O===6)z=u([2*n.lengthMG-E[0],E[1]],-120),z[0]-=n.lengthMG;else if(O===7)z=u([2*n.lengthMG-E[0],E[1]],-60),z[0]-=n.lengthMG;else if(O===8)z=u([2*n.lengthMG-E[0],E[1]],-120),z[0]+=n.lengthMG;else return z;return z}function k(E,O){var z=E*Xt,H=O*Xt,Y=m(z,H),X=Y[0],j=Y[1],et=Y[2],it=Y[3],yt=A(X,j),ht=$([yt[0],et*yt[1]],it);return ht}return k.invert=s_(k),k}function BO(){var t=1e4,n=bu(l_);return n(t)}var h_=t_,Dh=-.05,Mm=1e-10,ra={angle:90,center:[0,5.022570623227068],scale:79.92959180396787,translate:[479.9999905630355,250.35977064160338]},nc=[[-180,-1e-4],[180,-1e-4],[1e-4,Dh],[-1e-4,Dh]],ia=5,xm=50;function d_(t=h_){function n(r,i){var o=t(r,i);o=nn(o,[dt(-gt/2),Mt(-gt/2)]),o[0]==0&&o[1]==0&&(o[0]+=Mm,o[1]+=Mm);var a=[u_(o[0],o[1]),ye(o[1],o[0])];return a}function e(r,i){var o=[gh(r)*dt(i),gh(r)*Mt(i)];return o=nn(o,[dt(gt/2),Mt(gt/2)]),t.invert(o[0],o[1])}return n.invert=e,n}function YO(t=h_,n=Dh){var e=bu(d_),r=e(t);r.planarProjectionRaw=function(o){return arguments.length?i(e(t=o)):t},r.cutoffLatitude=function(o){return arguments.length?(n=o,i(e(t))):n};function i(o){var a=o.angle(),u=o.scale(),s=o.center(),c=o.translate(),f=o.rotate();o.angle(ra.angle).scale(1).center([0,0]).rotate([0,0]).translate([0,0]).preclip();var h=o(nc[0]),l=o(nc[1]),d=o([nc[2][0],n]),g=o([nc[3][0],n]),p=Zt(l[0]-h[0]),v=Zt(d[1]-l[1]),m={type:"Polygon",coordinates:[[h,...Array.from({length:ia},(w,_)=>[d[0],d[1]-v*(ia-_)/ia]),...Array.from({length:xm},(w,_)=>[d[0]-p*_/xm,d[1]]),...Array.from({length:ia},(w,_)=>[g[0],g[1]-v*_/ia]),h].map(w=>o.invert(w))]};return o.angle(a).scale(u).center(s).translate(c).rotate(f).preclip(yu(m))}return i(r).angle(ra.angle).center(ra.center).scale(ra.scale).translate(ra.translate)}const VO=Object.freeze(Object.defineProperty({__proto__:null,geoAirocean:IO,geoCahillKeyes:HO,geoCahillKeyesRaw:l_,geoClipPolygon:yu,geoComplexLog:YO,geoComplexLogRaw:d_,geoCox:PO,geoCoxRaw:c_,geoCubic:GO,geoDodecahedral:MO,geoGrayFullerRaw:f_,geoIcosahedral:zO,geoImago:LO,geoImagoBlock:OO,geoImagoRaw:Hg,geoIntersectArc:vD,geoLeeRaw:tu,geoPolyhedral:oi,geoPolyhedralButterfly:yO,geoPolyhedralCollignon:wO,geoPolyhedralVoronoi:ol,geoPolyhedralWaterman:_O,geoTetrahedralLee:CO},Symbol.toStringTag,{value:"Module"}));window._=$c;window.Backbone=K_;window.d3={...uk,...jz,...VO};window.topojson=vk;const Jt=class Jt{static floorMod(n,e){const r=n-e*Math.floor(n/e);return r===e?0:r}static distance(n,e){const r=e[0]-n[0],i=e[1]-n[1];return Math.sqrt(r*r+i*i)}static clamp(n,e,r){return Math.max(e,Math.min(n,r))}static proportion(n,e,r){return(Jt.clamp(n,e,r)-e)/(r-e)}static spread(n,e,r){return n*(r-e)+e}static isFF(){return/firefox/i.test(navigator.userAgent)}static isMobile(){return/android|blackberry|iemobile|ipad|iphone|ipod|opera mini|webos/i.test(navigator.userAgent)}static isEmbeddedInIFrame(){return window!=window.top}static toUTCISO(n){return n.getUTCFullYear()+"-"+n.getUTCMonth().toString().padStart(2,"0")+"-"+n.getUTCDate().toString().padStart(2,"0")+" "+n.getUTCHours().toString().padStart(2,"0")+":00"}static toLocalISO(n){return n.getFullYear()+"-"+(n.getMonth()+1).toString().padStart(2,"0")+"-"+n.getDate().toString().padStart(2,"0")+" "+n.getHours().toString().padStart(2,"0")+":00"}static ymdRedelimit(n,e,r){if(!e)return n.substr(0,4)+r+n.substr(4,2)+r+n.substr(6,2);const i=n.substr(0,10).split(e);return[i[0],i[1],i[2]].join(r)}static dateToUTCymd(n,e=""){return Jt.ymdRedelimit(n.toISOString(),"-",e)}static dateToConfig(n){return{date:Jt.dateToUTCymd(n,"/"),hour:n.getUTCHours().toString().padStart(2,"0")+"00"}}static log(){function n(e){return e&&e.stack?`${e}
${e.stack}`:String(e)}return{debug:e=>{var r;return(r=console==null?void 0:console.log)==null?void 0:r.call(console,n(e))},info:e=>{var r;return(r=console==null?void 0:console.info)==null?void 0:r.call(console,n(e))},error:e=>{var r;return(r=console==null?void 0:console.error)==null?void 0:r.call(console,n(e))},time:e=>{var r;return(r=console==null?void 0:console.time)==null?void 0:r.call(console,n(e))},timeEnd:e=>{var r;return(r=console==null?void 0:console.timeEnd)==null?void 0:r.call(console,n(e))}}}static view(){const n=window,e=document&&document.documentElement,r=document&&document.body,i=n.innerWidth||e&&e.clientWidth||r&&r.clientWidth||1024,o=n.innerHeight||e&&e.clientHeight||r&&r.clientHeight||768;return{width:i,height:o}}static clearCanvas(n){const e=n.getContext("2d");return e&&e.clearRect(0,0,n.width,n.height),e}static colorInterpolator(n,e){const r=n[0],i=n[1],o=n[2],a=e[0]-r,u=e[1]-i,s=e[2]-o;return function(c,f){return[Math.floor(r+c*a),Math.floor(i+c*u),Math.floor(o+c*s),f]}}static sinebowColor(n,e){let r=n*Jt.*5/6;r*=.75;const i=Math.sin(r),o=Math.cos(r),a=Math.floor(Math.max(0,-o)*255),u=Math.floor(Math.max(i,0)*255),s=Math.floor(Math.max(o,0,-i)*255);return[a,u,s,e]}static extendedSinebowColor(n,e){return n<.5?Jt.sinebowColor(n*2,e):Jt.sinebowColor((1-n)*2,e)}static asColorStyle(n,e,r,i){return"rgba("+n+", "+e+", "+r+", "+i+")"}static windIntensityColorScale(n,e){const r=[];for(let i=85;i<=255;i+=n)r.push(Jt.asColorStyle(i,i,i,1));return r.indexFor=function(i){return Math.floor(Math.min(i,e)/e*(r.length-1))},r}static segmentedColorScale(n){const e=[],r=[],i=[],o=[];for(let a=0;a<n.length-1;a++)e.push(n[a][0]),r.push(n[a][1]),i.push(Jt.colorInterpolator(n[a][1],n[a+1][1])),o.push([n[a][0],n[a+1][0]]);return e.push(n[n.length-1][0]),r.push(n[n.length-1][1]),function(a,u){if(a<=0)return[...r[0],u];if(a>=1)return[...r[r.length-1],u];let s;for(s=0;s<e.length-1&&!(a<=e[s]);s++);const c=o[s];return i[s](Jt.proportion(a,c[0],c[1]),u)}}static formatCoordinates(n,e){return Math.abs(e).toFixed(2)+" "+(e>=0?"N":"S")+", "+Math.abs(n).toFixed(2)+" "+(n>=0?"E":"W")}static formatScalar(n,e){return e.conversion(n).toFixed(e.precision)}static formatVector(n,e){const r=Math.atan2(-n[0],-n[1])/Jt.*360;return(Math.round((r+360)%360/5)*5).toFixed(0)+" @ "+Jt.formatScalar(n[2],e)}static async loadJson(n){return new Promise((e,r)=>{Pw(n).then(e).catch(i=>{i.status?r({status:i.status,message:i.statusText,resource:n}):r({status:-1,message:"Cannot load resource: "+n,resource:n})})})}static distortion(n,e,r,i,o){const a=e<0?Jt.H:-36e-6,u=r<0?Jt.H:-36e-6,s=n([e+a,r]),c=n([e,r+u]);if(!s||!c)return[0,0,0,0];const f=Math.cos(r/360*Jt.);return[(s[0]-i)/a/f,(s[1]-o)/a/f,(c[0]-i)/u,(c[1]-o)/u]}static parse(n,e,r){let i,o={};const a=/^(current|(\d{4})\/(\d{1,2})\/(\d{1,2})\/(\d{3,4})Z)\/(\w+)\/(\w+)\/(\w+)([\/].+)?/.exec(n);if(a){const u=a[1]==="current"?"current":a[2]+"/"+(+a[3]).toString().padStart(2,"0")+"/"+(+a[4]).toString().padStart(2,"0"),s=a[5]!=null?(+a[5]).toString().padStart(4,"0"):"";o={date:u,hour:s,param:a[6],surface:a[7],level:a[8],projection:"orthographic",orientation:"",topology:Jt.TOPOLOGY,overlayType:"default",showGridPoints:!1},(a[9]??"").split("/").forEach(function(c){(i=/^(\w+)(=([\d\-.,]*))?$/.exec(c))?e.has(i[1])&&(o.projection=i[1],o.orientation=i[3]??""):(i=/^overlay=(\w+)$/.exec(c))?(r.has(i[1])||i[1]==="default")&&(o.overlayType=i[1]):(i=/^grid=(\w+)$/.exec(c))&&i[1]==="on"&&(o.showGridPoints=!0)})}return o}static buildConfiguration(n,e){const r=Jt.parse("",n,e);return r.projection="orthographic",r.orientation="0,0,0",r.overlayType="default",r.showGridPoints=!1,r.topology=Jt.TOPOLOGY,r}};At(Jt,"",2*Math.PI),At(Jt,"H",36e-6),At(Jt,"DEFAULT_CONFIG","current/wind/surface/level/orthographic"),At(Jt,"TOPOLOGY",Jt.isMobile()?"/data/earth-topo-mobile.json?v2":"/data/earth-topo.json?v2");let _t=Jt;class Ht{static currentPosition(){return[_t.floorMod(new Date().getTimezoneOffset()/4,360),0]}static ensureNumber(n,e){return Number.isFinite(n)||n===1/0||n===-1/0?n:e}static clampedBounds(n,e){var r=n[0],i=n[1],o=Math.max(Math.floor(Ht.ensureNumber(r[0],0)),0),a=Math.max(Math.floor(Ht.ensureNumber(r[1],0)),0),u=Math.min(Math.ceil(Ht.ensureNumber(i[0],e.width)),e.width-1),s=Math.min(Math.ceil(Ht.ensureNumber(i[1],e.height)),e.height-1);return{x:o,y:a,xMax:u,yMax:s,width:u-o+1,height:s-a+1}}static standardGlobe(){return{projection:null,newProjection:function(n){throw new Error("method must be overridden")},bounds:function(n){return Ht.clampedBounds(Dr().projection(this.projection).bounds({type:"Sphere"}),n)},fit:function(n){var e=this.newProjection(n),r=Dr().projection(e).bounds({type:"Sphere"}),i=(r[1][0]-r[0][0])/e.scale(),o=(r[1][1]-r[0][1])/e.scale();return Math.min(n.width/i,n.height/o)*.9},center:function(n){return[n.width/2,n.height/2]},scaleExtent:function(){return[25,3e3]},orientation:function(n,e){const r=this.projection;if(!r)return"0,0,1";const i=r.rotate();if(n!=null&&n!==void 0){const o=n.split(","),a=+o[0],u=+o[1],s=+o[2],c=this.scaleExtent();return r.rotate(Number.isFinite(a)&&Number.isFinite(u)?[-a,-u,i[2]]:this.newProjection(e).rotate()),r.scale(Number.isFinite(s)?_t.clamp(s,c[0],c[1]):this.fit(e)),r.translate(this.center(e)),this}return[(-i[0]).toFixed(2),(-i[1]).toFixed(2),Math.round(r.scale())].join(",")},manipulator:function(n,e){const r=this.projection;if(!r)return{move:function(){},end:function(){}};const i=60/e,o=[r.rotate()[0]/i,-r.rotate()[1]/i],a=r.precision();return r.precision(a*10),{move:function(u,s){if(u){const c=u[0]-n[0]+o[0],f=u[1]-n[1]+o[1];r.rotate([c*i,-f*i,r.rotate()[2]])}r.scale(s)},end:function(){r.precision(a)}}},locate:function(n){return null},defineMask:function(n){return Dr().projection(this.projection).context(n)({type:"Sphere"}),n},defineMap:function(n,e){var r=Dr().projection(this.projection),i=n.append("defs");i.append("path").attr("id","sphere").datum({type:"Sphere"}).attr("d",r),n.append("use").attr("xlink:href","#sphere").attr("class","background-sphere");const o=zr(),a=zr().step([90,90]);n.append("path").attr("class","graticule").datum(o).attr("d",r),n.append("path").attr("class","hemisphere").datum(a).attr("d",r),n.append("path").attr("class","coastline"),n.append("path").attr("class","lakes"),e.append("use").attr("xlink:href","#sphere").attr("class","foreground-sphere")}}}static newGlobe(n,e){const r=Object.assign(Ht.standardGlobe(),n);return r.projection=r.newProjection(e),r}static atlantis(){return Ht.newGlobe({newProjection:function(){return B6().rotate([30,-45,90]).precision(.1)}},_t.view())}static azimuthal_equidistant(){return Ht.newGlobe({newProjection:function(){return y5().precision(.1).rotate([0,-90]).clipAngle(180-.001)}},_t.view())}static conic_equidistant(){return Ht.newGlobe({newProjection:function(){const n=Ht.currentPosition();return M5().rotate([n[0],n[1],0]).precision(.1)},center:function(n){return[n.width/2,n.height/2+n.height*.065]}},_t.view())}static equirectangular(){return Ht.newGlobe({newProjection:function(){const n=Ht.currentPosition();return id().rotate([n[0],n[1],0]).precision(.1)}},_t.view())}static orthographic(){return Ht.newGlobe({newProjection:function(){const n=Ht.currentPosition();return sd().rotate([n[0],n[1],0]).precision(.1).clipAngle(90)},defineMap:function(n,e){const r=this.projection;if(!r)return;const i=Dr().projection(r),o=n.append("defs"),a=o.append("radialGradient").attr("id","orthographic-fill").attr("gradientUnits","objectBoundingBox").attr("cx","50%").attr("cy","49%").attr("r","50%");a.append("stop").attr("stop-color","#303030").attr("offset","69%"),a.append("stop").attr("stop-color","#202020").attr("offset","91%"),a.append("stop").attr("stop-color","#000005").attr("offset","96%"),o.append("path").attr("id","sphere").datum({type:"Sphere"}).attr("d",i),n.append("use").attr("xlink:href","#sphere").attr("fill","url(#orthographic-fill)"),n.append("path").attr("class","graticule").datum(zr()).attr("d",i),n.append("path").attr("class","hemisphere").datum(zr().step([90,90])).attr("d",i),n.append("path").attr("class","coastline"),n.append("path").attr("class","lakes"),e.append("use").attr("xlink:href","#sphere").attr("class","foreground-sphere")},locate:function(n){const e=this.projection;if(!e)return null;const r=e.rotate();return[-n[0],-n[1],r[2]]}},_t.view())}static stereographic(){return Ht.newGlobe({newProjection:function(n){return x5().rotate([-43,-20]).precision(1).clipAngle(180-1e-4).clipExtent([[0,0],[n.width,n.height]])}},_t.view())}static waterman(){return Ht.newGlobe({newProjection:function(){return w8().rotate([20,0]).precision(.1)},defineMap:function(n,e){const r=this.projection;if(!r)return;const i=Dr().projection(r),o=n.append("defs");o.append("path").attr("id","sphere").datum({type:"Sphere"}).attr("d",i),o.append("clipPath").attr("id","clip").append("use").attr("xlink:href","#sphere"),n.append("use").attr("xlink:href","#sphere").attr("class","background-sphere");const a=zr();zr().step([90,90]),n.append("path").attr("class","graticule").attr("clip-path","url(#clip)").datum(a).attr("d",i),n.append("path").attr("class","coastline").attr("clip-path","url(#clip)"),n.append("path").attr("class","lakes").attr("clip-path","url(#clip)"),e.append("use").attr("xlink:href","#sphere").attr("class","foreground-sphere")}},_t.view())}static winkel3(){return Ht.newGlobe({newProjection:function(){return k8().precision(.1)}},_t.view())}static get(n){return{atlantis:Ht.atlantis,azimuthal_equidistant:Ht.azimuthal_equidistant,conic_equidistant:Ht.conic_equidistant,equirectangular:Ht.equirectangular,orthographic:Ht.orthographic,stereographic:Ht.stereographic,waterman:Ht.waterman,winkel3:Ht.winkel3}[n]}static keys(){return["atlantis","azimuthal_equidistant","conic_equidistant","equirectangular","orthographic","stereographic","waterman","winkel3"]}}const J=class J{static matches(n){return function(e){for(const r in n)if(e[r]!==n[r])return!1;return!0}}static sortedIndex(n,e){let r=0,i=n.length;for(;r<i;){const o=Math.floor((r+i)/2);n[o]<e?r=o+1:i=o}return r}static buildProduct(n){return Object.assign({description:"",paths:[],date:null,navigate:function(r){if(!this.date)throw new Error("Date not set");return J.gfsStep(this.date,r)},load:function(r){const i=this;if(!this.builder)throw new Error("Builder not set");return Promise.all(this.paths.map(_t.loadJson)).then(function(o){return r.requested?null:Object.assign(i,J.buildGrid(Function.prototype.apply.call(i.builder,i,o)))})},builder:function(){throw new Error("Builder not implemented")}},n)}static gfs1p0degPath(n,e,r,i){const o=n.date,u=[o==="current"?"current":n.hour,e,r,i,"gfs","1.0"].filter(s=>s!=null).join("-")+".json";return[J.WEATHER_PATH,o,u].join("/")}static gfsDate(n){if(n.date==="current"){const r=new Date(Date.now()),i=Math.floor(r.getUTCHours()/3);return new Date(Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),i))}const e=n.date.split("/");return new Date(Date.UTC(+e[0],e[1]-1,+e[2],+n.hour.substr(0,2)))}static gfsStep(n,e){const r=(e>1?8:e<-1?-8:e)*3,i=new Date(n);return i.setHours(i.getHours()+r),i}static netcdfHeader(n,e,r,i){return{lo1:r.sequence.start,la1:e.sequence.start,dx:r.sequence.delta,dy:-e.sequence.delta,nx:r.sequence.size,ny:e.sequence.size,refTime:n.data[0],forecastTime:0,centerName:i}}static describeSurface(n){return n.surface==="surface"?"Surface":n.level.charAt(0).toUpperCase()+n.level.slice(1)}static describeSurfaceJa(n){return n.surface==="surface"?"":n.level.charAt(0).toUpperCase()+n.level.slice(1)}static localize(n){return function(e){const r={};return Object.entries(n).forEach(([i,o])=>{r[i]=o[e]||o.en||o}),r}}static dataSource(n){switch(n.center||n.centerName){case-3:return"OSCAR / Earth & Space Research";case 7:case"US National Weather Service, National Centres for Environmental Prediction (NCEP)":return"GFS / NCEP / US National Weather Service";default:return n.centerName||""}}static buildGrid(n){const e=n.header,r=e.lo1,i=e.la1,o=e.dx,a=e.dy,u=e.nx,s=e.ny,c=new Date(e.refTime);c.setHours(c.getHours()+e.forecastTime);const f=[];let h=0;const l=Math.floor(u*o)>=360;for(let g=0;g<s;g++){const p=[];for(let v=0;v<u;v++,h++)p[v]=n.data(h);l&&p.push(p[0]),f[g]=p}function d(g,p){const v=_t.floorMod(g-r,360)/o,m=(i-p)/a,w=Math.floor(v),_=w+1,y=Math.floor(m),M=y+1;let x;if(x=f[y]){const T=x[w],N=x[_];if(T!=null&&N!=null&&(x=f[M])){const C=x[w],I=x[_];if(C!=null&&I!=null)return n.interpolate(v-w,m-y,T,N,C,I)}}return null}return{source:J.dataSource(e),date:c,interpolate:d,forEachPoint:function(g){for(let p=0;p<s;p++){const v=f[p]||[];for(let m=0;m<u;m++)g(_t.floorMod(180+r+m*o,360)-180,i-p*a,v[m])}}}}static bilinearInterpolateScalar(n,e,r,i,o,a){const u=1-n,s=1-e;return r*u*s+i*n*s+o*u*e+a*n*e}static bilinearInterpolateVector(n,e,r,i,o,a){const u=1-n,s=1-e,c=u*s,f=n*s,h=u*e,l=n*e,d=r[0]*c+i[0]*f+o[0]*h+a[0]*l,g=r[1]*c+i[1]*f+o[1]*h+a[1]*l,p=Math.sqrt(d*d+g*g);return(p>50||Math.abs(d)>50||Math.abs(g)>50)&&console.log("[BILINEAR] EXTREME INTERPOLATION:",{x:n,y:e,corners:{g00:r,g10:i,g01:o,g11:a},weights:{a:c,b:f,c:h,d:l},result:[d,g,p]}),[d,g,p]}static lookupOscar(n,e,r){const i=r||0;if(e==="current")return n[n.length-1+i];const o=_t.ymdRedelimit(e,"/","");let a=J.sortedIndex(n,o);return a=(n[a]||"").indexOf(o)===0?a:a-1,n[a+i]}static oscar0p33Path(n,e){const r=J.lookupOscar(n,e.date);return r?[J.OSCAR_PATH,r].join("/"):null}static oscarDate(n,e){const r=J.lookupOscar(n,e.date),i=r?_t.ymdRedelimit(r,"","/").split("/"):null;return i?new Date(Date.UTC(parseInt(i[0]),parseInt(i[1])-1,parseInt(i[2]),0)):null}static oscarStep(n,e,r){const i=J.lookupOscar(n,_t.dateToUTCymd(e,"/"),r>1?6:r<-1?-6:r),o=i?_t.ymdRedelimit(i,"","/").split("/"):null;return o?new Date(Date.UTC(parseInt(o[0]),parseInt(o[1])-1,parseInt(o[2]),0)):null}static createWindProduct(n){return J.buildProduct({field:"vector",type:"wind",description:J.localize({name:{en:"Wind",ja:""},qualifier:{en:" @ "+J.describeSurface(n),ja:" @ "+J.describeSurfaceJa(n)}}),paths:[J.gfs1p0degPath(n,"wind",n.surface,n.level)],date:J.gfsDate(n),builder:function(e){const r=e[0].data,i=e[1].data;return{header:e[0].header,interpolate:J.bilinearInterpolateVector,data:function(o){return[r[o],i[o]]}}},units:[{label:"km/h",conversion:function(e){return e*3.6},precision:0},{label:"m/s",conversion:function(e){return e},precision:1},{label:"kn",conversion:function(e){return e*1.943844},precision:0},{label:"mph",conversion:function(e){return e*2.236936},precision:0}],scale:{bounds:[0,100],gradient:function(e,r){return _t.extendedSinebowColor(Math.min(e,100)/100,r)}},particles:{velocityScale:1/6e4,maxIntensity:17}})}static createTempProduct(n){return J.buildProduct({field:"scalar",type:"temp",description:J.localize({name:{en:"Temp",ja:""},qualifier:{en:" @ "+J.describeSurface(n),ja:" @ "+J.describeSurfaceJa(n)}}),paths:[J.gfs1p0degPath(n,"temp",n.surface,n.level)],date:J.gfsDate(n),builder:function(e){const r=e[0],i=r.data;return{header:r.header,interpolate:J.bilinearInterpolateScalar,data:function(o){return i[o]}}},units:[{label:"C",conversion:function(e){return e-273.15},precision:1},{label:"F",conversion:function(e){return e*9/5-459.67},precision:1},{label:"K",conversion:function(e){return e},precision:1}],scale:{bounds:[193,328],gradient:_t.segmentedColorScale([[193,[37,4,42]],[206,[41,10,130]],[219,[81,40,40]],[233.15,[192,37,149]],[255.372,[70,215,215]],[273.15,[21,84,187]],[275.15,[24,132,14]],[291,[247,251,59]],[298,[235,167,21]],[311,[230,71,39]],[328,[88,27,67]]])}})}static createRelativeHumidityProduct(n){return J.buildProduct({field:"scalar",type:"relative_humidity",description:J.localize({name:{en:"Relative Humidity",ja:""},qualifier:{en:" @ "+J.describeSurface(n),ja:" @ "+J.describeSurfaceJa(n)}}),paths:[J.gfs1p0degPath(n,"relative_humidity",n.surface,n.level)],date:J.gfsDate(n),builder:function(e){const r=e.variables,o=(r.Relative_humidity_isobaric||r.Relative_humidity_height_above_ground).data;return{header:J.netcdfHeader(r.time,r.lat,r.lon,e.Originating_or_generating_Center),interpolate:J.bilinearInterpolateScalar,data:function(a){return o[a]}}},units:[{label:"%",conversion:function(e){return e},precision:0}],scale:{bounds:[0,100],gradient:function(e,r){return _t.sinebowColor(Math.min(e,100)/100,r)}}})}static createAirDensityProduct(n){return J.buildProduct({field:"scalar",type:"air_density",description:J.localize({name:{en:"Air Density",ja:""},qualifier:{en:" @ "+J.describeSurface(n),ja:" @ "+J.describeSurfaceJa(n)}}),paths:[J.gfs1p0degPath(n,"air_density",n.surface,n.level)],date:J.gfsDate(n),builder:function(e){const r=e.variables,i=r.air_density,o=i.data;return{header:J.netcdfHeader(r.time,r.lat,r.lon,e.Originating_or_generating_Center),interpolate:J.bilinearInterpolateScalar,data:function(a){return o[a]}}},units:[{label:"kg/m",conversion:function(e){return e},precision:2}],scale:{bounds:[0,1.5],gradient:function(e,r){return _t.sinebowColor(Math.min(e,1.5)/1.5,r)}}})}static createWindPowerDensityProduct(n){const e=J.createWindProduct(n),r=J.createAirDensityProduct(n);return J.buildProduct({field:"scalar",type:"wind_power_density",description:J.localize({name:{en:"Wind Power Density",ja:""},qualifier:{en:" @ "+J.describeSurface(n),ja:" @ "+J.describeSurfaceJa(n)}}),paths:[e.paths[0],r.paths[0]],date:J.gfsDate(n),builder:function(i,o){const a=e.builder(i),u=r.builder(o),s=a.data,c=a.interpolate,f=u.data,h=u.interpolate;return{header:{...u.header},interpolate:function(l,d,g,p,v,m){const w=c(l,d,g[0],p[0],v[0],m[0])[2];return .5*h(l,d,g[1],p[1],v[1],m[1])*w*w*w},data:function(l){return[s(l),f(l)]}}}})}static createTotalCloudWaterProduct(n){return J.buildProduct({field:"scalar",type:"total_cloud_water",description:J.localize({name:{en:"Total Cloud Water",ja:""},qualifier:""}),paths:[J.gfs1p0degPath(n,"total_cloud_water")],date:J.gfsDate(n),builder:function(e){const r=e[0],i=r.data;return{header:r.header,interpolate:J.bilinearInterpolateScalar,data:function(o){return i[o]}}},units:[{label:"kg/m",conversion:function(e){return e},precision:3}],scale:{bounds:[0,1],gradient:_t.segmentedColorScale([[0,[5,5,89]],[.2,[170,170,230]],[1,[255,255,255]]])}})}static createTotalPrecipitableWaterProduct(n){return J.buildProduct({field:"scalar",type:"total_precipitable_water",description:J.localize({name:{en:"Total Precipitable Water",ja:""},qualifier:""}),paths:[J.gfs1p0degPath(n,"total_precipitable_water")],date:J.gfsDate(n),builder:function(e){const r=e[0],i=r.data;return{header:r.header,interpolate:J.bilinearInterpolateScalar,data:function(o){return i[o]}}},units:[{label:"kg/m",conversion:function(e){return e},precision:3}],scale:{bounds:[0,70],gradient:_t.segmentedColorScale([[0,[230,165,30]],[10,[120,100,95]],[20,[40,44,92]],[30,[21,13,193]],[40,[75,63,235]],[60,[25,255,255]],[70,[150,255,255]]])}})}static createMeanSeaLevelPressureProduct(n){return J.buildProduct({field:"scalar",type:"mean_sea_level_pressure",description:J.localize({name:{en:"Mean Sea Level Pressure",ja:""},qualifier:""}),paths:[J.gfs1p0degPath(n,"mean_sea_level_pressure")],date:J.gfsDate(n),builder:function(e){const r=e[0],i=r.data;return{header:r.header,interpolate:J.bilinearInterpolateScalar,data:function(o){return i[o]}}},units:[{label:"hPa",conversion:function(e){return e/100},precision:0},{label:"mmHg",conversion:function(e){return e/133.322387415},precision:0},{label:"inHg",conversion:function(e){return e/3386.389},precision:1}],scale:{bounds:[92e3,105e3],gradient:_t.segmentedColorScale([[92e3,[40,0,0]],[95e3,[187,60,31]],[96500,[137,32,30]],[98e3,[16,1,43]],[100500,[36,1,93]],[101300,[241,254,18]],[103e3,[228,246,223]],[105e3,[255,255,255]]])}})}static async createCurrentsProduct(n){return Promise.resolve(J.catalogs.oscar).then(function(e){const r=J.oscar0p33Path(e,n);if(!r)throw new Error("Could not find OSCAR data path");const i=J.oscarDate(e,n);if(!i)throw new Error("Could not determine OSCAR data date");return J.buildProduct({field:"vector",type:"currents",description:J.localize({name:{en:"Ocean Currents",ja:""},qualifier:{en:" @ Surface",ja:" @ "}}),paths:[r],date:i,navigate:function(o){const a=J.oscarStep(e,this.date,o);if(!a)throw new Error("Could not navigate to next OSCAR data");return a},builder:function(o){const a=o[0].data,u=o[1].data;return{header:o[0].header,interpolate:J.bilinearInterpolateVector,data:function(s){const c=a[s],f=u[s];return c!=null&&f!=null?[c,f]:null}}},units:[{label:"m/s",conversion:function(o){return o},precision:2},{label:"km/h",conversion:function(o){return o*3.6},precision:1},{label:"kn",conversion:function(o){return o*1.943844},precision:1},{label:"mph",conversion:function(o){return o*2.236936},precision:1}],scale:{bounds:[0,1.5],gradient:_t.segmentedColorScale([[0,[10,25,68]],[.15,[10,25,250]],[.4,[24,255,93]],[.65,[255,233,102]],[1,[255,233,15]],[1.5,[255,15,15]]])},particles:{velocityScale:1/4400,maxIntensity:.7}})})}static productsFor(n){const e={...n},r=[];return J.matches({param:"wind"})(e)&&r.push(J.createWindProduct(e)),J.matches({param:"wind",overlayType:"temp"})(e)&&r.push(J.createTempProduct(e)),J.matches({param:"wind",overlayType:"relative_humidity"})(e)&&r.push(J.createRelativeHumidityProduct(e)),J.matches({param:"wind",overlayType:"air_density"})(e)&&r.push(J.createAirDensityProduct(e)),J.matches({param:"wind",overlayType:"wind_power_density"})(e)&&r.push(J.createWindPowerDensityProduct(e)),J.matches({param:"wind",overlayType:"total_cloud_water"})(e)&&r.push(J.createTotalCloudWaterProduct(e)),J.matches({param:"wind",overlayType:"total_precipitable_water"})(e)&&r.push(J.createTotalPrecipitableWaterProduct(e)),J.matches({param:"wind",overlayType:"mean_sea_level_pressure"})(e)&&r.push(J.createMeanSeaLevelPressureProduct(e)),J.matches({param:"ocean",surface:"surface",level:"currents"})(e)&&r.push(J.createCurrentsProduct(e)),J.matches({overlayType:"off"})(e)&&r.push(null),r.filter(i=>i!=null)}};At(J,"WEATHER_PATH","/data/weather"),At(J,"OSCAR_PATH","/data/oscar"),At(J,"catalogs",{oscar:_t.loadJson([J.OSCAR_PATH,"catalog.json"].join("/"))}),At(J,"overlayTypes",["default","air_density","wind_power_density","temp","relative_humidity","off"]);let Ys=J;class WO{constructor(n){At(this,"config");At(this,"onConfigChange");At(this,"onRender");this.config=n}setCallbacks(n,e){this.onConfigChange=n,this.onRender=e}setupMenuHandlers(){console.log("[MENU] Setting up menu handlers"),this.setupDateControls(),this.setupNavigationControls(),this.setupModeControls(),this.setupSurfaceControls(),this.setupOverlayControls(),this.setupProjectionControls(),this.setupGridControls(),this.setupLocationControls(),console.log("[MENU] Menu handlers setup complete")}setupDateControls(){rt("#toggle-zone").on("click",()=>{const n=rt("#data-date"),e=n.classed("local");n.classed("local",!e),this.updateDateDisplay()})}setupNavigationControls(){rt("#nav-now").on("click",()=>{console.log("[MENU] Navigate to current conditions"),this.config.date="current",this.config.hour="0000",this.triggerConfigChange()}),rt("#nav-backward").on("click",()=>{console.log("[MENU] Navigate backward"),this.navigateTime(-3)}),rt("#nav-backward-more").on("click",()=>{console.log("[MENU] Navigate backward more"),this.navigateTime(-24)}),rt("#nav-forward").on("click",()=>{console.log("[MENU] Navigate forward"),this.navigateTime(3)}),rt("#nav-forward-more").on("click",()=>{console.log("[MENU] Navigate forward more"),this.navigateTime(24)})}setupModeControls(){rt("#wind-mode-enable").on("click",()=>{console.log("[MENU] Switch to Air mode"),this.config.param="wind",this.updateModeDisplay("wind"),this.triggerConfigChange()}),rt("#ocean-mode-enable").on("click",()=>{console.log("[MENU] Switch to Ocean mode"),this.config.param="currents",this.updateModeDisplay("ocean"),this.triggerConfigChange()})}setupSurfaceControls(){rt("#surface-level").on("click",()=>{console.log("[MENU] Set surface level"),this.config.surface="surface",this.config.level="level",this.updateSurfaceDisplay("surface"),this.triggerConfigChange()}),["1000","850","700","500","250","70","10"].forEach(e=>{rt(`#isobaric-${e}hPa`).on("click",()=>{console.log(`[MENU] Set pressure level: ${e}hPa`),this.config.surface="isobaric",this.config.level=`${e}hPa`,this.updateSurfaceDisplay(e),this.triggerConfigChange()})})}setupOverlayControls(){rt("#overlay-off").on("click",()=>{console.log("[MENU] Set overlay: None"),this.config.overlayType="off",this.updateOverlayDisplay("off"),this.triggerConfigChange()}),rt("#overlay-ocean-off").on("click",()=>{console.log("[MENU] Set ocean overlay: None"),this.config.overlayType="off",this.updateOverlayDisplay("off"),this.triggerConfigChange()}),["wind","temp","relative_humidity","air_density","wind_power_density","total_precipitable_water","total_cloud_water","mean_sea_level_pressure"].forEach(e=>{rt(`#overlay-${e}`).on("click",()=>{console.log(`[MENU] Set overlay: ${e}`),this.config.overlayType=e,this.updateOverlayDisplay(e),this.triggerConfigChange()})}),rt("#overlay-currents").on("click",()=>{console.log("[MENU] Set overlay: currents"),this.config.overlayType="currents",this.updateOverlayDisplay("currents"),this.triggerConfigChange()}),rt("#animate-currents").on("click",()=>{console.log("[MENU] Toggle currents animation"),this.config.param="currents",this.triggerConfigChange()})}setupProjectionControls(){["azimuthal_equidistant","conic_equidistant","equirectangular","orthographic","stereographic","atlantis","waterman","winkel3"].forEach(e=>{rt(`#${e}`).on("click",()=>{console.log(`[MENU] Set projection: ${e}`),this.config.projection=e,this.updateProjectionDisplay(e),this.triggerConfigChange()})})}setupGridControls(){rt("#option-show-grid").on("click",()=>{console.log("[MENU] Toggle grid display"),this.config.showGridPoints=!this.config.showGridPoints,this.updateGridDisplay(),this.triggerRender()})}setupLocationControls(){rt("#location-close").on("click",()=>{console.log("[MENU] Close location display"),rt("#location").classed("invisible",!0),rt("#location-close").classed("invisible",!0)}),rt("#location-wind-units").on("click",()=>{console.log("[MENU] Toggle wind units");const n=this.config.windUnits||"m/s",e=["m/s","km/h","kn","mph"],i=(e.indexOf(n)+1)%e.length;this.config.windUnits=e[i],this.updateWindUnitsDisplay()}),rt("#location-value-units").on("click",()=>{console.log("[MENU] Toggle value units"),this.updateValueUnitsDisplay()})}navigateTime(n){console.log(`[MENU] Navigate time by ${n} hours`),this.triggerConfigChange()}updateModeDisplay(n){li(".wind-mode").classed("invisible",n!=="wind"),li(".ocean-mode").classed("invisible",n!=="ocean"),rt("#wind-mode-enable").classed("highlighted",n==="wind"),rt("#ocean-mode-enable").classed("highlighted",n==="ocean")}updateSurfaceDisplay(n){li(".surface").classed("highlighted",!1),n==="surface"?rt("#surface-level").classed("highlighted",!0):rt(`#isobaric-${n}hPa`).classed("highlighted",!0)}updateOverlayDisplay(n){li("[id^='overlay-']").classed("highlighted",!1),n==="off"?(rt("#overlay-off").classed("highlighted",!0),rt("#overlay-ocean-off").classed("highlighted",!0)):rt(`#overlay-${n}`).classed("highlighted",!0)}updateProjectionDisplay(n){li(".proj").classed("highlighted",!1),rt(`#${n}`).classed("highlighted",!0)}updateGridDisplay(){rt("#option-show-grid").classed("highlighted",this.config.showGridPoints)}updateDateDisplay(){const e=rt("#data-date").classed("local");rt("#toggle-zone").text(e?"UTC":"Local")}updateWindUnitsDisplay(){const n=this.config.windUnits||"m/s";rt("#location-wind-units").text(n)}updateValueUnitsDisplay(){}triggerConfigChange(){this.onConfigChange&&this.onConfigChange()}triggerRender(){this.onRender&&this.onRender()}updateMenuState(){var r;console.log("[MENU] Updating menu state");const n=this.config.param==="currents"?"ocean":"wind";if(this.updateModeDisplay(n),this.config.surface==="surface")this.updateSurfaceDisplay("surface");else{const i=(r=this.config.level)==null?void 0:r.replace("hPa","");i&&this.updateSurfaceDisplay(i)}this.updateOverlayDisplay(this.config.overlayType||"off");const e=this.config.projection||"orthographic";this.updateProjectionDisplay(e),this.updateGridDisplay(),this.updateDateDisplay(),this.updateWindUnitsDisplay(),this.updateValueUnitsDisplay()}}const ec=100,XO=7,ZO=.75,KO=10;function sr(t,n,e){console.log(`[${t}] ${n}`)}class QO{constructor(n,e,r,i,o){At(this,"field",null);At(this,"particles",[]);At(this,"colorStyles",null);At(this,"buckets",[]);At(this,"config");At(this,"products",[]);At(this,"globe",null);At(this,"events",{});this.config=n,this.globe=e,this.products=o;const a=this.products.find(u=>u&&u.field==="vector");a&&this.initialize(a,e,r,i)}on(n,e){this.events[n]=e}emit(n,...e){const r=this.events[n];r&&r(...e)}initialize(n,e,r,i){var l,d,g;sr("PARTICLES","Creating particle system from wind data");const o=e.bounds(i),a=o.height*(((l=n.particles)==null?void 0:l.velocityScale)||1/6e4);sr("PARTICLES",`Bounds: x=${o.x}, y=${o.y}, width=${o.width}, height=${o.height}`),sr("PARTICLES",`Velocity scale: ${a}`);const u=[],s=[];let c=0,f=0,h=0;for(let p=o.x;p<=o.xMax;p+=2){const v=[];for(let m=o.y;m<=o.yMax;m+=2){c++;let w=[NaN,NaN,null];if(r.isVisible(p,m)){f++;const _=(g=(d=e.projection)==null?void 0:d.invert)==null?void 0:g.call(d,[p,m]);if(_){const y=_[0],M=_[1];if(isFinite(y)){const x=n.interpolate(y,M);if(x&&x[0]!=null&&x[1]!=null){h++;const T=x[0]*a,N=x[1]*a;if(e.projection){const C=_t.distortion(e.projection,y,M,p,m);w=[C[0]*T+C[2]*N,C[1]*T+C[3]*N,x[2]],s.push([p,m])}}}}}v[m+1]=v[m]=w}u[p+1]=u[p]=v}sr("PARTICLES",`Pixel statistics: total=${c}, visible=${f}, withWindData=${h}`),sr("PARTICLES",`Valid positions for particles: ${s.length}`),this.field=this.createField(u,o,s),this.colorStyles=n.particles?_t.windIntensityColorScale(KO,n.particles.maxIntensity):null,this.buckets=this.colorStyles?this.colorStyles.map(()=>[]):[],this.initializeParticles(o),sr("PARTICLES",`Created ${this.particles.length} particles`)}createField(n,e,r){const i=[NaN,NaN,null];function o(a,u){const s=n[Math.round(a)];return s&&s[Math.round(u)]||i}return o.randomize=()=>{if(r.length===0)return sr("PARTICLES","ERROR: No valid positions available for particle spawning!"),{x:e.x,y:e.y,age:Math.random()*ec};const a=Math.floor(Math.random()*r.length),[u,s]=r[a];return{x:u,y:s,age:Math.random()*ec}},o.isDefined=function(a,u){return o(a,u)[2]!==null},o}initializeParticles(n){let e=Math.round(n.width*XO);_t.isMobile()&&(e*=ZO),this.particles=[];for(let r=0;r<e;r++){const i=this.field.randomize();this.particles.push({age:i.age,x:i.x,y:i.y})}}evolveParticles(){!this.field||!this.colorStyles||(this.buckets.forEach(n=>{n.length=0}),this.particles.forEach(n=>{if(n.age>ec){const e=this.field.randomize();n.x=e.x,n.y=e.y,n.age=e.age}else{const e=n.x,r=n.y,i=this.field(e,r),o=i[2];if(o===null)n.age=ec;else{const a=e+i[0],u=r+i[1];this.field.isDefined(a,u)?(n.xt=a,n.yt=u,this.buckets[this.colorStyles.indexFor(o)].push(n)):(n.x=a,n.y=u)}}n.age+=1}),this.emit("particlesEvolved",this.buckets,this.colorStyles,this.globe))}reportStatus(n){sr("PARTICLES",`Status: ${n}`)}reportProgress(n){sr("PARTICLES",`Progress: ${(n*100).toFixed(1)}%`)}getParticles(){return this.particles}getBuckets(){return this.buckets}getColorStyles(){return this.colorStyles}getField(){return this.field}}class JO{constructor(){At(this,"operation",null);At(this,"globe",null);At(this,"events",{});this.setupInput()}setGlobe(n){this.globe=n}on(n,e){this.events[n]=e}emit(n,...e){const r=this.events[n];r&&r(...e)}setupInput(){const n=rt("#display");if(n.empty()){console.warn("InputHandler: #display element not found");return}const e=R6().scaleExtent([50,3e3]).on("start",r=>this.handleZoomStart(r)).on("zoom",r=>this.handleZoom(r)).on("end",r=>this.handleZoomEnd(r));n.call(e),rt("#show-menu").on("click",()=>{_t.isEmbeddedInIFrame()?window.open("http://earth.nullschool.net/"+window.location.hash,"_blank"):rt("#menu").classed("invisible",!rt("#menu").classed("invisible"))}),rt("#show-location").on("click",()=>{this.handleLocationRequest()})}handleZoomStart(n){if(!this.globe)return;const e=Un(n,n.target),r=n.transform.k;this.operation={type:"click",startMouse:e,startScale:r,manipulator:this.globe.manipulator(e,r)},this.emit("zoomStart",n)}handleZoom(n){if(!this.operation)return;const e=Un(n,n.target),r=n.transform.k,i=_t.distance(e,this.operation.startMouse);r!==this.operation.startScale?this.operation.type="zoom":i>4&&(this.operation.type="drag"),this.operation.manipulator&&this.operation.manipulator.move(this.operation.type==="zoom"?null:e,r),this.emit("zoom",n)}handleZoomEnd(n){this.operation&&(this.operation.manipulator&&this.operation.manipulator.end(),this.operation.type==="click"&&this.handleClick(),this.operation.type,this.operation=null,this.emit("zoomEnd",n))}handleClick(){var n,e;if(!(!((e=(n=this.globe)==null?void 0:n.projection)!=null&&e.invert)||!this.operation))try{const r=this.globe.projection.invert(this.operation.startMouse);this.emit("click",this.operation.startMouse,r)}catch(r){console.error("InputHandler: Error handling click",r),this.emit("click",this.operation.startMouse,null)}}handleLocationRequest(){if(!navigator.geolocation){this.emit("locationError",{code:2,message:"Geolocation not available"});return}this.emit("locationRequest"),navigator.geolocation.getCurrentPosition(n=>this.handleLocationFound(n),n=>this.emit("locationError",n))}handleLocationFound(n){const e=[n.coords.longitude,n.coords.latitude];this.emit("locationFound",e)}}function yn(t,n,e){console.log(`[RENDER-SYSTEM] ${t}: ${n}`,e||"")}const Sm=1;class jO{constructor(n){At(this,"display");At(this,"canvas",null);At(this,"context",null);At(this,"overlayCanvas",null);At(this,"overlayContext",null);At(this,"scaleCanvas",null);At(this,"scaleContext",null);this.display=n,yn("INIT","RenderSystem initialized",{width:n.width,height:n.height})}setupCanvases(){yn("SETUP","Setting up canvases"),this.canvas=rt("#animation").node(),this.canvas&&(this.context=this.canvas.getContext("2d"),this.canvas.width=this.display.width,this.canvas.height=this.display.height,this.context&&(this.context.lineWidth=Sm,this.context.fillStyle=_t.isFF()?"rgba(0, 0, 0, 0.95)":"rgba(0, 0, 0, 0.97)"),yn("SETUP","Animation canvas initialized")),this.overlayCanvas=rt("#overlay").node(),this.overlayCanvas&&(this.overlayContext=this.overlayCanvas.getContext("2d"),this.overlayCanvas.width=this.display.width,this.overlayCanvas.height=this.display.height,yn("SETUP","Overlay canvas initialized",{width:this.display.width,height:this.display.height})),this.scaleCanvas=rt("#scale").node(),this.scaleCanvas&&(this.scaleContext=this.scaleCanvas.getContext("2d"),yn("SETUP","Scale canvas initialized"))}clearAnimationCanvas(){this.context&&(yn("CLEAR","Clearing animation canvas"),this.context.clearRect(0,0,this.display.width,this.display.height))}renderFrame(n){if(yn("FRAME","Rendering frame"),!n.globe||!n.mesh){yn("FRAME","Cannot render - missing globe or mesh");return}try{this.renderMap(n.globe,n.mesh),this.renderOverlay(n),yn("FRAME","Frame render completed")}catch(e){throw yn("FRAME","Frame render failed",e),e}}renderMap(n,e){yn("MAP","Rendering SVG map");const r=rt("#map").node(),i=rt("#foreground").node();r&&r.replaceChildren(),i&&i.replaceChildren();const o=rt("#map"),a=rt("#foreground");n.defineMap(o,a);const u=Dr(n.projection);o.select(".coastline").datum(e.coastLo).attr("d",u),o.select(".lakes").datum(e.lakesLo).attr("d",u),yn("MAP","SVG map rendered")}renderOverlay(n){if(yn("OVERLAY","Rendering overlay",{overlayType:n.overlayType}),!this.overlayContext){yn("OVERLAY","No overlay context available");return}_t.clearCanvas(this.overlayCanvas),this.scaleCanvas&&_t.clearCanvas(this.scaleCanvas),n.overlayType&&n.overlayType!=="off"&&(n.overlayData&&(yn("OVERLAY","Putting overlay imageData"),this.overlayContext.putImageData(n.overlayData,0,0)),n.overlayGrid&&this.drawColorScale(n.overlayGrid))}drawParticles(n,e,r){if(!this.context||!e)return;const i=r.bounds({width:this.display.width,height:this.display.height});if(!i)return;const o=this.context.globalCompositeOperation;this.context.globalCompositeOperation="destination-in",this.context.fillRect(i.x,i.y,i.width,i.height),this.context.globalCompositeOperation=o,this.context.lineWidth=Sm,n.forEach((a,u)=>{a.length>0&&(this.context.beginPath(),this.context.strokeStyle=e[u],a.forEach(s=>{s.xt!==void 0&&s.yt!==void 0&&(this.context.moveTo(s.x,s.y),this.context.lineTo(s.xt,s.yt),s.x=s.xt,s.y=s.yt,delete s.xt,delete s.yt)}),this.context.stroke())})}drawColorScale(n){if(!this.scaleContext||!n.scale)return;const e=this.scaleCanvas,r=this.scaleContext,i=n.scale,o=i.bounds;if(!o)return;const a=e.width-1;for(let u=0;u<=a;u++){const s=_t.spread(u/a,o[0],o[1]),c=i.gradient(s,1);r.fillStyle=`rgb(${c[0]},${c[1]},${c[2]})`,r.fillRect(u,0,1,e.height)}yn("SCALE","Drew color scale",{bounds:o,width:e.width,height:e.height})}drawLocationMark(n,e){yn("LOCATION","Drawing location mark",{point:n,coord:e});const r=rt("#foreground");r.selectAll(".location-mark").remove(),r.append("circle").attr("class","location-mark").attr("cx",n[0]).attr("cy",n[1]).attr("r",5).style("fill","red").style("stroke","white").style("stroke-width",2)}isReady(){return!!(this.context&&this.overlayContext&&this.scaleContext)}updateDisplay(n){this.display=n,this.canvas&&(this.canvas.width=n.width,this.canvas.height=n.height),this.overlayCanvas&&(this.overlayCanvas.width=n.width,this.overlayCanvas.height=n.height),yn("UPDATE","Display updated",{width:n.width,height:n.height})}}function f0(t,n,e){console.log(`[${t}] ${n}`,"")}const tF=Math.floor(.4*255);class nF{generateOverlay(n,e,r,i,o){var d,g;if(!n||!o||o==="off")return{imageData:null,overlayType:o};f0("GENERATE",`Generating ${o} overlay`);const a=e.bounds(i),u=document.createElement("canvas");u.width=i.width,u.height=i.height;const s=u.getContext("2d");if(!s)return f0("GENERATE","Failed to create canvas context"),{imageData:null,overlayType:o};const c=s.createImageData(i.width,i.height),f=c.data;let h=0,l=0;for(let p=a.x;p<=a.xMax;p+=2)for(let v=a.y;v<=a.yMax;v+=2)if(h++,r.isVisible(p,v)){const m=(g=(d=e.projection)==null?void 0:d.invert)==null?void 0:g.call(d,[p,v]);if(m){const w=m[0],_=m[1];if(isFinite(w)){const y=n.interpolate(w,_);if(y!=null&&n.scale){const M=n.scale.gradient(y,tF);this.setPixelColor(f,i.width,p,v,M),this.setPixelColor(f,i.width,p+1,v,M),this.setPixelColor(f,i.width,p,v+1,M),this.setPixelColor(f,i.width,p+1,v+1,M),l++}}}}return f0("GENERATE",`Overlay generated: ${l} pixels with data out of ${h} processed`),{imageData:c,overlayType:o}}setPixelColor(n,e,r,i,o){if(r>=0&&r<e&&i>=0){const a=(Math.floor(i)*e+Math.floor(r))*4;n[a]=o[0]||0,n[a+1]=o[1]||0,n[a+2]=o[2]||0,n[a+3]=o[3]||0}}}function mt(t,n,e){console.log(`[EARTH-MODERN] ${t}: ${n}`,e||"")}const eF=40;class rF{constructor(){At(this,"config");At(this,"display");At(this,"globe",null);At(this,"mesh",null);At(this,"products",[]);At(this,"menuSystem");At(this,"particleSystem",null);At(this,"overlaySystem");At(this,"inputHandler");At(this,"renderSystem");At(this,"animationId",null);At(this,"overlayGrid",null);mt("APP","Initializing EarthModernApp"),this.config=_t.buildConfiguration(Ht.keys(),Ys.overlayTypes),this.config.param="wind",this.config.surface="surface",this.config.level="level",this.config.date="current",this.config.hour="0000",this.config.overlayType="off";const n=_t.view();this.display={width:n.width,height:n.height,projection:null,orientation:[0,0,0]},this.menuSystem=new WO(this.config),this.inputHandler=new JO,this.setupInputEventHandlers(),this.renderSystem=new jO(this.display),this.overlaySystem=new nF,mt("APP","App initialized",{config:this.config,display:this.display})}async start(){mt("APP","Starting application");try{if(this.setupUI(),this.setupMenuSystem(),await this.loadProducts(),await this.loadMesh(),this.createGlobe(),this.globe){const n=this.createMask(),e={width:this.display.width,height:this.display.height};this.particleSystem=new QO(this.config,this.globe,n,e,this.products),this.particleSystem.on("particlesEvolved",(r,i,o)=>{this.renderSystem.drawParticles(r,i,o)})}this.renderSystem.setupCanvases(),this.render(),this.particleSystem&&this.config.animate!==!1&&this.startAnimation(),this.reportStatus("Ready"),mt("APP","Application started successfully")}catch(n){throw mt("APP","Failed to start application",n),this.reportError(n),n}}reportStatus(n){mt("APP",`Status: ${n}`),rt("#status").text(n)}reportError(n){mt("APP",`Error: ${n.message}`,n),rt("#status").classed("bad",!0).text(n.message)}reportProgress(n){mt("APP",`Progress: ${(n*100).toFixed(1)}%`);const e=22;if(0<=n&&n<1){const r="".repeat(Math.ceil(n*e)),i="".repeat(e-Math.ceil(n*e));rt("#progress").classed("invisible",!1).text(r+i)}else rt("#progress").classed("invisible",!0).text("")}setupUI(){mt("APP","Setting up UI"),li(".fill-screen").attr("width",this.display.width).attr("height",this.display.height),_t.isFF()&&rt("#display").classed("firefox",!0),"ontouchstart"in document.documentElement?rt(document).on("touchstart",function(){}):rt(document.documentElement).classed("no-touch",!0),_t.isEmbeddedInIFrame()&&rt("#sponsor-link").attr("target","_new")}setupInputEventHandlers(){mt("APP","Setting up input event handlers"),this.inputHandler.on("zoomStart",n=>this.handleZoomStart(n)),this.inputHandler.on("zoom",n=>this.handleZoom(n)),this.inputHandler.on("zoomEnd",n=>this.handleZoomEnd(n)),this.inputHandler.on("click",(n,e)=>this.handleClickFromInput(n,e)),this.inputHandler.on("locationFound",n=>this.handleLocationFoundFromInput(n)),this.inputHandler.on("locationError",n=>this.handleLocationError(n))}setupMenuSystem(){mt("APP","Setting up menu system"),this.menuSystem.setCallbacks(()=>this.handleConfigChange(),()=>this.render()),this.menuSystem.setupMenuHandlers(),this.menuSystem.updateMenuState(),mt("APP","Menu system setup complete")}handleConfigChange(){mt("APP","Configuration changed",this.config),this.createGlobe(),this.render(),this.reinitializeAfterGlobeChange("config change"),this.menuSystem.updateMenuState()}handleZoomStart(n){mt("INPUT","Zoom start - stopping animation and clearing canvas"),this.stopAnimation(),this.clearCanvas()}handleZoom(n){var e;mt("INPUT","Zoom in progress - updating display projection and rendering"),(e=this.globe)!=null&&e.projection&&(this.display.projection=this.globe.projection),this.render()}handleZoomEnd(n){mt("INPUT","Zoom end - updating configuration and restarting animation"),this.updateConfigurationFromGlobe(),this.reinitializeAfterGlobeChange("zoom end")}handleClickFromInput(n,e){e&&(mt("INPUT","Clicked coordinates",e),this.drawLocationMark(n,e))}handleLocationFoundFromInput(n){if(mt("INPUT","Location found",n),!this.globe)return;const e=this.globe.locate(n);e&&this.globe.projection&&(this.globe.projection.rotate(e),this.display.projection=this.globe.projection,this.display.orientation=e,this.render(),this.updateConfigurationFromGlobe()),this.reportStatus("Ready")}handleLocationError(n){mt("INPUT","Geolocation error",n),this.reportError(new Error("Unable to find your location"))}reinitializeAfterGlobeChange(n){if(mt("APP",`Reinitializing after ${n}`),this.stopAnimation(),this.clearCanvas(),this.particleSystem&&this.globe){const e=this.createMask(),r={width:this.display.width,height:this.display.height};try{const i=this.products.find(o=>o&&o.field==="vector");i&&this.particleSystem.initialize(i,this.globe,e,r),this.config.animate!==!1&&this.startAnimation()}catch(i){mt("APP",`Failed to reinitialize after ${n}`,i)}}}async loadMesh(){mt("APP","Loading mesh data"),this.reportStatus("Loading map data...");try{const n=_t.isMobile()?"/data/earth-topo-mobile.json?v2":"/data/earth-topo.json?v2",e=await _t.loadJson(n),r=e.objects;this.mesh={coastLo:window.topojson.feature(e,_t.isMobile()?r.coastline_tiny:r.coastline_110m),coastHi:window.topojson.feature(e,_t.isMobile()?r.coastline_110m:r.coastline_50m),lakesLo:window.topojson.feature(e,_t.isMobile()?r.lakes_tiny:r.lakes_110m),lakesHi:window.topojson.feature(e,_t.isMobile()?r.lakes_110m:r.lakes_50m)},this.reportProgress(.33),mt("APP","Mesh loaded successfully")}catch(n){throw mt("APP","Failed to load mesh",n),new Error("Failed to load map data")}}createGlobe(){mt("APP","Creating globe"),this.reportStatus("Building globe...");try{const n=this.config.projection||"orthographic",e=Ht.get(n);if(!e)throw new Error(`Unknown projection: ${n}`);const r={width:this.display.width,height:this.display.height};this.globe=e(),this.globe.projection&&(this.display.projection=this.globe.projection);const i=this.config.orientation;if(i&&this.globe){this.globe.orientation(i,r);const o=i.split(",").map(Number);this.display.orientation=[o[0]||0,o[1]||0,o[2]||0]}this.reportProgress(.67),mt("APP","Globe created successfully"),this.inputHandler.setGlobe(this.globe)}catch(n){throw mt("APP","Failed to create globe",n),n}}render(){var n;if(mt("RENDER","Rendering"),!this.globe||!this.mesh){mt("RENDER","Cannot render - missing globe or mesh");return}try{const e=(n=this.particleSystem)==null?void 0:n.getField(),r=this.config.overlayType&&this.config.overlayType!=="off"?this.products.find(s=>s&&s.field==="scalar"&&s.type===this.config.overlayType):null,i=this.createMask(),o={width:this.display.width,height:this.display.height},a=this.overlaySystem.generateOverlay(r,this.globe,i,o,this.config.overlayType),u={globe:this.globe,mesh:this.mesh,field:e,overlayGrid:this.overlayGrid,overlayType:this.config.overlayType,overlayData:a.imageData};this.renderSystem.renderFrame(u),mt("RENDER","Render completed")}catch(e){mt("RENDER","Render failed",e)}}clearCanvas(){this.renderSystem.clearAnimationCanvas()}startAnimation(){var e;mt("ANIMATION","Starting animation");const n=(e=this.particleSystem)==null?void 0:e.getField();this.animationId||!n||!this.renderSystem.isReady()||this.animate()}stopAnimation(){mt("ANIMATION","Stopping animation"),this.animationId&&(clearTimeout(this.animationId),this.animationId=null)}animate(){try{if(!this.particleSystem)return;this.particleSystem.evolveParticles(),this.animationId=setTimeout(()=>{this.animationId&&this.animate()},eF)}catch(n){mt("ANIMATION","Animation error",n),this.stopAnimation()}}drawLocationMark(n,e){this.renderSystem.drawLocationMark(n,e)}updateConfigurationFromGlobe(){if(!this.globe)return;const n=this.globe.orientation();if(typeof n=="string"){this.config.orientation=n;const e=n.split(",").map(Number);this.display.orientation=[e[0]||0,e[1]||0,e[2]||0]}}createMask(){if(!this.globe)return null;mt("MASK","Creating visibility mask");const n=document.createElement("canvas");n.width=this.display.width,n.height=this.display.height;const e=n.getContext("2d");if(!e)return null;const r=this.globe.defineMask(e);if(!r)return mt("MASK","Globe.defineMask returned null"),null;r.fillStyle="rgba(255, 0, 0, 1)",r.fill();const i=r.getImageData(0,0,this.display.width,this.display.height),o=i.data;let a=0;for(let s=3;s<o.length;s+=4)o[s]>0&&a++;return mt("MASK",`Mask created: ${a} visible pixels out of ${this.display.width*this.display.height}`),{imageData:i,isVisible:(s,c)=>{if(s<0||s>=this.display.width||c<0||c>=this.display.height)return!1;const f=(Math.floor(c)*this.display.width+Math.floor(s))*4;return o[f+3]>0}}}async loadProducts(){mt("APP","Loading products"),this.reportStatus("Loading weather data...");try{mt("APP","Calling products.productsFor with config:",this.config);const n=Ys.productsFor(this.config);if(mt("APP","Product promises received:",n.length),this.products=await Promise.all(n.filter(e=>e!==null)),mt("APP","Products resolved:",this.products.length),this.products.length>0){mt("APP","Loading product data...");for(const e of this.products)e&&e.load&&(mt("APP","Loading product:",e.type||"unknown"),await e.load({requested:!1}),mt("APP","Product loaded successfully:",e.type||"unknown"))}else mt("APP","No products found to load");this.reportProgress(1),mt("APP","Products loaded successfully",this.products.length)}catch(n){mt("APP","Failed to load products",n),this.products=[]}}}async function Em(){mt("MAIN","Starting Earth Modern application");try{await new rF().start(),mt("MAIN","Application started successfully"),console.log("Earth Modern: Application started successfully")}catch(t){mt("MAIN","Failed to start application",t),console.error("Earth Modern: Failed to start application:",t)}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Em):Em();
